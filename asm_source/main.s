# 1 "main.S"
# 1 "/home/filipang/Work/Assembly/game4x/asm_source//"
# 1 "<built-in>"
# 1 "<command-line>"
# 31 "<command-line>"
# 1 "/usr/include/stdio.h" 1
# 27 "/usr/include/stdio.h"
# 1 "/usr/include/x86_64-linux-gnu/bits/libc-header-start.h" 1 3 4
# 33 "/usr/include/x86_64-linux-gnu/bits/libc-header-start.h" 3 4
# 1 "/usr/include/features.h" 1 3 4
# 439 "/usr/include/features.h" 3 4
# 1 "/usr/include/stdc-predef.h" 1 3 4
# 440 "/usr/include/features.h" 2 3 4
# 485 "/usr/include/features.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/gnu/stubs.h" 1 3 4
# 10 "/usr/include/x86_64-linux-gnu/gnu/stubs.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/gnu/stubs-64.h" 1 3 4
# 11 "/usr/include/x86_64-linux-gnu/gnu/stubs.h" 2 3 4
# 486 "/usr/include/features.h" 2 3 4
# 34 "/usr/include/x86_64-linux-gnu/bits/libc-header-start.h" 2 3 4
# 28 "/usr/include/stdio.h" 2





# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 1 3 4
# 209 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 3 4

# 34 "/usr/include/stdio.h" 2


# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stdarg.h" 1 3 4
# 40 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stdarg.h" 3 4

# 37 "/usr/include/stdio.h" 2

# 1 "/usr/include/x86_64-linux-gnu/bits/types.h" 1 3 4
# 27 "/usr/include/x86_64-linux-gnu/bits/types.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/wordsize.h" 1 3 4
# 28 "/usr/include/x86_64-linux-gnu/bits/types.h" 2 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/timesize.h" 1 3 4
# 29 "/usr/include/x86_64-linux-gnu/bits/types.h" 2 3 4













































# 141 "/usr/include/x86_64-linux-gnu/bits/types.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/typesizes.h" 1 3 4
# 142 "/usr/include/x86_64-linux-gnu/bits/types.h" 2 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/time64.h" 1 3 4
# 143 "/usr/include/x86_64-linux-gnu/bits/types.h" 2 3 4








































































# 39 "/usr/include/stdio.h" 2
# 1 "/usr/include/x86_64-linux-gnu/bits/types/__fpos_t.h" 1 3 4




# 1 "/usr/include/x86_64-linux-gnu/bits/types/__mbstate_t.h" 1 3 4
# 13 "/usr/include/x86_64-linux-gnu/bits/types/__mbstate_t.h" 3 4


 
 
 
   
   
 

# 6 "/usr/include/x86_64-linux-gnu/bits/types/__fpos_t.h" 2 3 4






 
 

# 40 "/usr/include/stdio.h" 2
# 1 "/usr/include/x86_64-linux-gnu/bits/types/__fpos64_t.h" 1 3 4
# 10 "/usr/include/x86_64-linux-gnu/bits/types/__fpos64_t.h" 3 4


 
 

# 41 "/usr/include/stdio.h" 2
# 1 "/usr/include/x86_64-linux-gnu/bits/types/__FILE.h" 1 3 4





# 42 "/usr/include/stdio.h" 2
# 1 "/usr/include/x86_64-linux-gnu/bits/types/FILE.h" 1 3 4







# 43 "/usr/include/stdio.h" 2
# 1 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h" 1 3 4
# 35 "/usr/include/x86_64-linux-gnu/bits/types/struct_FILE.h" 3 4
















 


 
 
 
 
 
 
 
 


 
 
 

 

 

 
 
 


 
 
 

 







 

 
 
 
 
 
 

 

# 44 "/usr/include/stdio.h" 2
# 52 "/usr/include/stdio.h"

# 63 "/usr/include/stdio.h"

# 77 "/usr/include/stdio.h"








# 133 "/usr/include/stdio.h"
# 1 "/usr/include/x86_64-linux-gnu/bits/stdio_lim.h" 1 3 4
# 134 "/usr/include/stdio.h" 2



















      
# 173 "/usr/include/stdio.h"

# 187 "/usr/include/stdio.h"






# 204 "/usr/include/stdio.h"

    













# 227 "/usr/include/stdio.h"

# 246 "/usr/include/stdio.h"

     





       
       
# 279 "/usr/include/stdio.h"

# 292 "/usr/include/stdio.h"

 















     





        











     







     






      







      




      
    


       
    
# 379 "/usr/include/stdio.h"

      
    

    








    







    
# 416 "/usr/include/stdio.h"

      


      
# 432 "/usr/include/stdio.h"

     
    






    



     
    
# 465 "/usr/include/stdio.h"

       
       

      

       
       
# 485 "/usr/include/stdio.h"
















# 510 "/usr/include/stdio.h"

# 521 "/usr/include/stdio.h"








# 537 "/usr/include/stdio.h"




























    
# 577 "/usr/include/stdio.h"

# 603 "/usr/include/stdio.h"

                            
                            

                          
                          








                         
                         




























      





       
# 673 "/usr/include/stdio.h"

        

         


















# 707 "/usr/include/stdio.h"






# 731 "/usr/include/stdio.h"






# 757 "/usr/include/stdio.h"
























# 1 "/usr/include/x86_64-linux-gnu/bits/sys_errlist.h" 1 3 4
# 26 "/usr/include/x86_64-linux-gnu/bits/sys_errlist.h" 3 4


# 782 "/usr/include/stdio.h" 2










# 800 "/usr/include/stdio.h"













# 840 "/usr/include/stdio.h"








# 858 "/usr/include/stdio.h"


# 873 "/usr/include/stdio.h"

# 32 "<command-line>" 2
# 1 "/usr/include/GLFW/glfw3.h" 1
# 103 "/usr/include/GLFW/glfw3.h"
# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 1 3 4
# 143 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 3 4

# 321 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 3 4

# 104 "/usr/include/GLFW/glfw3.h" 2




# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stdint.h" 1 3 4
# 9 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stdint.h" 3 4
# 1 "/usr/include/stdint.h" 1 3 4
# 26 "/usr/include/stdint.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/libc-header-start.h" 1 3 4
# 27 "/usr/include/stdint.h" 2 3 4

# 1 "/usr/include/x86_64-linux-gnu/bits/wchar.h" 1 3 4
# 29 "/usr/include/stdint.h" 2 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/wordsize.h" 1 3 4
# 30 "/usr/include/stdint.h" 2 3 4




# 1 "/usr/include/x86_64-linux-gnu/bits/stdint-intn.h" 1 3 4
# 24 "/usr/include/x86_64-linux-gnu/bits/stdint-intn.h" 3 4




# 35 "/usr/include/stdint.h" 2 3 4


# 1 "/usr/include/x86_64-linux-gnu/bits/stdint-uintn.h" 1 3 4
# 24 "/usr/include/x86_64-linux-gnu/bits/stdint-uintn.h" 3 4




# 38 "/usr/include/stdint.h" 2 3 4

























# 71 "/usr/include/stdint.h" 3 4





# 87 "/usr/include/stdint.h" 3 4




# 101 "/usr/include/stdint.h" 3 4


# 10 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stdint.h" 2 3 4
# 109 "/usr/include/GLFW/glfw3.h" 2
# 210 "/usr/include/GLFW/glfw3.h"
# 1 "/usr/include/GL/gl.h" 1 3 4
# 116 "/usr/include/GL/gl.h" 3 4















# 743 "/usr/include/GL/gl.h" 3 4

























































































































                                
                                


                                  
                                  


                                   














                                  

                                  

























                                    















































































                                  

                                  

                                  

                                  

                                  

                                   

                                   

                                   














































































































                                      


                                      


                                     


                                     


                                        










                                     


                                          










                                

                                


                                   

                                   






























                                   

                                    

                                    






                               
                               
                               


                                   
                                   
                                   


                                   
                                   


                                   
                                   














































                                         

                                         


                                          

                                          


                                               

                                               



                                   
                                   
                                   
                                   


                                   
                                   
                                   
                                   


                                    
                                    











                                           
                                           


                                                 
                                                 





                                      
                                      
                                      



                                      
                                      
                                      
                                      



                                       
                                       
                                       



                                       
                                       
                                       
                                       



                                          
                                          



                                          
                                          
                                          







                              
                              

                              
                              


      
      
      

      
      
      





















                                  

                                  








































# 1488 "/usr/include/GL/gl.h" 3 4




                                     
                                     
                                     
                                     
                                     


                                        
                                        
                                        
                                        
                                        


                                            
                                            
                                            
                                            





# 1598 "/usr/include/GL/gl.h" 3 4

                                   
                                   


                                      
                                      
                                      


                                             


                                             


                                          


                                       


                                      


                                                 


                                                 




                                   


      




         
         


      


      


   




                                  
                                  


          


          











































# 1818 "/usr/include/GL/gl.h" 3 4







































































































# 1966 "/usr/include/GL/gl.h" 3 4





































































# 2050 "/usr/include/GL/gl.h" 3 4
# 1 "/usr/include/GL/glext.h" 1 3 4
# 56 "/usr/include/GL/glext.h" 3 4
# 1 "/usr/include/KHR/khrplatform.h" 1 3 4
# 150 "/usr/include/KHR/khrplatform.h" 3 4




# 228 "/usr/include/KHR/khrplatform.h" 3 4




# 244 "/usr/include/KHR/khrplatform.h" 3 4











# 267 "/usr/include/KHR/khrplatform.h" 3 4


# 284 "/usr/include/KHR/khrplatform.h" 3 4

   
   
   

# 57 "/usr/include/GL/glext.h" 2 3 4
# 369 "/usr/include/GL/glext.h" 3 4















































# 469 "/usr/include/GL/glext.h" 3 4


# 521 "/usr/include/GL/glext.h" 3 4



















# 565 "/usr/include/GL/glext.h" 3 4

# 650 "/usr/include/GL/glext.h" 3 4





























































































# 865 "/usr/include/GL/glext.h" 3 4






# 883 "/usr/include/GL/glext.h" 3 4

# 1121 "/usr/include/GL/glext.h" 3 4




















































































# 1356 "/usr/include/GL/glext.h" 3 4












# 1386 "/usr/include/GL/glext.h" 3 4



# 1453 "/usr/include/GL/glext.h" 3 4



















# 1513 "/usr/include/GL/glext.h" 3 4


























































# 1712 "/usr/include/GL/glext.h" 3 4














































# 1845 "/usr/include/GL/glext.h" 3 4
























































































# 2139 "/usr/include/GL/glext.h" 3 4












# 2169 "/usr/include/GL/glext.h" 3 4

# 2429 "/usr/include/GL/glext.h" 3 4











































# 2540 "/usr/include/GL/glext.h" 3 4









# 2586 "/usr/include/GL/glext.h" 3 4


























































































































# 2858 "/usr/include/GL/glext.h" 3 4




# 2883 "/usr/include/GL/glext.h" 3 4

# 2903 "/usr/include/GL/glext.h" 3 4


















# 2951 "/usr/include/GL/glext.h" 3 4





# 2980 "/usr/include/GL/glext.h" 3 4

# 3004 "/usr/include/GL/glext.h" 3 4

# 3032 "/usr/include/GL/glext.h" 3 4

# 3055 "/usr/include/GL/glext.h" 3 4




# 3111 "/usr/include/GL/glext.h" 3 4












# 3141 "/usr/include/GL/glext.h" 3 4


# 3249 "/usr/include/GL/glext.h" 3 4



















# 3338 "/usr/include/GL/glext.h" 3 4




# 3362 "/usr/include/GL/glext.h" 3 4

# 3385 "/usr/include/GL/glext.h" 3 4




































# 3463 "/usr/include/GL/glext.h" 3 4

# 3609 "/usr/include/GL/glext.h" 3 4


# 3620 "/usr/include/GL/glext.h" 3 4

# 3678 "/usr/include/GL/glext.h" 3 4





# 3711 "/usr/include/GL/glext.h" 3 4

# 3833 "/usr/include/GL/glext.h" 3 4








# 3861 "/usr/include/GL/glext.h" 3 4

# 3895 "/usr/include/GL/glext.h" 3 4


# 3942 "/usr/include/GL/glext.h" 3 4




















# 4000 "/usr/include/GL/glext.h" 3 4



# 4014 "/usr/include/GL/glext.h" 3 4

# 4077 "/usr/include/GL/glext.h" 3 4



# 4114 "/usr/include/GL/glext.h" 3 4







































# 4238 "/usr/include/GL/glext.h" 3 4






# 4274 "/usr/include/GL/glext.h" 3 4



# 4297 "/usr/include/GL/glext.h" 3 4

# 4343 "/usr/include/GL/glext.h" 3 4

# 4370 "/usr/include/GL/glext.h" 3 4







# 4597 "/usr/include/GL/glext.h" 3 4




# 4673 "/usr/include/GL/glext.h" 3 4










# 4699 "/usr/include/GL/glext.h" 3 4


# 4732 "/usr/include/GL/glext.h" 3 4











# 4776 "/usr/include/GL/glext.h" 3 4











































# 4875 "/usr/include/GL/glext.h" 3 4



# 4899 "/usr/include/GL/glext.h" 3 4
















# 4952 "/usr/include/GL/glext.h" 3 4

# 4980 "/usr/include/GL/glext.h" 3 4

# 5053 "/usr/include/GL/glext.h" 3 4






















# 5117 "/usr/include/GL/glext.h" 3 4









































































































# 5331 "/usr/include/GL/glext.h" 3 4

# 5345 "/usr/include/GL/glext.h" 3 4






# 5371 "/usr/include/GL/glext.h" 3 4

# 5395 "/usr/include/GL/glext.h" 3 4

# 5410 "/usr/include/GL/glext.h" 3 4




# 5430 "/usr/include/GL/glext.h" 3 4




# 5450 "/usr/include/GL/glext.h" 3 4


# 5464 "/usr/include/GL/glext.h" 3 4




# 5503 "/usr/include/GL/glext.h" 3 4

# 5528 "/usr/include/GL/glext.h" 3 4


































# 5604 "/usr/include/GL/glext.h" 3 4










# 5627 "/usr/include/GL/glext.h" 3 4



# 5645 "/usr/include/GL/glext.h" 3 4

# 5660 "/usr/include/GL/glext.h" 3 4











# 5700 "/usr/include/GL/glext.h" 3 4

# 5749 "/usr/include/GL/glext.h" 3 4


# 5763 "/usr/include/GL/glext.h" 3 4

# 5799 "/usr/include/GL/glext.h" 3 4


# 5826 "/usr/include/GL/glext.h" 3 4





# 5844 "/usr/include/GL/glext.h" 3 4








# 5886 "/usr/include/GL/glext.h" 3 4


# 5902 "/usr/include/GL/glext.h" 3 4



# 5939 "/usr/include/GL/glext.h" 3 4


# 5955 "/usr/include/GL/glext.h" 3 4




# 5974 "/usr/include/GL/glext.h" 3 4



# 5996 "/usr/include/GL/glext.h" 3 4







# 6038 "/usr/include/GL/glext.h" 3 4

# 6049 "/usr/include/GL/glext.h" 3 4



# 6069 "/usr/include/GL/glext.h" 3 4




# 6187 "/usr/include/GL/glext.h" 3 4














# 6221 "/usr/include/GL/glext.h" 3 4


# 6253 "/usr/include/GL/glext.h" 3 4


# 6267 "/usr/include/GL/glext.h" 3 4


# 6319 "/usr/include/GL/glext.h" 3 4












# 6349 "/usr/include/GL/glext.h" 3 4



# 6371 "/usr/include/GL/glext.h" 3 4













































# 6475 "/usr/include/GL/glext.h" 3 4



# 6503 "/usr/include/GL/glext.h" 3 4



# 6520 "/usr/include/GL/glext.h" 3 4

# 6530 "/usr/include/GL/glext.h" 3 4

# 6542 "/usr/include/GL/glext.h" 3 4

# 6558 "/usr/include/GL/glext.h" 3 4

# 6585 "/usr/include/GL/glext.h" 3 4


# 6597 "/usr/include/GL/glext.h" 3 4


# 6627 "/usr/include/GL/glext.h" 3 4













# 6673 "/usr/include/GL/glext.h" 3 4






















# 6723 "/usr/include/GL/glext.h" 3 4





# 6742 "/usr/include/GL/glext.h" 3 4


# 6758 "/usr/include/GL/glext.h" 3 4


# 6768 "/usr/include/GL/glext.h" 3 4



# 6782 "/usr/include/GL/glext.h" 3 4

# 6793 "/usr/include/GL/glext.h" 3 4































































































































































































































































# 7309 "/usr/include/GL/glext.h" 3 4










# 7329 "/usr/include/GL/glext.h" 3 4











# 7356 "/usr/include/GL/glext.h" 3 4





# 7376 "/usr/include/GL/glext.h" 3 4

# 7387 "/usr/include/GL/glext.h" 3 4

# 7452 "/usr/include/GL/glext.h" 3 4

















# 7518 "/usr/include/GL/glext.h" 3 4










# 7564 "/usr/include/GL/glext.h" 3 4











# 7606 "/usr/include/GL/glext.h" 3 4










# 7647 "/usr/include/GL/glext.h" 3 4

# 7658 "/usr/include/GL/glext.h" 3 4

# 7679 "/usr/include/GL/glext.h" 3 4



# 7702 "/usr/include/GL/glext.h" 3 4



















# 7747 "/usr/include/GL/glext.h" 3 4

# 7764 "/usr/include/GL/glext.h" 3 4


# 7778 "/usr/include/GL/glext.h" 3 4


# 7805 "/usr/include/GL/glext.h" 3 4


# 7858 "/usr/include/GL/glext.h" 3 4




# 7889 "/usr/include/GL/glext.h" 3 4






# 7915 "/usr/include/GL/glext.h" 3 4


# 7928 "/usr/include/GL/glext.h" 3 4

# 7937 "/usr/include/GL/glext.h" 3 4

# 7953 "/usr/include/GL/glext.h" 3 4

# 7967 "/usr/include/GL/glext.h" 3 4

# 7987 "/usr/include/GL/glext.h" 3 4

















# 8036 "/usr/include/GL/glext.h" 3 4







# 8056 "/usr/include/GL/glext.h" 3 4

# 8066 "/usr/include/GL/glext.h" 3 4


# 8077 "/usr/include/GL/glext.h" 3 4



# 8101 "/usr/include/GL/glext.h" 3 4

# 8168 "/usr/include/GL/glext.h" 3 4


# 8197 "/usr/include/GL/glext.h" 3 4

# 8207 "/usr/include/GL/glext.h" 3 4

# 8221 "/usr/include/GL/glext.h" 3 4


# 8287 "/usr/include/GL/glext.h" 3 4


# 8305 "/usr/include/GL/glext.h" 3 4

# 8318 "/usr/include/GL/glext.h" 3 4

# 8460 "/usr/include/GL/glext.h" 3 4






# 8497 "/usr/include/GL/glext.h" 3 4






# 8517 "/usr/include/GL/glext.h" 3 4

# 8598 "/usr/include/GL/glext.h" 3 4


# 8623 "/usr/include/GL/glext.h" 3 4







# 8675 "/usr/include/GL/glext.h" 3 4









# 8715 "/usr/include/GL/glext.h" 3 4










# 8851 "/usr/include/GL/glext.h" 3 4










































# 8954 "/usr/include/GL/glext.h" 3 4



# 8966 "/usr/include/GL/glext.h" 3 4


# 8982 "/usr/include/GL/glext.h" 3 4

# 8991 "/usr/include/GL/glext.h" 3 4

















# 9038 "/usr/include/GL/glext.h" 3 4






# 9074 "/usr/include/GL/glext.h" 3 4


# 9091 "/usr/include/GL/glext.h" 3 4

# 9120 "/usr/include/GL/glext.h" 3 4








# 9142 "/usr/include/GL/glext.h" 3 4

# 9181 "/usr/include/GL/glext.h" 3 4

# 9193 "/usr/include/GL/glext.h" 3 4



# 9210 "/usr/include/GL/glext.h" 3 4




# 9244 "/usr/include/GL/glext.h" 3 4










# 9281 "/usr/include/GL/glext.h" 3 4


# 9301 "/usr/include/GL/glext.h" 3 4

# 9320 "/usr/include/GL/glext.h" 3 4
























# 9385 "/usr/include/GL/glext.h" 3 4


# 9405 "/usr/include/GL/glext.h" 3 4






# 9425 "/usr/include/GL/glext.h" 3 4



# 9437 "/usr/include/GL/glext.h" 3 4




# 9455 "/usr/include/GL/glext.h" 3 4










# 9473 "/usr/include/GL/glext.h" 3 4


# 9483 "/usr/include/GL/glext.h" 3 4













# 9564 "/usr/include/GL/glext.h" 3 4


# 9590 "/usr/include/GL/glext.h" 3 4

# 9617 "/usr/include/GL/glext.h" 3 4

















# 9671 "/usr/include/GL/glext.h" 3 4


# 9685 "/usr/include/GL/glext.h" 3 4

# 9696 "/usr/include/GL/glext.h" 3 4

# 9712 "/usr/include/GL/glext.h" 3 4

# 9730 "/usr/include/GL/glext.h" 3 4

# 9748 "/usr/include/GL/glext.h" 3 4



# 9765 "/usr/include/GL/glext.h" 3 4














# 9814 "/usr/include/GL/glext.h" 3 4









# 9848 "/usr/include/GL/glext.h" 3 4



# 9863 "/usr/include/GL/glext.h" 3 4







# 9916 "/usr/include/GL/glext.h" 3 4

# 9930 "/usr/include/GL/glext.h" 3 4






# 9981 "/usr/include/GL/glext.h" 3 4



# 9997 "/usr/include/GL/glext.h" 3 4

# 10008 "/usr/include/GL/glext.h" 3 4



# 10033 "/usr/include/GL/glext.h" 3 4












# 10071 "/usr/include/GL/glext.h" 3 4
















# 10117 "/usr/include/GL/glext.h" 3 4


# 10135 "/usr/include/GL/glext.h" 3 4
















































# 10239 "/usr/include/GL/glext.h" 3 4

# 10263 "/usr/include/GL/glext.h" 3 4






# 10329 "/usr/include/GL/glext.h" 3 4




# 10356 "/usr/include/GL/glext.h" 3 4







# 10387 "/usr/include/GL/glext.h" 3 4



# 10566 "/usr/include/GL/glext.h" 3 4
































































# 10711 "/usr/include/GL/glext.h" 3 4


# 10724 "/usr/include/GL/glext.h" 3 4


# 10740 "/usr/include/GL/glext.h" 3 4






# 10760 "/usr/include/GL/glext.h" 3 4


# 10776 "/usr/include/GL/glext.h" 3 4











# 10845 "/usr/include/GL/glext.h" 3 4













# 10878 "/usr/include/GL/glext.h" 3 4


# 10906 "/usr/include/GL/glext.h" 3 4



# 10924 "/usr/include/GL/glext.h" 3 4


# 10957 "/usr/include/GL/glext.h" 3 4













# 11039 "/usr/include/GL/glext.h" 3 4







# 11085 "/usr/include/GL/glext.h" 3 4

# 11113 "/usr/include/GL/glext.h" 3 4






# 11277 "/usr/include/GL/glext.h" 3 4












# 11311 "/usr/include/GL/glext.h" 3 4







# 11338 "/usr/include/GL/glext.h" 3 4















# 11369 "/usr/include/GL/glext.h" 3 4

# 11382 "/usr/include/GL/glext.h" 3 4


# 11397 "/usr/include/GL/glext.h" 3 4



















# 11466 "/usr/include/GL/glext.h" 3 4












# 11579 "/usr/include/GL/glext.h" 3 4
































































# 11730 "/usr/include/GL/glext.h" 3 4























# 11811 "/usr/include/GL/glext.h" 3 4












# 11857 "/usr/include/GL/glext.h" 3 4

# 11891 "/usr/include/GL/glext.h" 3 4

# 11923 "/usr/include/GL/glext.h" 3 4

# 11981 "/usr/include/GL/glext.h" 3 4


# 11994 "/usr/include/GL/glext.h" 3 4


# 12026 "/usr/include/GL/glext.h" 3 4


# 12040 "/usr/include/GL/glext.h" 3 4






# 12074 "/usr/include/GL/glext.h" 3 4


# 12088 "/usr/include/GL/glext.h" 3 4


# 12108 "/usr/include/GL/glext.h" 3 4


# 12124 "/usr/include/GL/glext.h" 3 4

# 12139 "/usr/include/GL/glext.h" 3 4


# 12184 "/usr/include/GL/glext.h" 3 4






# 12261 "/usr/include/GL/glext.h" 3 4

# 12295 "/usr/include/GL/glext.h" 3 4


















# 12340 "/usr/include/GL/glext.h" 3 4









# 12358 "/usr/include/GL/glext.h" 3 4






# 12387 "/usr/include/GL/glext.h" 3 4






# 12407 "/usr/include/GL/glext.h" 3 4

# 12433 "/usr/include/GL/glext.h" 3 4




# 12449 "/usr/include/GL/glext.h" 3 4

# 12491 "/usr/include/GL/glext.h" 3 4




# 12514 "/usr/include/GL/glext.h" 3 4

# 12607 "/usr/include/GL/glext.h" 3 4







# 12635 "/usr/include/GL/glext.h" 3 4

# 12650 "/usr/include/GL/glext.h" 3 4








# 12674 "/usr/include/GL/glext.h" 3 4

# 12704 "/usr/include/GL/glext.h" 3 4







# 12724 "/usr/include/GL/glext.h" 3 4








































# 2051 "/usr/include/GL/gl.h" 2 3 4
# 2077 "/usr/include/GL/gl.h" 3 4


# 2094 "/usr/include/GL/gl.h" 3 4


# 211 "/usr/include/GLFW/glfw3.h" 2
# 1119 "/usr/include/GLFW/glfw3.h"

# 1133 "/usr/include/GLFW/glfw3.h"

# 1145 "/usr/include/GLFW/glfw3.h"

# 1157 "/usr/include/GLFW/glfw3.h"

# 1169 "/usr/include/GLFW/glfw3.h"

# 1193 "/usr/include/GLFW/glfw3.h"

# 1216 "/usr/include/GLFW/glfw3.h"

# 1238 "/usr/include/GLFW/glfw3.h"

# 1258 "/usr/include/GLFW/glfw3.h"

# 1278 "/usr/include/GLFW/glfw3.h"

# 1299 "/usr/include/GLFW/glfw3.h"

# 1320 "/usr/include/GLFW/glfw3.h"

# 1341 "/usr/include/GLFW/glfw3.h"

# 1362 "/usr/include/GLFW/glfw3.h"

# 1383 "/usr/include/GLFW/glfw3.h"

# 1409 "/usr/include/GLFW/glfw3.h"

# 1432 "/usr/include/GLFW/glfw3.h"

# 1453 "/usr/include/GLFW/glfw3.h"

# 1474 "/usr/include/GLFW/glfw3.h"

# 1500 "/usr/include/GLFW/glfw3.h"

# 1521 "/usr/include/GLFW/glfw3.h"

# 1548 "/usr/include/GLFW/glfw3.h"

# 1572 "/usr/include/GLFW/glfw3.h"

# 1593 "/usr/include/GLFW/glfw3.h"

# 1614 "/usr/include/GLFW/glfw3.h"

# 1629 "/usr/include/GLFW/glfw3.h"




   


   


   


   


   


   

# 1663 "/usr/include/GLFW/glfw3.h"




   


   


   


   

# 1692 "/usr/include/GLFW/glfw3.h"




   


   


   

# 1716 "/usr/include/GLFW/glfw3.h"





   



   

# 1765 "/usr/include/GLFW/glfw3.h"

# 1797 "/usr/include/GLFW/glfw3.h"

# 1829 "/usr/include/GLFW/glfw3.h"

# 1856 "/usr/include/GLFW/glfw3.h"

# 1887 "/usr/include/GLFW/glfw3.h"

# 1918 "/usr/include/GLFW/glfw3.h"

# 1964 "/usr/include/GLFW/glfw3.h"

# 1993 "/usr/include/GLFW/glfw3.h"

# 2017 "/usr/include/GLFW/glfw3.h"

# 2042 "/usr/include/GLFW/glfw3.h"

# 2073 "/usr/include/GLFW/glfw3.h"

# 2107 "/usr/include/GLFW/glfw3.h"

# 2139 "/usr/include/GLFW/glfw3.h"

# 2165 "/usr/include/GLFW/glfw3.h"

# 2191 "/usr/include/GLFW/glfw3.h"

# 2215 "/usr/include/GLFW/glfw3.h"

# 2245 "/usr/include/GLFW/glfw3.h"

# 2278 "/usr/include/GLFW/glfw3.h"

# 2306 "/usr/include/GLFW/glfw3.h"

# 2339 "/usr/include/GLFW/glfw3.h"

# 2369 "/usr/include/GLFW/glfw3.h"

# 2410 "/usr/include/GLFW/glfw3.h"

# 2429 "/usr/include/GLFW/glfw3.h"

# 2464 "/usr/include/GLFW/glfw3.h"

# 2502 "/usr/include/GLFW/glfw3.h"

# 2656 "/usr/include/GLFW/glfw3.h"

# 2685 "/usr/include/GLFW/glfw3.h"

# 2705 "/usr/include/GLFW/glfw3.h"

# 2727 "/usr/include/GLFW/glfw3.h"

# 2752 "/usr/include/GLFW/glfw3.h"

# 2799 "/usr/include/GLFW/glfw3.h"

# 2831 "/usr/include/GLFW/glfw3.h"

# 2866 "/usr/include/GLFW/glfw3.h"

# 2896 "/usr/include/GLFW/glfw3.h"

# 2939 "/usr/include/GLFW/glfw3.h"

# 2982 "/usr/include/GLFW/glfw3.h"

# 3023 "/usr/include/GLFW/glfw3.h"

# 3052 "/usr/include/GLFW/glfw3.h"

# 3089 "/usr/include/GLFW/glfw3.h"

# 3122 "/usr/include/GLFW/glfw3.h"

# 3149 "/usr/include/GLFW/glfw3.h"

# 3178 "/usr/include/GLFW/glfw3.h"

# 3209 "/usr/include/GLFW/glfw3.h"

# 3236 "/usr/include/GLFW/glfw3.h"

# 3261 "/usr/include/GLFW/glfw3.h"

# 3288 "/usr/include/GLFW/glfw3.h"

# 3310 "/usr/include/GLFW/glfw3.h"

# 3349 "/usr/include/GLFW/glfw3.h"

# 3376 "/usr/include/GLFW/glfw3.h"

# 3398 "/usr/include/GLFW/glfw3.h"

# 3457 "/usr/include/GLFW/glfw3.h"

# 3491 "/usr/include/GLFW/glfw3.h"

# 3528 "/usr/include/GLFW/glfw3.h"

# 3551 "/usr/include/GLFW/glfw3.h"

# 3572 "/usr/include/GLFW/glfw3.h"

# 3607 "/usr/include/GLFW/glfw3.h"

# 3639 "/usr/include/GLFW/glfw3.h"

# 3679 "/usr/include/GLFW/glfw3.h"

# 3715 "/usr/include/GLFW/glfw3.h"

# 3750 "/usr/include/GLFW/glfw3.h"

# 3783 "/usr/include/GLFW/glfw3.h"

# 3813 "/usr/include/GLFW/glfw3.h"

# 3843 "/usr/include/GLFW/glfw3.h"

# 3874 "/usr/include/GLFW/glfw3.h"

# 3912 "/usr/include/GLFW/glfw3.h"

# 3957 "/usr/include/GLFW/glfw3.h"

# 4006 "/usr/include/GLFW/glfw3.h"

# 4026 "/usr/include/GLFW/glfw3.h"

# 4051 "/usr/include/GLFW/glfw3.h"

# 4113 "/usr/include/GLFW/glfw3.h"

# 4142 "/usr/include/GLFW/glfw3.h"

# 4210 "/usr/include/GLFW/glfw3.h"

# 4234 "/usr/include/GLFW/glfw3.h"

# 4274 "/usr/include/GLFW/glfw3.h"

# 4303 "/usr/include/GLFW/glfw3.h"

# 4341 "/usr/include/GLFW/glfw3.h"

# 4381 "/usr/include/GLFW/glfw3.h"

# 4419 "/usr/include/GLFW/glfw3.h"

# 4442 "/usr/include/GLFW/glfw3.h"

# 4469 "/usr/include/GLFW/glfw3.h"

# 4496 "/usr/include/GLFW/glfw3.h"

# 4546 "/usr/include/GLFW/glfw3.h"

# 4589 "/usr/include/GLFW/glfw3.h"

# 4631 "/usr/include/GLFW/glfw3.h"

# 4668 "/usr/include/GLFW/glfw3.h"

# 4700 "/usr/include/GLFW/glfw3.h"

# 4731 "/usr/include/GLFW/glfw3.h"

# 4765 "/usr/include/GLFW/glfw3.h"

# 4802 "/usr/include/GLFW/glfw3.h"

# 4826 "/usr/include/GLFW/glfw3.h"

# 4859 "/usr/include/GLFW/glfw3.h"

# 4900 "/usr/include/GLFW/glfw3.h"

# 4957 "/usr/include/GLFW/glfw3.h"

# 4988 "/usr/include/GLFW/glfw3.h"

# 5029 "/usr/include/GLFW/glfw3.h"

# 5055 "/usr/include/GLFW/glfw3.h"

# 5079 "/usr/include/GLFW/glfw3.h"

# 5107 "/usr/include/GLFW/glfw3.h"

# 5143 "/usr/include/GLFW/glfw3.h"

# 5177 "/usr/include/GLFW/glfw3.h"

# 5207 "/usr/include/GLFW/glfw3.h"

# 5245 "/usr/include/GLFW/glfw3.h"

# 5270 "/usr/include/GLFW/glfw3.h"

# 5300 "/usr/include/GLFW/glfw3.h"

# 5330 "/usr/include/GLFW/glfw3.h"

# 5360 "/usr/include/GLFW/glfw3.h"

# 5382 "/usr/include/GLFW/glfw3.h"

# 5402 "/usr/include/GLFW/glfw3.h"

# 5440 "/usr/include/GLFW/glfw3.h"

# 5461 "/usr/include/GLFW/glfw3.h"

# 5495 "/usr/include/GLFW/glfw3.h"

# 5541 "/usr/include/GLFW/glfw3.h"

# 5579 "/usr/include/GLFW/glfw3.h"

# 5621 "/usr/include/GLFW/glfw3.h"

# 5649 "/usr/include/GLFW/glfw3.h"

# 5697 "/usr/include/GLFW/glfw3.h"

# 32 "<command-line>" 2
# 1 "/usr/include/freetype2/freetype/freetype.h" 1
# 23 "/usr/include/freetype2/freetype/freetype.h"
# 1 "/usr/include/freetype2/ft2build.h" 1
# 37 "/usr/include/freetype2/ft2build.h"
# 1 "/usr/include/freetype2/freetype/config/ftheader.h" 1
# 38 "/usr/include/freetype2/ft2build.h" 2
# 24 "/usr/include/freetype2/freetype/freetype.h" 2
# 1 "/usr/include/freetype2/freetype/config/ftconfig.h" 1
# 40 "/usr/include/freetype2/freetype/config/ftconfig.h"
# 1 "/usr/include/freetype2/freetype/config/ftoption.h" 1
# 26 "/usr/include/freetype2/freetype/config/ftoption.h"

# 992 "/usr/include/freetype2/freetype/config/ftoption.h"

# 41 "/usr/include/freetype2/freetype/config/ftconfig.h" 2
# 1 "/usr/include/freetype2/freetype/config/ftstdlib.h" 1
# 35 "/usr/include/freetype2/freetype/config/ftstdlib.h"
# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 1 3 4
# 36 "/usr/include/freetype2/freetype/config/ftstdlib.h" 2
# 59 "/usr/include/freetype2/freetype/config/ftstdlib.h"
# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/limits.h" 1 3 4
# 34 "/usr/lib/gcc/x86_64-linux-gnu/10/include/limits.h" 3 4
# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/syslimits.h" 1 3 4






# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/limits.h" 1 3 4
# 195 "/usr/lib/gcc/x86_64-linux-gnu/10/include/limits.h" 3 4
# 1 "/usr/include/limits.h" 1 3 4
# 26 "/usr/include/limits.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/libc-header-start.h" 1 3 4
# 27 "/usr/include/limits.h" 2 3 4
# 183 "/usr/include/limits.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/posix1_lim.h" 1 3 4
# 27 "/usr/include/x86_64-linux-gnu/bits/posix1_lim.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/wordsize.h" 1 3 4
# 28 "/usr/include/x86_64-linux-gnu/bits/posix1_lim.h" 2 3 4
# 161 "/usr/include/x86_64-linux-gnu/bits/posix1_lim.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/local_lim.h" 1 3 4
# 38 "/usr/include/x86_64-linux-gnu/bits/local_lim.h" 3 4
# 1 "/usr/include/linux/limits.h" 1 3 4
# 39 "/usr/include/x86_64-linux-gnu/bits/local_lim.h" 2 3 4
# 162 "/usr/include/x86_64-linux-gnu/bits/posix1_lim.h" 2 3 4
# 184 "/usr/include/limits.h" 2 3 4



# 1 "/usr/include/x86_64-linux-gnu/bits/posix2_lim.h" 1 3 4
# 188 "/usr/include/limits.h" 2 3 4
# 196 "/usr/lib/gcc/x86_64-linux-gnu/10/include/limits.h" 2 3 4
# 8 "/usr/lib/gcc/x86_64-linux-gnu/10/include/syslimits.h" 2 3 4
# 35 "/usr/lib/gcc/x86_64-linux-gnu/10/include/limits.h" 2 3 4
# 60 "/usr/include/freetype2/freetype/config/ftstdlib.h" 2
# 78 "/usr/include/freetype2/freetype/config/ftstdlib.h"
# 1 "/usr/include/string.h" 1 3 4
# 26 "/usr/include/string.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/libc-header-start.h" 1 3 4
# 27 "/usr/include/string.h" 2 3 4






# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 1 3 4
# 34 "/usr/include/string.h" 2 3 4
# 43 "/usr/include/string.h" 3 4

      



    






       
    








    
# 91 "/usr/include/string.h" 3 4

     
# 122 "/usr/include/string.h" 3 4

    


       
    



    


       



    


    



    


        
    



# 1 "/usr/include/x86_64-linux-gnu/bits/types/locale_t.h" 1 3 4
# 22 "/usr/include/x86_64-linux-gnu/bits/types/locale_t.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/types/__locale_t.h" 1 3 4
# 28 "/usr/include/x86_64-linux-gnu/bits/types/__locale_t.h" 3 4



 


 
 
 


 



# 23 "/usr/include/x86_64-linux-gnu/bits/types/locale_t.h" 2 3 4


# 154 "/usr/include/string.h" 2 3 4



    



   






    







    
# 226 "/usr/include/string.h" 3 4

    
# 253 "/usr/include/string.h" 3 4

    
# 273 "/usr/include/string.h" 3 4

    



    
# 303 "/usr/include/string.h" 3 4

    
# 330 "/usr/include/string.h" 3 4

    





    




   
   
    


        
    
# 385 "/usr/include/string.h" 3 4

    





    





# 414 "/usr/include/string.h" 3 4

    
# 428 "/usr/include/string.h" 3 4




# 1 "/usr/include/strings.h" 1 3 4
# 23 "/usr/include/strings.h" 3 4
# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 1 3 4
# 24 "/usr/include/strings.h" 2 3 4











    



 



# 68 "/usr/include/strings.h" 3 4

    
# 96 "/usr/include/strings.h" 3 4

    














    




    



    







    




    
    



# 433 "/usr/include/string.h" 2 3 4








      
    








    

    




  
    

       
    
# 499 "/usr/include/string.h" 3 4

# 79 "/usr/include/freetype2/freetype/config/ftstdlib.h" 2
# 102 "/usr/include/freetype2/freetype/config/ftstdlib.h"
# 1 "/usr/include/stdio.h" 1 3 4
# 103 "/usr/include/freetype2/freetype/config/ftstdlib.h" 2
# 120 "/usr/include/freetype2/freetype/config/ftstdlib.h"
# 1 "/usr/include/stdlib.h" 1 3 4
# 25 "/usr/include/stdlib.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/libc-header-start.h" 1 3 4
# 26 "/usr/include/stdlib.h" 2 3 4





# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 1 3 4
# 32 "/usr/include/stdlib.h" 2 3 4







# 1 "/usr/include/x86_64-linux-gnu/bits/waitflags.h" 1 3 4
# 52 "/usr/include/x86_64-linux-gnu/bits/waitflags.h" 3 4


 
 
 

# 40 "/usr/include/stdlib.h" 2 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/waitstatus.h" 1 3 4
# 41 "/usr/include/stdlib.h" 2 3 4
# 55 "/usr/include/stdlib.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/floatn.h" 1 3 4
# 120 "/usr/include/x86_64-linux-gnu/bits/floatn.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/floatn-common.h" 1 3 4
# 24 "/usr/include/x86_64-linux-gnu/bits/floatn-common.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/long-double.h" 1 3 4
# 25 "/usr/include/x86_64-linux-gnu/bits/floatn-common.h" 2 3 4
# 121 "/usr/include/x86_64-linux-gnu/bits/floatn.h" 2 3 4
# 56 "/usr/include/stdlib.h" 2 3 4



 
   
   
 




 
   
   
 






 
   
   
 
# 97 "/usr/include/stdlib.h" 3 4





    


    


    




    




       
    




      


      
    
# 176 "/usr/include/stdlib.h" 3 4

  
    


     
    





       
    



          
    






        
    



    
    
# 385 "/usr/include/stdlib.h" 3 4




    




# 1 "/usr/include/x86_64-linux-gnu/sys/types.h" 1 3 4
# 27 "/usr/include/x86_64-linux-gnu/sys/types.h" 3 4





















# 59 "/usr/include/x86_64-linux-gnu/sys/types.h" 3 4





















# 97 "/usr/include/x86_64-linux-gnu/sys/types.h" 3 4







# 114 "/usr/include/x86_64-linux-gnu/sys/types.h" 3 4












# 1 "/usr/include/x86_64-linux-gnu/bits/types/clock_t.h" 1 3 4







# 127 "/usr/include/x86_64-linux-gnu/sys/types.h" 2 3 4

# 1 "/usr/include/x86_64-linux-gnu/bits/types/clockid_t.h" 1 3 4







# 129 "/usr/include/x86_64-linux-gnu/sys/types.h" 2 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/types/time_t.h" 1 3 4







# 130 "/usr/include/x86_64-linux-gnu/sys/types.h" 2 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/types/timer_t.h" 1 3 4







# 131 "/usr/include/x86_64-linux-gnu/sys/types.h" 2 3 4
# 144 "/usr/include/x86_64-linux-gnu/sys/types.h" 3 4
# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 1 3 4
# 145 "/usr/include/x86_64-linux-gnu/sys/types.h" 2 3 4




















# 176 "/usr/include/x86_64-linux-gnu/sys/types.h" 3 4
# 1 "/usr/include/endian.h" 1 3 4
# 24 "/usr/include/endian.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/endian.h" 1 3 4
# 35 "/usr/include/x86_64-linux-gnu/bits/endian.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/endianness.h" 1 3 4
# 36 "/usr/include/x86_64-linux-gnu/bits/endian.h" 2 3 4
# 25 "/usr/include/endian.h" 2 3 4
# 177 "/usr/include/x86_64-linux-gnu/sys/types.h" 2 3 4


# 1 "/usr/include/x86_64-linux-gnu/sys/select.h" 1 3 4
# 30 "/usr/include/x86_64-linux-gnu/sys/select.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/select.h" 1 3 4
# 22 "/usr/include/x86_64-linux-gnu/bits/select.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/wordsize.h" 1 3 4
# 23 "/usr/include/x86_64-linux-gnu/bits/select.h" 2 3 4
# 31 "/usr/include/x86_64-linux-gnu/sys/select.h" 2 3 4


# 1 "/usr/include/x86_64-linux-gnu/bits/types/sigset_t.h" 1 3 4



# 1 "/usr/include/x86_64-linux-gnu/bits/types/__sigset_t.h" 1 3 4






 

# 5 "/usr/include/x86_64-linux-gnu/bits/types/sigset_t.h" 2 3 4



# 34 "/usr/include/x86_64-linux-gnu/sys/select.h" 2 3 4



# 1 "/usr/include/x86_64-linux-gnu/bits/types/struct_timeval.h" 1 3 4









 
 

# 38 "/usr/include/x86_64-linux-gnu/sys/select.h" 2 3 4

# 1 "/usr/include/x86_64-linux-gnu/bits/types/struct_timespec.h" 1 3 4
# 10 "/usr/include/x86_64-linux-gnu/bits/types/struct_timespec.h" 3 4


 



 
# 26 "/usr/include/x86_64-linux-gnu/bits/types/struct_timespec.h" 3 4

# 40 "/usr/include/x86_64-linux-gnu/sys/select.h" 2 3 4










# 59 "/usr/include/x86_64-linux-gnu/sys/select.h" 3 4

 






   


 







# 91 "/usr/include/x86_64-linux-gnu/sys/select.h" 3 4

# 101 "/usr/include/x86_64-linux-gnu/sys/select.h" 3 4

    
    
    
# 113 "/usr/include/x86_64-linux-gnu/sys/select.h" 3 4

     
     
     
     
# 126 "/usr/include/x86_64-linux-gnu/sys/select.h" 3 4

# 180 "/usr/include/x86_64-linux-gnu/sys/types.h" 2 3 4





















# 227 "/usr/include/x86_64-linux-gnu/sys/types.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/pthreadtypes.h" 1 3 4
# 23 "/usr/include/x86_64-linux-gnu/bits/pthreadtypes.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/thread-shared-types.h" 1 3 4
# 44 "/usr/include/x86_64-linux-gnu/bits/thread-shared-types.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/pthreadtypes-arch.h" 1 3 4
# 21 "/usr/include/x86_64-linux-gnu/bits/pthreadtypes-arch.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/wordsize.h" 1 3 4
# 22 "/usr/include/x86_64-linux-gnu/bits/pthreadtypes-arch.h" 2 3 4
# 45 "/usr/include/x86_64-linux-gnu/bits/thread-shared-types.h" 2 3 4






 
 




 

# 74 "/usr/include/x86_64-linux-gnu/bits/thread-shared-types.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/struct_mutex.h" 1 3 4
# 22 "/usr/include/x86_64-linux-gnu/bits/struct_mutex.h" 3 4


 
 
 

 



 

 
 
 
# 53 "/usr/include/x86_64-linux-gnu/bits/struct_mutex.h" 3 4

# 75 "/usr/include/x86_64-linux-gnu/bits/thread-shared-types.h" 2 3 4
# 87 "/usr/include/x86_64-linux-gnu/bits/thread-shared-types.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/struct_rwlock.h" 1 3 4
# 23 "/usr/include/x86_64-linux-gnu/bits/struct_rwlock.h" 3 4


 
 
 
 
 
 

 
 
 




 


 


 
# 55 "/usr/include/x86_64-linux-gnu/bits/struct_rwlock.h" 3 4

# 88 "/usr/include/x86_64-linux-gnu/bits/thread-shared-types.h" 2 3 4






 
 
   
   
   
     
     
   
 
 
 
   
   
   
     
     
   
 
 
 
 
 
 

# 24 "/usr/include/x86_64-linux-gnu/bits/pthreadtypes.h" 2 3 4










 
 







 
 













 
 









 
 
 





 
 
 








 
 
 




 
 













 
 




 
 

# 228 "/usr/include/x86_64-linux-gnu/sys/types.h" 2 3 4



# 395 "/usr/include/stdlib.h" 2 3 4
















  












 
   
   
   
   
   
   
   
 


      


    


  
  
    


        
    

























    




    




    







 
   
   
   
   
   

 



       

       
       



       
    

       
       
    



       
    

       
       
    



    


      


       
    





    


    







    








    
    






# 1 "/usr/include/alloca.h" 1 3 4
# 24 "/usr/include/alloca.h" 3 4
# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 1 3 4
# 25 "/usr/include/alloca.h" 2 3 4














# 569 "/usr/include/stdlib.h" 2 3 4






    





    
# 591 "/usr/include/stdlib.h" 3 4





# 610 "/usr/include/stdlib.h" 3 4

    






# 629 "/usr/include/stdlib.h" 3 4






# 647 "/usr/include/stdlib.h" 3 4







    










# 675 "/usr/include/stdlib.h" 3 4

# 688 "/usr/include/stdlib.h" 3 4

# 710 "/usr/include/stdlib.h" 3 4

# 731 "/usr/include/stdlib.h" 3 4

# 784 "/usr/include/stdlib.h" 3 4

# 800 "/usr/include/stdlib.h" 3 4

        







# 820 "/usr/include/stdlib.h" 3 4

       
    








    
# 840 "/usr/include/stdlib.h" 3 4





    







    

    



       
    
# 872 "/usr/include/stdlib.h" 3 4

    





    





    





     
    

     
    

    





    
    

    
    


     
     
    

     
     
    









    







  


  
    








# 957 "/usr/include/stdlib.h" 3 4

       
       
    
# 1003 "/usr/include/stdlib.h" 3 4

    
# 1013 "/usr/include/stdlib.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/stdlib-float.h" 1 3 4
# 1014 "/usr/include/stdlib.h" 2 3 4
# 1023 "/usr/include/stdlib.h" 3 4

# 121 "/usr/include/freetype2/freetype/config/ftstdlib.h" 2
# 156 "/usr/include/freetype2/freetype/config/ftstdlib.h"
# 1 "/usr/include/setjmp.h" 1 3 4
# 27 "/usr/include/setjmp.h" 3 4


# 1 "/usr/include/x86_64-linux-gnu/bits/setjmp.h" 1 3 4
# 26 "/usr/include/x86_64-linux-gnu/bits/setjmp.h" 3 4
# 1 "/usr/include/x86_64-linux-gnu/bits/wordsize.h" 1 3 4
# 27 "/usr/include/x86_64-linux-gnu/bits/setjmp.h" 2 3 4





# 30 "/usr/include/setjmp.h" 2 3 4




 




   
   
   
 
















# 67 "/usr/include/setjmp.h" 3 4

    






    








# 93 "/usr/include/setjmp.h" 3 4

    
# 103 "/usr/include/setjmp.h" 3 4

# 157 "/usr/include/freetype2/freetype/config/ftstdlib.h" 2
# 169 "/usr/include/freetype2/freetype/config/ftstdlib.h"
# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stdarg.h" 1 3 4
# 170 "/usr/include/freetype2/freetype/config/ftstdlib.h" 2
# 42 "/usr/include/freetype2/freetype/config/ftconfig.h" 2
# 56 "/usr/include/freetype2/freetype/config/ftconfig.h"
# 1 "/usr/include/freetype2/freetype/config/integer-types.h" 1
# 79 "/usr/include/freetype2/freetype/config/integer-types.h"
 
# 90 "/usr/include/freetype2/freetype/config/integer-types.h"
 
# 150 "/usr/include/freetype2/freetype/config/integer-types.h"
 
 
# 166 "/usr/include/freetype2/freetype/config/integer-types.h"
 
 
# 240 "/usr/include/freetype2/freetype/config/integer-types.h"
 
 
# 57 "/usr/include/freetype2/freetype/config/ftconfig.h" 2
# 1 "/usr/include/freetype2/freetype/config/public-macros.h" 1
# 53 "/usr/include/freetype2/freetype/config/public-macros.h"

# 118 "/usr/include/freetype2/freetype/config/public-macros.h"

# 58 "/usr/include/freetype2/freetype/config/ftconfig.h" 2
# 1 "/usr/include/freetype2/freetype/config/mac-support.h" 1
# 59 "/usr/include/freetype2/freetype/config/ftconfig.h" 2
# 25 "/usr/include/freetype2/freetype/freetype.h" 2
# 1 "/usr/include/freetype2/freetype/fttypes.h" 1
# 25 "/usr/include/freetype2/freetype/fttypes.h"
# 1 "/usr/include/freetype2/freetype/ftsystem.h" 1
# 25 "/usr/include/freetype2/freetype/ftsystem.h"

# 64 "/usr/include/freetype2/freetype/ftsystem.h"
 
# 86 "/usr/include/freetype2/freetype/ftsystem.h"
 
 
                   
# 107 "/usr/include/freetype2/freetype/ftsystem.h"
 
 
                  
# 140 "/usr/include/freetype2/freetype/ftsystem.h"
 
 
                     
                     
                     
# 169 "/usr/include/freetype2/freetype/ftsystem.h"
 
 
   
   
   
   
 
# 198 "/usr/include/freetype2/freetype/ftsystem.h"
 
# 211 "/usr/include/freetype2/freetype/ftsystem.h"
 
 
   
   

 
# 248 "/usr/include/freetype2/freetype/ftsystem.h"
 
 
                      
                      
                      
# 268 "/usr/include/freetype2/freetype/ftsystem.h"
 
 
# 327 "/usr/include/freetype2/freetype/ftsystem.h"
 
 
   
   
   

   
   
   
   

   
   
   

 





# 26 "/usr/include/freetype2/freetype/fttypes.h" 2
# 1 "/usr/include/freetype2/freetype/ftimage.h" 1
# 36 "/usr/include/freetype2/freetype/ftimage.h"

# 57 "/usr/include/freetype2/freetype/ftimage.h"
 
# 75 "/usr/include/freetype2/freetype/ftimage.h"
 
 
   
   

 
# 118 "/usr/include/freetype2/freetype/ftimage.h"
 
 
   
   

 
# 180 "/usr/include/freetype2/freetype/ftimage.h"
 
 
   
   
   
   
   
   
   
   

   

 
# 260 "/usr/include/freetype2/freetype/ftimage.h"
 
 
   
   
   
   
   
   
   
   

 
# 336 "/usr/include/freetype2/freetype/ftimage.h"
 
 
   
   

   
   
   

   

 
# 507 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                           
# 536 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                           
# 570 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                            
                            
# 606 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                            
                            
                            
# 658 "/usr/include/freetype2/freetype/ftimage.h"
 
 
   
   
   
   

   
   

 
# 743 "/usr/include/freetype2/freetype/ftimage.h"
 
 
   

   
   
   
   

 
# 828 "/usr/include/freetype2/freetype/ftimage.h"
 
# 858 "/usr/include/freetype2/freetype/ftimage.h"
 
 
   
   
   

 
# 897 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                 
                 
                 
# 914 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                            
                            
# 928 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                           
                           
# 1035 "/usr/include/freetype2/freetype/ftimage.h"
 
 
   
   
   
   
   
   
   
   
   

 
# 1076 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                       
# 1095 "/usr/include/freetype2/freetype/ftimage.h"
 
 
# 1129 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                         
                         
# 1157 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                           
                           
# 1195 "/usr/include/freetype2/freetype/ftimage.h"
 
 
                          
# 1226 "/usr/include/freetype2/freetype/ftimage.h"
 
 
   

   
   
   
   
   

 





# 27 "/usr/include/freetype2/freetype/fttypes.h" 2

# 1 "/usr/lib/gcc/x86_64-linux-gnu/10/include/stddef.h" 1 3 4
# 29 "/usr/include/freetype2/freetype/fttypes.h" 2



# 108 "/usr/include/freetype2/freetype/fttypes.h"
 
# 120 "/usr/include/freetype2/freetype/fttypes.h"
 
# 132 "/usr/include/freetype2/freetype/fttypes.h"
 
# 143 "/usr/include/freetype2/freetype/fttypes.h"
 
# 154 "/usr/include/freetype2/freetype/fttypes.h"
 
# 165 "/usr/include/freetype2/freetype/fttypes.h"
 
# 176 "/usr/include/freetype2/freetype/fttypes.h"
 
# 187 "/usr/include/freetype2/freetype/fttypes.h"
 
# 198 "/usr/include/freetype2/freetype/fttypes.h"
 
# 209 "/usr/include/freetype2/freetype/fttypes.h"
 
# 220 "/usr/include/freetype2/freetype/fttypes.h"
 
# 231 "/usr/include/freetype2/freetype/fttypes.h"
 
# 242 "/usr/include/freetype2/freetype/fttypes.h"
 
# 253 "/usr/include/freetype2/freetype/fttypes.h"
 
# 264 "/usr/include/freetype2/freetype/fttypes.h"
 
# 275 "/usr/include/freetype2/freetype/fttypes.h"
 
# 287 "/usr/include/freetype2/freetype/fttypes.h"
 
# 299 "/usr/include/freetype2/freetype/fttypes.h"
 
# 310 "/usr/include/freetype2/freetype/fttypes.h"
 
# 323 "/usr/include/freetype2/freetype/fttypes.h"
 
# 336 "/usr/include/freetype2/freetype/fttypes.h"
 
# 355 "/usr/include/freetype2/freetype/fttypes.h"
 
 
   
   

 
# 390 "/usr/include/freetype2/freetype/fttypes.h"
 
 
   
   

 
# 413 "/usr/include/freetype2/freetype/fttypes.h"
 
 
   
   

 
# 435 "/usr/include/freetype2/freetype/fttypes.h"
 
# 467 "/usr/include/freetype2/freetype/fttypes.h"
 
 
   
   

 
# 523 "/usr/include/freetype2/freetype/fttypes.h"
 
# 534 "/usr/include/freetype2/freetype/fttypes.h"
 
# 555 "/usr/include/freetype2/freetype/fttypes.h"
 
 
   
   
   

 
# 580 "/usr/include/freetype2/freetype/fttypes.h"
 
 
   
   

 
# 610 "/usr/include/freetype2/freetype/fttypes.h"

# 26 "/usr/include/freetype2/freetype/freetype.h" 2
# 1 "/usr/include/freetype2/freetype/fterrors.h" 1
# 127 "/usr/include/freetype2/freetype/fterrors.h"
# 1 "/usr/include/freetype2/freetype/ftmoderr.h" 1
# 147 "/usr/include/freetype2/freetype/ftmoderr.h"
 



 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 



 
# 128 "/usr/include/freetype2/freetype/fterrors.h" 2
# 195 "/usr/include/freetype2/freetype/fterrors.h"
 




# 1 "/usr/include/freetype2/freetype/fterrdef.h" 1
# 58 "/usr/include/freetype2/freetype/fterrdef.h"
 
                 

 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               



 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               



 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               



 
               
 
               



 
               
 
               



 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               



 
               
 
               
 
               
 
               



 
               



 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               



 
               
 
               
 
               
 
               
 
               



 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
 
               
# 201 "/usr/include/freetype2/freetype/fterrors.h" 2



 
# 252 "/usr/include/freetype2/freetype/fterrors.h"

# 281 "/usr/include/freetype2/freetype/fterrors.h"
 
 


# 27 "/usr/include/freetype2/freetype/freetype.h" 2



# 300 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   

   
   
   

   
   
   

 
# 355 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   

   

   
   

 
# 399 "/usr/include/freetype2/freetype/freetype.h"
 
# 419 "/usr/include/freetype2/freetype/freetype.h"
 
# 431 "/usr/include/freetype2/freetype/freetype.h"
 
# 444 "/usr/include/freetype2/freetype/freetype.h"
 
# 483 "/usr/include/freetype2/freetype/freetype.h"
 
# 513 "/usr/include/freetype2/freetype/freetype.h"
 
# 532 "/usr/include/freetype2/freetype/freetype.h"
 
# 566 "/usr/include/freetype2/freetype/freetype.h"
 
# 740 "/usr/include/freetype2/freetype/freetype.h"
 
 
   

   
   

   
   
   
   
   


   
   
   
   
   
   

   
   
   
   

   

   

 
# 817 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   
   
   

 
# 848 "/usr/include/freetype2/freetype/freetype.h"
 
# 1028 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   

   
   

   

   
   

   
   

   
   

   




   

   
   
   
   

   
   

   
   

   
   
   



   
   
   

   

   
   

   



 
# 1488 "/usr/include/freetype2/freetype/freetype.h"
 
# 1595 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   

   
   

   
   
   
   

 
# 1632 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   
   
   

 
# 1658 "/usr/include/freetype2/freetype/freetype.h"
 
# 1670 "/usr/include/freetype2/freetype/freetype.h"
 
# 1871 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   
   
   
   

   
   
   
   

   

   
   
   

   

   
   

   
   

   
   

   

   

 
# 1950 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 1970 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 2039 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   

 
# 2111 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   
   
   
   
   
   
   

 
# 2156 "/usr/include/freetype2/freetype/freetype.h"
 
 
              
              
              
# 2196 "/usr/include/freetype2/freetype/freetype.h"
 
 
                     
                     
                     
                     
# 2341 "/usr/include/freetype2/freetype/freetype.h"
 
 
               
               
               
# 2367 "/usr/include/freetype2/freetype/freetype.h"
 
 
                 
# 2403 "/usr/include/freetype2/freetype/freetype.h"
 
 
                   
# 2432 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 2456 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 2496 "/usr/include/freetype2/freetype/freetype.h"
 
 
                 
# 2550 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   
   
   
   

   

 
# 2602 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   
   
   
   

 
# 2621 "/usr/include/freetype2/freetype/freetype.h"
 
# 2660 "/usr/include/freetype2/freetype/freetype.h"
 
 
                  
# 2709 "/usr/include/freetype2/freetype/freetype.h"
 
 
                   
                   
                   
                   
# 2746 "/usr/include/freetype2/freetype/freetype.h"
 
 
                     
                     
# 2792 "/usr/include/freetype2/freetype/freetype.h"
 
 
                
                
# 2835 "/usr/include/freetype2/freetype/freetype.h"
 
 
               
               
# 3192 "/usr/include/freetype2/freetype/freetype.h"
 
 
                   
                   
# 3247 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   
   
   
   

   

 
# 3371 "/usr/include/freetype2/freetype/freetype.h"
 
 
                  
# 3404 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   
   

 
# 3461 "/usr/include/freetype2/freetype/freetype.h"
 
 
                 
                 
                 
                 
# 3505 "/usr/include/freetype2/freetype/freetype.h"
 
 
                       
                       
                       
# 3552 "/usr/include/freetype2/freetype/freetype.h"
 
 
                    
                    
                    
# 3591 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 3625 "/usr/include/freetype2/freetype/freetype.h"
 
 
                    
# 3656 "/usr/include/freetype2/freetype/freetype.h"
 
 
                 
# 3678 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 3713 "/usr/include/freetype2/freetype/freetype.h"
 
 
                    
# 3768 "/usr/include/freetype2/freetype/freetype.h"
 
 
                    
# 3805 "/usr/include/freetype2/freetype/freetype.h"
 
 
                   
                   
# 3903 "/usr/include/freetype2/freetype/freetype.h"
 
 
                     
                     
# 3927 "/usr/include/freetype2/freetype/freetype.h"
 
 
                    
# 4008 "/usr/include/freetype2/freetype/freetype.h"
 
 
                       
                       
                       
                       
                       
                       
# 4055 "/usr/include/freetype2/freetype/freetype.h"
 
 
   
   
   

 
# 4172 "/usr/include/freetype2/freetype/freetype.h"
 
 
                           
                           
                           
                           
# 4271 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 4364 "/usr/include/freetype2/freetype/freetype.h"
 
 
                              
                              
# 4400 "/usr/include/freetype2/freetype/freetype.h"
 
 
                                  
                                  
# 4431 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 4464 "/usr/include/freetype2/freetype/freetype.h"
 
 
                            
# 4498 "/usr/include/freetype2/freetype/freetype.h"
 
 
                            
# 4564 "/usr/include/freetype2/freetype/freetype.h"
 
 
            
            
# 4600 "/usr/include/freetype2/freetype/freetype.h"
 
 
            
# 4624 "/usr/include/freetype2/freetype/freetype.h"
 
 
            
# 4648 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 4670 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 4689 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 4712 "/usr/include/freetype2/freetype/freetype.h"
 
 
                      
# 4805 "/usr/include/freetype2/freetype/freetype.h"
 
 
                     
                     
                     
# 4833 "/usr/include/freetype2/freetype/freetype.h"
 
 
# 4861 "/usr/include/freetype2/freetype/freetype.h"
 
 
                               





# 32 "<command-line>" 2
# 1 "main.S"
# 1 "utils.S" 1
# 10 "utils.S"
.data
WSTR: .asciz "w"
RSTR: .asciz "r"
ERF: .asciz "Error reading file!\n"
ZERO: .float 0.0
THREE: .float 3.0
TWO: .float 2.0
NTWO: .float -2.0
HALF: .float 0.5
NHALF: .float -0.5
V1_5: .float 1.5
V900: .float 900.0
SQRT3: .float 1.73205080757
.text



# Params:
# rdi - file_name
# Params end;
# rsi - dest
# rdx - fp
# rcx - bufsize
# r8 - newLen
.global loadFile
loadFile:
 pushq %rbp; movq %rsp, %rbp;

 #char *dest = ((void *)0)
 movq $0, %rsi

 #FILE *fp = fopen(file_name, "r");
 pushq %rdi
 pushq %rsi

 movq $RSTR, %rsi
 call fopen
 movq %rax, %rdx

 popq %rsi
 popq %rdi

 # mif(fp != ((void *)0)) {
 cmpq $0, %rdx
 je IFNULL
 pushq %rdi
 pushq %rsi
 pushq %rdx
 subq $8, %rsp

 movq %rdx, %rdi
 movq $0, %rsi
 movq $2, %rdx
 call fseek

 addq $8, %rsp
 popq %rdx
 popq %rsi
 popq %rdi
 cmpq $0, %rax
 jne IFNOTNULL
 pushq %rdi
 pushq %rsi
 pushq %rdx
 subq $8, %rsp
 movq %rdx, %rdi
 call ftell
 addq $8, %rsp
 popq %rdx
 popq %rsi
 popq %rdi

 movq %rax, %rcx


 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 movq %rcx, %rdi


 call malloc

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi
 movq %rax, %rsi

 #fseek(fp)
 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx
 movq %rdx, %rdi
 movq $0, %rsi
 movq $0, %rdx
 call fseek
 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi


 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx
 movq %rsi, %rdi
 movq $1, %rsi
 xchgq %rcx, %rdx
 call fread
 movq %rax, %r8

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 #call ferror(fp)
 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx
 pushq %r8
 subq $8, %rsp

 movq %rdx, %rdi
 call ferror

 addq $8, %rsp
 popq %r8
 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi
 cmpq $0, %rax
 je ELSEERROR
IFERROR:

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx
 pushq %r8
 subq $8, %rsp
 movq $ERF, %rdi
 movq $2, %rsi
  call fputs
 addq $8, %rsp
 popq %r8
 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi
 jmp ENDIF
ELSEERROR:
 movq %r8, %r9
 addq %rsi, %r9
 movb $0, (%r9)
 incq %r8

ENDIF:
IFNOTNULL:
 movq %rdx, %rdi
 pushq %rsi
 pushq %rdi
 call fclose
 popq %rdi
 popq %rsi

IFNULL:
 movq %rsi, %rax
 movq %rbp, %rsp; popq %rbp; ret ;


 # params:
# RDI: file_name
# RSI: data
# RDX: data_size
# RCX: fp
# R8: newLen
.global writeFile
writeFile:
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 movq $WSTR, %rsi
 call fopen
 movq %rax, %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 cmpq $0, %rcx
 je END_WRITE_FILE

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx
 movq %rsi, %rdi
 movq $1, %rsi
 call fwrite
 movq %rax, %r8
 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx
 pushq %r8
 movq %rcx, %rdi
 call ferror
 movq %rax, %r9
 popq %r8
 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi
 cmpq $0, %r9
 je CLOSE

 pushq %rcx
 movq $ERF, %rdi
 movq $2, %rsi
 call fputs
 popq %rcx
CLOSE:
 movq %rcx, %rdi
 call fclose
END_WRITE_FILE:
 movq %rbp, %rsp
 popq %rbp
 ret
# params:
# RDI: n
# RAX: result
.global nextPowerOf2
nextPowerOf2:
 pushq %rbp
 movq %rsp, %rbp

 movq $1, %rax
LOOP:
    shlq $1, %rax
    cmpq %rax, %rdi
    jg LOOP

 movq %rbp, %rsp
 popq %rbp
 ret
# Params:
# RDI: grid_x
# RSI: grid_y
# XMM0: offset_x
# XMM1: offset_y
# XMM2: hex_size
# XMM3: (float) grid_y
# XMM4: (float) grid_x
# RDX: *viewport_x
# RCX: *viewport_y
.global hexGridToViewport
hexGridToViewport:
 pushq %rbp
 movq %rsp, %rbp

cvtsi2ssq %rsi, %xmm3
cvtsi2ssq %rdi, %xmm4
    divss TWO, %xmm3
    addss %xmm3, %xmm4
    mulss %xmm2, %xmm4
    mulss THREE, %xmm3
    mulss %xmm2, %xmm3
    addss %xmm3, %xmm1
    movss THREE, %xmm3
    sqrtss %xmm3, %xmm3
    mulss %xmm3, %xmm4
    addss %xmm4, %xmm0
    movss %xmm0, (%RDX)
    movss %xmm1, (%RCX)

 movq %rbp, %rsp
 popq %rbp
 ret


# Params:
# xmm0 - viewport_x
# xmm1 - viewport_y
# xmm2 - offset_x
# xmm3 - offset_y
# xmm4 - hex_size

# %rdi - grid_x
# %rsi - grid_y
.global viewportToHexGrid
viewportToHexGrid:
 pushq %rbp
 movq %rsp, %rbp

 #xmm1 = viewport_y - offset_y
 subss %xmm3, %xmm1
 #xmm2 = viewport_x - offset_x
 subss %xmm2, %xmm0
 #xmm8 = viewport_x - offset_x
 movss %xmm0, %xmm8

 #xmm5 = hex_size
 movss %xmm4, %xmm5
 #xmm5 = hex_size * 1.5
 mulss V1_5, %xmm5
 #xmm1 = (viewport_y - offset_y) / (hex_size * 1.5)
 divss %xmm5, %xmm1
 #xmm0 = xmm1
 movss %xmm1, %xmm0
 pushq %rdi
 pushq %rsi
 call roundf
 popq %rsi
 popq %rdi
cvtss2siq %xmm0, %rax
 movq %rax, (%rsi)

 movss %xmm0, %xmm6
 mulss SQRT3, %xmm4
 mulss HALF, %xmm6
 divss %xmm4, %xmm8
 subss %xmm6, %xmm8
 movss %xmm8, %xmm0
 pushq %rdi
 pushq %rsi
 call roundf
 popq %rsi
 popq %rdi
cvtss2siq %xmm0, %rax
 movq %rax, (%rdi)

 movq %rbp, %rsp
 popq %rbp
 ret
# Params:

# xmm0 - mouse_x
# xmm1 - mouse_y
# %rdi - viewport_x
# %rsi - viewport_y

.global mouseCoordsToViewport
mouseCoordsToViewport:
 pushq %rbp
 movq %rsp, %rbp

cvtsd2ss %xmm0, %xmm0
cvtsd2ss %xmm1, %xmm1
 divss V900, %xmm0
 divss V900, %xmm1
 subss HALF, %xmm0
 subss HALF, %xmm1
 mulss TWO, %xmm0
 mulss NTWO, %xmm1
 movss %xmm0, (%rdi)
 movss %xmm1, (%rsi)

 movq %rbp, %rsp
 popq %rbp
 ret
# Params:
# %rdi - position_x
# %rsi - position_y
# %rdx - cursor_x
# %rcx - cursor_y
# Params end
# xmm0 - result_y
# xmm1 - result_x
# xmm2 - misc and result_ratio
# xmm3 - misc nr 2
.global calculateRotation
calculateRotation:
 pushq %rbp
 movq %rsp, %rbp

 subq %rsi, %rcx # result_y = cursor_y - position_y
 subq %rdi, %rdx # result_x = cursor_x - position_x

 # XMM0 = (float) result_y
cvtsi2ssq %rcx, %xmm0

 # XMM1 = (float) result_x
cvtsi2ssq %rdx, %xmm1

 # result_y = result_y / 2
 divss TWO, %xmm0

 # result_x += result_y
 addss %xmm0, %xmm1

 # result_y *= sqrt(3)
 sqrtss THREE, %xmm2
 mulss %xmm2, %xmm0

 # xmm2 = result_ratio = result_y / result_x
 movss %xmm0, %xmm2
 divss %xmm1, %xmm2
IF1:
 ucomiss HALF, %xmm2
 jb IF2
 ucomiss ZERO, %xmm0
 jb IF2
 jmp RET0
IF2:
 ucomiss HALF, %xmm2
 jae IF3
 ucomiss NHALF, %xmm2
 jb IF3
 ucomiss ZERO, %xmm1
 jb IF3
 jmp RET1
IF3:
 ucomiss NHALF, %xmm2
 jae IF4
 ucomiss ZERO, %xmm1
 jb IF4
 jmp RET2
IF4:
 ucomiss HALF, %xmm2
 jb IF5
 ucomiss ZERO, %xmm0
 ja IF5
 jmp RET3
IF5:
 ucomiss HALF, %xmm2
 jae RET5
 ucomiss NHALF, %xmm2
 jb RET5
 ucomiss ZERO, %xmm1
 ja RET5
 jmp RET4

RET0:
 movq $0, %rax
 jmp END
RET1:
 movq $1, %rax
 jmp END
RET2:
 movq $2, %rax
 jmp END
RET3:
 movq $3, %rax
 jmp END
RET4:
 movq $4, %rax
 jmp END
RET5:
 movq $5, %rax
 jmp END

END:
 movq %rbp, %rsp
 popq %rbp
 ret



# Params:
# %rdi - x1
# %rsi - y1
# %rdx - x2
# %rcx - y2
# Params end
# %r12 - abs(x1-x2)
# %r13 - abs(y1-y2)
# %r14 - abs(x1 + y1 - x2 - y2)
.global hexDistance
hexDistance:
 pushq %rbp
 pushq %r12
 pushq %r13
 pushq %r14
 movq %rsp, %rbp

 #x1 - x2
 movq %rdi, %r12
 subq %rdx, %r12

 #y1 - y2
 movq %rsi, %r13
 subq %rcx, %r13

 #x1 + y1 - x2 - y2
 movq %rdi, %r14
 addq %rsi, %r14
 subq %rcx, %r14
 subq %rdx, %r14

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 movq %r12, %rdi
 call abs
 movq %rax, %r12

 movq %r13, %rdi
 call abs
 movq %rax, %r13

 movq %r14, %rdi
 call abs
 movq %rax, %r14

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 movq %r12, %rax
 addq %r13, %rax
 addq %r14, %rax
 shrq $1, %rax

 movq %rbp, %rsp
 popq %r14
 popq %r13
 popq %r12
 popq %rbp
 ret
# 2 "main.S" 2
# 1 "input.S" 1
.data
KEYCODE_TAB: .long 258
KEYCODE_ENTER: .long 257
KEYCODE_ESCAPE: .long 256
KEYCODE_LEFT_CONTROL: .long 341
MESSAGE: .asciz "key: %d button: %d key_enum: %d\n"
.text

# params
# %rdi - window
# %xmm0 - xoffset
# %xmm1 - yoffset


.global scrollCallback
scrollCallback:
 pushq %rbp
 movq %rsp, %rbp

 movsd %xmm1, %xmm15
 call glfwGetWindowUserPointer

 movsd %xmm15, 80(%rax)

 movq %rbp, %rsp
 popq %rbp
 ret

updateMouseButton:
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx
 pushq %r12
 pushq %r13

 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi

 movq -32(%rbp), %rdx
 movq %rdx, %r12
 addq $21, %rdx
 movq %rdx, %r13
 movq -8(%rbp), %rdi
 movq -24(%rbp), %rsi
 call glfwGetMouseButton
 cmpq $1, %rax
 jne ELSE1UB
 IF1UMB:
  cmpb $0, (%r12)
  jne ELSE2UB
  IF2UMB:
   movb $1, (%r13)
   jmp END2UB
  ELSE2UMB:
   movb $0, (%r13)
  END2UMB:
  incb (%r12)
  jmp END1UB
 ELSE1UMB:
  movb $0, (%r13)
  movb $0, (%r12)

 END1UMB:

 popq %r13
 popq %r12
 popq %r9
 popq %r9
 popq %r9
 popq %r9

 movq %rbp, %rsp
 popq %rbp
 ret

updateButton:
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx
 pushq %r12
 pushq %r13

 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi

 movq -32(%rbp), %rdx
 movq %rdx, %r12
 addq $21, %rdx
 movq %rdx, %r13
 movq -8(%rbp), %rdi
 movq -24(%rbp), %rsi
 call glfwGetKey
 cmpq $1, %rax
 jne ELSE1UB
 IF1UB:
  cmpb $0, (%r12)
  jne ELSE2UB
  IF2UB:
   movb $1, (%r13)
   jmp END2UB
  ELSE2UB:
   movb $0, (%r13)
  END2UB:
  incb (%r12)
  jmp END1UB
 ELSE1UB:
  movb $0, (%r13)
  movb $0, (%r12)

 END1UB:

 popq %r13
 popq %r12
 popq %r9
 popq %r9
 popq %r9
 popq %r9

 movq %rbp, %rsp
 popq %rbp
 ret

.global updateInput
updateInput:
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 subq $16, %rsp
 movq %rsi, -24(%rbp);
# 176 "input.S"
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $87, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $65, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $83, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $68, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $0, %rdx; movl KEYCODE_TAB, %edx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $0, %rdx; movl KEYCODE_ENTER, %edx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $32, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $0, %rdx; movl KEYCODE_ESCAPE, %edx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $84, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $77, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $86, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $66, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $49, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $50, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $51, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $52, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $76, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $0, %rdx; movl KEYCODE_LEFT_CONTROL, %edx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $72, %rdx; movq -24(%rbp), %rcx; call updateButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $0, %rdx; movq -24(%rbp), %rcx; call updateMouseButton; incq -24(%rbp);
 movq -8(%rbp), %rdi; movq -16(%rbp), %rsi; movq $1, %rdx; movq -24(%rbp), %rcx; call updateMouseButton; incq -24(%rbp);






 subq $16, %rsp

 movq -16(%rbp), %rax

 movsd 48(%rax), %xmm0
cvtsd2ss %xmm0, %xmm3
 movq $0, -40(%rbp)
 movss %xmm3, -40(%rbp)


 movsd 56(%rax), %xmm0
cvtsd2ss %xmm0, %xmm3
 movq $0, -48(%rbp)
 movss %xmm3, -48(%rbp)


 movq -8(%rbp), %rdi
 leaq 48(%rax), %rsi
 leaq 56(%rax), %rdx
 call glfwGetCursorPos


 movq -16(%rbp), %rax

 movss -40(%rbp), %xmm0
 movsd 48(%rax), %xmm1
cvtss2sd %xmm0, %xmm0
 subsd %xmm0, %xmm1

 movsd %xmm1, 64(%rax)

 movss -48(%rbp), %xmm0
 movsd 56(%rax), %xmm1
cvtss2sd %xmm0, %xmm0
 subsd %xmm0, %xmm1

 movsd %xmm1, 72(%rax)

 movq %rbp, %rsp
 popq %rbp
 ret
# 3 "main.S" 2
# 1 "unit.S" 1
# 12 "unit.S"
 .text
 MESSAGE2: .asciz "unit count: %d; index: %d\n"

.global createUnit
# Create Unit
# Params:
# RDI: int position_x
# RSI: int position_y
# RDX: *game_state

createUnit:
# prologue
 pushq %rbp
 movq %rsp, %rbp

# parsing state->units[state->unit_count]
 pushq %rdx
 addq $11808, %rdx
 movq $0, %rax
 movl (%rdx), %eax
 movq $12, %r10
 mulq %r10
 movq -8(%rbp), %rdx
 addq $10192, %rdx
 addq %rax, %rdx
 addq $2, %rdx
# state->units[state->unit_count].position_x = position_x
 movb %dil, (%rdx)
 incq %rdx
# state->units[state->unit_count].position_y = position_y
 movb %sil, (%rdx)

 popq %rdx
 addq $11808, %rdx
 movq $0, %rax
 movl (%rdx), %eax
 incl (%rdx)
# epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Remove Unit
# Params:
# RDI: int index
# RSI: game_state *state

.global removeUnit
removeUnit:
# prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rsi
 addq $11808, %rsi

 movq $0, %r10
 decl (%rsi)
 movl (%rsi), %r10d

 imul $12, %r10

 movq -8(%rbp), %rsi
 addq $10192, %rsi
 addq %rsi, %r10

 popq %rsi
 addq $10192, %rsi

 imul $12, %rdi

 addq %rdi, %rsi
 movq $0, %rax
RULOOP:
 movb 12(%rsi), %al
 movb %al, (%rsi)

 incq %rsi
 cmpq %r10, %rsi
 jl RULOOP
# epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

.global findUnit
# Find Unit
# Params:
# RDI: int position x
# RSI: int position y
# RDX: game_state* state

findUnit:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %r10
 pushq %rdx
 addq $11808, %rdx
 movq $0, %r10
 movl (%rdx), %r10d
 movq $0, %rax
 popq %rdx
 addq $10194, %rdx
FULOOP:
 cmpb (%rdx), %dil
 jne XNE
 incq %rdx
 cmpb (%rdx), %sil
 jne YNE
 jmp FUEND
XNE:
 incq %rax
 addq $12, %rdx
 cmpq %r10, %rax
 jl FULOOP
 movq $-1, %rax
 jmp FUEND
YNE:
 incq %rax
 addq $11, %rdx
 cmpq %r10, %rax
 jl FULOOP
 movq $-1, %rax
 jmp FUEND
FUEND:
 popq %r10
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

.global createWorkshop
# Create Workshop
# Params:
# RDI: INT POS X
# RSI: INT POS Y
# RDX: INT TEAM
# RCX: game_state *state
createWorkshop:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 movq %rcx, %rdx
 call createUnit

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 imul $12, %rax
 addq $10192, %rcx
 addq %rax, %rcx
 # hp
 movb $80, (%rcx)
 incq %rcx
 # hp max
 movb $80, (%rcx)
 addq $3, %rcx
 # type
 movb $0, (%rcx)
 incq %rcx
 # team
 movb %dl, (%rcx)
 incq %rcx
 # range
 movb $0, (%rcx)
 incq %rcx
 # damage
 movb $0, (%rcx)
 incq %rcx
 # mp
 movb $0, (%rcx)
 incq %rcx
 # mp max
 movb $0, (%rcx)
 incq %rcx
 # vision
 movb $1, (%rcx)
 incq %rcx
 # rotation
 movb $0, (%rcx)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

.global createGolem
# Create Golem
# Params:
# RDI: INT POS X
# RSI: INT POS Y
# RDX: INT TEAM
# RCX: game_state *state
createGolem:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 movq %rcx, %rdx
 call createUnit

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 imul $12, %rax
 addq $10192, %rcx
 addq %rax, %rcx
 # hp
 movb $30, (%rcx)
 incq %rcx
 # hp max
 movb $30, (%rcx)
 addq $3, %rcx
 # type
 movb $1, (%rcx)
 incq %rcx
 # team
 movb %dl, (%rcx)
 incq %rcx
 # range
 movb $2, (%rcx)
 incq %rcx
 # damage
 movb $10, (%rcx)
 incq %rcx
 # mp
 movb $0, (%rcx)
 incq %rcx
 # mp max
 movb $4, (%rcx)
 incq %rcx
 # vision
 movb $2, (%rcx)
 incq %rcx
 # rotation
 movb $0, (%rcx)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

.global createWisp
# Create Wisp
# Params:
# RDI: INT POS X
# RSI: INT POS Y
# RDX: INT TEAM
# RCX: game_state *state
createWisp:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 movq %rcx, %rdx
 call createUnit

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 imul $12, %rax
 addq $10192, %rcx
 addq %rax, %rcx
 # hp
 movb $10, (%rcx)
 incq %rcx
 # hp max
 movb $10, (%rcx)
 addq $3, %rcx
 # type
 movb $2, (%rcx)
 incq %rcx
 # team
 movb %dl, (%rcx)
 incq %rcx
 # range
 movb $2, (%rcx)
 incq %rcx
 # damage
 movb $5, (%rcx)
 incq %rcx
 # mp
 movb $0, (%rcx)
 incq %rcx
 # mp max
 movb $6, (%rcx)
 incq %rcx
 # vision
 movb $3, (%rcx)
 incq %rcx
 # rotation
 movb $0, (%rcx)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

.global createUnboundElemental
# Create Unbound Elemental
# Params:
# RDI: INT POS X
# RSI: INT POS Y
# RDX: INT TEAM
# RCX: game_state *state
createUnboundElemental:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 movq %rcx, %rdx
 call createUnit

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 imul $12, %rax
 addq $10192, %rcx
 addq %rax, %rcx
 # hp
 movb $20, (%rcx)
 incq %rcx
 # hp max
 movb $20, (%rcx)
 addq $3, %rcx
 # type
 movb $3, (%rcx)
 incq %rcx
 # team
 movb %dl, (%rcx)
 incq %rcx
 # range
 movb $2, (%rcx)
 incq %rcx
 # damage
 movb $10, (%rcx)
 incq %rcx
 # mp
 movb $0, (%rcx)
 incq %rcx
 # mp max
 movb $4, (%rcx)
 incq %rcx
 # vision
 movb $3, (%rcx)
 incq %rcx
 # rotation
 movb $0, (%rcx)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

.global createFireElemental
# Create Fire Elemental
# Params:
# RDI: INT POS X
# RSI: INT POS Y
# RDX: INT TEAM
# RCX: game_state *state
createFireElemental:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 movq %rcx, %rdx
 call createUnit

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 imul $12, %rax
 addq $10192, %rcx
 addq %rax, %rcx
 # hp
 movb $60, (%rcx)
 incq %rcx
 # hp max
 movb $60, (%rcx)
 addq $3, %rcx
 # type
 movb $4, (%rcx)
 incq %rcx
 # team
 movb %dl, (%rcx)
 incq %rcx
 # range
 movb $2, (%rcx)
 incq %rcx
 # damage
 movb $20, (%rcx)
 incq %rcx
 # mp
 movb $0, (%rcx)
 incq %rcx
 # mp max
 movb $3, (%rcx)
 incq %rcx
 # vision
 movb $2, (%rcx)
 incq %rcx
 # rotation
 movb $0, (%rcx)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

.global createWaterElemental
# Create Water Elemental
# Params:
# RDI: INT POS X
# RSI: INT POS Y
# RDX: INT TEAM
# RCX: game_state *state
createWaterElemental:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 movq %rcx, %rdx
 call createUnit

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 imul $12, %rax
 addq $10192, %rcx
 addq %rax, %rcx
 # hp
 movb $20, (%rcx)
 incq %rcx
 # hp max
 movb $20, (%rcx)
 addq $3, %rcx
 # type
 movb $5, (%rcx)
 incq %rcx
 # team
 movb %dl, (%rcx)
 incq %rcx
 # range
 movb $3, (%rcx)
 incq %rcx
 # damage
 movb $30, (%rcx)
 incq %rcx
 # mp
 movb $0, (%rcx)
 incq %rcx
 # mp max
 movb $3, (%rcx)
 incq %rcx
 # vision
 movb $3, (%rcx)
 incq %rcx
 # rotation
 movb $0, (%rcx)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

.global createIceElemental
# Create Ice Elemental
# Params:
# RDI: INT POS X
# RSI: INT POS Y
# RDX: INT TEAM
# RCX: game_state *state
createIceElemental:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 movq %rcx, %rdx
 call createUnit

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 imul $12, %rax
 addq $10192, %rcx
 addq %rax, %rcx
 # hp
 movb $40, (%rcx)
 incq %rcx
 # hp max
 movb $40, (%rcx)
 addq $3, %rcx
 # type
 movb $6, (%rcx)
 incq %rcx
 # team
 movb %dl, (%rcx)
 incq %rcx
 # range
 movb $1, (%rcx)
 incq %rcx
 # damage
 movb $20, (%rcx)
 incq %rcx
 # mp
 movb $0, (%rcx)
 incq %rcx
 # mp max
 movb $6, (%rcx)
 incq %rcx
 # vision
 movb $3, (%rcx)
 incq %rcx
 # rotation
 movb $0, (%rcx)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

.global createArcaneElemental
# Create Arcane Elemental
# Params:
# RDI: INT POS X
# RSI: INT POS Y
# RDX: INT TEAM
# RCX: game_state *state
createArcaneElemental:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 movq %rcx, %rdx
 call createUnit

 popq %rcx
 popq %rdx
 popq %rsi
 popq %rdi

 imul $12, %rax
 addq $10192, %rcx
 addq %rax, %rcx
 # hp
 movb $150, (%rcx)
 incq %rcx
 # hp max
 movb $150, (%rcx)
 addq $3, %rcx
 # type
 movb $7, (%rcx)
 incq %rcx
 # team
 movb %dl, (%rcx)
 incq %rcx
 # range
 movb $3, (%rcx)
 incq %rcx
 # damage
 movb $80, (%rcx)
 incq %rcx
 # mp
 movb $0, (%rcx)
 incq %rcx
 # mp max
 movb $4, (%rcx)
 incq %rcx
 # vision
 movb $6, (%rcx)
 incq %rcx
 # rotation
 movb $0, (%rcx)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret
# 4 "main.S" 2
# 1 "colors.S" 1
# 15 "colors.S"
.data
F00: .float 0.0
F10: .float 1.0
F55: .float 0.55
F15: .float 0.15
F05: .float 0.5
F08: .float 0.8
F04: .float 0.4
F02: .float 0.2
F35: .float 0.35
F01: .float 0.1
F66: .float 0.66
F09: .float 0.9
F03: .float 0.3
F07: .float 0.7
F95: .float 0.95
.text
.global loadColors
loadColors:
 pushq %rbp
 movq %rsp, %rbp
 pushq %rdi
 subq $8, %rsp
 movq $216, %rdi
 call malloc



 movss F00, %xmm0; movss %xmm0, 0(%rax);
 movss F00, %xmm0; movss %xmm0, 4(%rax);
 movss F00, %xmm0; movss %xmm0, 8(%rax);

 movss F10, %xmm0; movss %xmm0, 12(%rax);
 movss F10, %xmm0; movss %xmm0, 16(%rax);
 movss F10, %xmm0; movss %xmm0, 20(%rax);

 movss F55, %xmm0; movss %xmm0, 24(%rax);
 movss F15, %xmm0; movss %xmm0, 28(%rax);
 movss F05, %xmm0; movss %xmm0, 32(%rax);

 movss F08, %xmm0; movss %xmm0, 36(%rax);
 movss F04, %xmm0; movss %xmm0, 40(%rax);
 movss F02, %xmm0; movss %xmm0, 44(%rax);

 movss F15, %xmm0; movss %xmm0, 48(%rax);
 movss F15, %xmm0; movss %xmm0, 52(%rax);
 movss F15, %xmm0; movss %xmm0, 56(%rax);

 movss F35, %xmm0; movss %xmm0, 60(%rax);
 movss F35, %xmm0; movss %xmm0, 64(%rax);
 movss F35, %xmm0; movss %xmm0, 68(%rax);

 movss F01, %xmm0; movss %xmm0, 72(%rax);
 movss F66, %xmm0; movss %xmm0, 76(%rax);
 movss F01, %xmm0; movss %xmm0, 80(%rax);

 movss F09, %xmm0; movss %xmm0, 84(%rax);
 movss F09, %xmm0; movss %xmm0, 88(%rax);
 movss F03, %xmm0; movss %xmm0, 92(%rax);

 movss F08, %xmm0; movss %xmm0, 96(%rax);
 movss F02, %xmm0; movss %xmm0, 100(%rax);
 movss F02, %xmm0; movss %xmm0, 104(%rax);

 movss F10, %xmm0; movss %xmm0, 108(%rax);
 movss F05, %xmm0; movss %xmm0, 112(%rax);
 movss F08, %xmm0; movss %xmm0, 116(%rax);

 movss F02, %xmm0; movss %xmm0, 120(%rax);
 movss F07, %xmm0; movss %xmm0, 124(%rax);
 movss F95, %xmm0; movss %xmm0, 128(%rax);

 movss F01, %xmm0; movss %xmm0, 132(%rax);
 movss F01, %xmm0; movss %xmm0, 136(%rax);
 movss F95, %xmm0; movss %xmm0, 140(%rax);

 addq $8, %rsp
 popq %rdi
 movq %rax, (%rdi)
 movq %rbp, %rsp
 popq %rbp
 ret

.global getUnitTeamColor
getUnitTeamColor:
 pushq %rbp
 movq %rsp, %rbp

 cmpq $0, %rdi
 je CASE0
 cmpq $1, %rdi
 je CASE1
 jne CASE2
CASE0:
 movq $2, %rax
 jmp ENDGTC
CASE1:
 movq $3, %rax
 jmp ENDGTC
CASE2:
 movq $9, %rax
 jmp ENDGTC

ENDGTC:
 movq %rbp, %rsp
 popq %rbp
 ret
# 5 "main.S" 2
# 1 "gl_object.S" 1
.global createGLObject
createGLObject:
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 subq $16, %rsp

 movq $48, %rdi
 call malloc
 movq %rax, -24(%rbp)

 movq -16(%rbp), %rcx
 movq %rcx, 8(%rax)



 movq $4, %rax
 mulq -16(%rbp)
 movq %rax, %rdi
 call malloc
 movq -24(%rbp), %rcx
 movq %rax, (%rcx)


 movq -24(%rbp), %rcx
 movq $1 , 24(%rcx)


 movq -24(%rbp), %rcx
 movq $0x0006 , 44(%rcx)


 movq -24(%rbp), %rcx
 movq $0 , 32(%rcx)


 movq -24(%rbp), %rcx
 movq $0 , 16(%rcx)


 movq -24(%rbp), %rcx
 movq -8(%rbp), %rdi
 movq %rcx, (%rdi)

 addq $16, %rsp
 popq %rsi
 popq %rdi

 movq %rbp, %rsp
 popq %rbp
 ret

.global createGLObjectEmpty
createGLObjectEmpty:
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 subq $16, %rsp

 movq $48, %rdi
 call malloc
 movq %rax, -24(%rbp)

 movq $0, 8(%rax)


 movq -24(%rbp), %rcx
 movq $1 , 24(%rcx)


 movq -24(%rbp), %rcx
 movq $0x0006 , 44(%rcx)


 movq -24(%rbp), %rcx
 movq $0 , 32(%rcx)


 movq -24(%rbp), %rcx
 movq $0 , 16(%rcx)


 movq -24(%rbp), %rcx
 movq -8(%rbp), %rdi
 movq %rcx, (%rdi)

 addq $16, %rsp
 popq %rsi
 popq %rdi

 movq %rbp, %rsp
 popq %rbp
 ret

.global addGLObject
addGLObject:
 pushq %rbp
 movq %rsp, %rbp

 subq $16, %rsp

 movq (%rsi), %rax
 movq %rax, -8(%rbp)

 cmpq $0, %rax
 jne ELSEGO1
IFGO1:
 movq %rdi, (%rsi)
 jmp ENDGO1

ELSEGO1:
 movq 16(%rax), %rcx

 cmpq $0, %rcx

 jne ELSEGO2
 IFGO2:
  movq %rdi, 16(%rax)
  jmp ENDGO2
 ELSEGO2:
  leaq 16(%rax), %rsi
  call addGLObject
 ENDGO2:

ENDGO1:

 addq $16, %rsp

 movq %rbp, %rsp
 popq %rbp
 ret





.global removeGLObject
removeGLObject:
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 subq $16, %rsp


 cmpq $0, %rdi
 je ENDRGO

 cmpq $0, %rsi
 je ENDRGO


 movq -8(%rbp), %rax
 movq (%rax), %rax
 movq %rax, -24(%rbp)


 movq -24(%rbp), %rax
 movq -16(%rbp), %rdx
 cmpq %rdx, %rax
 jne ELSERGO1
 IFRGO1:


  movq -16(%rbp), %rdx
  cmpq $0, 16(%rdx)
  je AFTERIFRGO2
  IFRGO2:

   movq 32(%rdx), %rdi
   call free
  AFTERIFRGO2:

  movq -16(%rbp), %rax
  movq 16(%rax), %rax
  movq -8(%rbp), %rdx
  movq %rax, (%rdx)


  movq -16(%rbp), %rdi
  call free

  jmp ENDRGO

 ELSERGO1:
 WHILERGO1:

  movq -24(%rbp), %rax
  cmpq $0, %rax
  je ENDRGO


  movq -16(%rbp), %rdx
  movq -24(%rbp), %rax
  cmpq 16(%rax), %rdx
  jne AFTERIFRGO3

  IFRGO3:

   movq -24(%rbp), %rax
   addq $16, %rax
   movq -16(%rbp), %rdx
   movq 16(%rdx), %rdx
   movq %rdx, (%rax)


   movq -16(%rbp), %rdx
   cmpq $0, 32(%rdx)
   je AFTERIFRGO4
   IFRGO4:
    movq 32(%rdx), %rdi
    call free
   AFTERIFRGO4:
   movq -16(%rbp), %rdi
   call free

  AFTERIFRGO3:


  movq -24(%rbp), %rax
  movq 16(%rax), %rcx
  movq %rcx, -24(%rbp)
  jmp WHILERGO1

ENDRGO:
 movq %rbp, %rsp
 popq %rbp
 ret
# 6 "main.S" 2
# 1 "text.S" 1
.global updateText
updateText:
 pushq %rbp
 movq %rsp, %rbp

 subq $48, %rsp
 movq %rdi, -8(%rbp)
 movss %xmm0, -16(%rbp)
 movss %xmm1, -24(%rbp)
 movq %rsi, -32(%rbp)


 movq -8(%rbp), %rdi
 call strlen
 movq $0, -48(%rbp)
 movl %eax, -48(%rbp)


 leaq -40(%rbp), %rdi
 movq $40, %rax
 mulq -48(%rbp)
 movq %rax, %rsi
 call createGLObject


 movq -40(%rbp), %rax
 movq $4, 40(%rax)


 movq -48(%rbp), %rax
 incq %rax
 movq %rax, %rdi
 call malloc

 movq -40(%rbp), %rdx
 leaq 32(%rdx), %rdx
 movq %rax, (%rdx)


 movq -40(%rbp), %rax
 movq 32(%rax), %rdi
 movq -8(%rbp), %rsi
 call strcpy


 movq -40(%rbp), %rdi
 movq -32(%rbp), %rax
 leaq 16(%rax), %rsi
 call addGLObject


 movq -40(%rbp), %rax
 movss -16(%rbp), %xmm0
 movq (%rax), %rax
 movss %xmm0, (%rax)


 movq -40(%rbp), %rax
 movq (%rax), %rax
 movss -24(%rbp), %xmm0
 movss %xmm0, 4(%rax)


 movq -40(%rbp), %rax
 movq (%rax), %rax
 movss F10, %xmm0
 movss %xmm0, 8(%rax)

 movq %rbp, %rsp
 popq %rbp
 ret

.global updateTextAlpha
updateTextAlpha:
 pushq %rbp
 movq %rsp, %rbp

 subq $48, %rsp
 movq %rdi, -8(%rbp)
 movss %xmm0, -16(%rbp)
 movss %xmm2, -20(%rbp)
 movss %xmm1, -24(%rbp)
 movq %rsi, -32(%rbp)


 movq -8(%rbp), %rdi
 call strlen
 movq $0, -48(%rbp)
 movl %eax, -48(%rbp)


 leaq -40(%rbp), %rdi
 movq $40, %rax
 mulq -48(%rbp)
 movq %rax, %rsi
 call createGLObject


 movq -40(%rbp), %rax
 movq $4, 40(%rax)


 movq -48(%rbp), %rax
 incq %rax
 movq %rax, %rdi
 call malloc

 movq -40(%rbp), %rdx
 leaq 32(%rdx), %rdx
 movq %rax, (%rdx)


 movq -40(%rbp), %rax
 movq 32(%rax), %rdi
 movq -8(%rbp), %rsi
 call strcpy


 movq -40(%rbp), %rdi
 movq -32(%rbp), %rax
 leaq 16(%rax), %rsi
 call addGLObject


 movq -40(%rbp), %rax
 movss -16(%rbp), %xmm0
 movq (%rax), %rax
 movss %xmm0, (%rax)


 movq -40(%rbp), %rax
 movq (%rax), %rax
 movss -24(%rbp), %xmm0
 movss %xmm0, 4(%rax)


 movq -40(%rbp), %rax
 movq (%rax), %rax
 movss -20(%rbp), %xmm0
 movss %xmm0, 8(%rax)

 movq %rbp, %rsp
 popq %rbp
 ret

.data
MSG_UTYPE: .asciz "Unit type: %s"
MSG_HPLEFT: .asciz "HP: %d/%d"
MSG_MOVE: .asciz "Move Points: %d/%d"
MSG_DMG: .asciz "Damage: %d"
MSG_UINFO: .asciz "Options: TAB-CycleUnits, V-Move, T-Attack"
MSG_BINFO: .asciz "Options: TAB-CycleUnits, B-Build, ESC-ExitBuild"
MSG_BOPT: .asciz "1-Wisp(50 E), 2-Golem(100 E), 3-Unbound Elemental(100 E), 4-Arcane Pulse(600 E)"
FN96: .float -0.96
FN75: .float -0.75
FN80: .float -0.80
FN85: .float -0.85
FN90: .float -0.90
FN95: .float -0.95
.text
.global renderUnitText
renderUnitText:
 pushq %rbp
 movq %rsp, %rbp

 subq $272, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)
 movq %rdx, -24(%rbp)
 movq -16(%rbp), %rax
 leaq 10192(%rax), %rdx
 movq %rdx, -32(%rbp)


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax
 movq $0, %rdx
 movb 8(%rax), %dl
 movq $0, -40(%rbp)
 movb %dl, -40(%rbp)
 movb 4(%rax), %dl
 movq -16(%rbp), %rax
 leaq 11592(%rax), %rax

 imul $20, %rdx
 addq %rdx, %rax
 leaq (%rax), %rcx
 movq $0, %rax
 movq $MSG_UTYPE, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN96, %xmm0
 movss FN75, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax
 movq $0, %rdx
 movb 0(%rax), %dl
 movq %rdx, %rcx

 movq $0, %rdx
 movb 1(%rax), %dl
 movq %rdx, %r8

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_HPLEFT, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN96, %xmm0
 movss FN80, %xmm1
 movq -24(%rbp), %rsi
 call updateText

 cmpb $0, -40(%rbp)
 je IFW

IFNOTW:
 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax
 movq $0, %rdx
 movb 8(%rax), %dl
 movq %rdx, %rcx

 movq $0, %rdx
 movb 9(%rax), %dl
 movq %rdx, %r8

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_MOVE, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN96, %xmm0
 movss FN85, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 movq $0, %rdx
 movb 7(%rax), %dl
 movq %rdx, %rcx

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_DMG, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN96, %xmm0
 movss FN90, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_UINFO, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN96, %xmm0
 movss FN95, %xmm1
 movq -24(%rbp), %rsi
 call updateText
 jmp ENDWW
IFW:

 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_BINFO, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN96, %xmm0
 movss FN85, %xmm1
 movq -24(%rbp), %rsi
 call updateText

 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_BOPT, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN96, %xmm0
 movss FN90, %xmm1
 movq -24(%rbp), %rsi
 call updateText

ENDWW:
 movq %rbp, %rsp
 popq %rbp
 ret

.data
MSG_H1: .asciz "Help menu"
MSG_H2: .asciz "General:"
MSG_H3: .asciz "H - Help menu, ESC(hold) - Exit game, CTRL+S - Save, CTRL+L - Load"
MSG_H4: .asciz "Normal mode (no unit selected):"
MSG_H5: .asciz "WASD/LeftClick - Move camera, TAB - Select next unit, ENTER - End your turn"
MSG_H6: .asciz "Normal mode (unit selected):"
MSG_H7: .asciz "T - Attack mode, V - Move mode"
MSG_H8: .asciz "Move mode:"
MSG_H9: .asciz "WASD/Mouse - move cursor, Click/Space - confirm movement"
MSG_H10: .asciz "Attack mode:"
MSG_H11: .asciz "WASD/Mouse - move attack cursor, Click/Space - confirm attack"
MSG_H12: .asciz "Build mode (workshop selected):"
MSG_H13: .asciz "1 - Wisp, 2 - Golem, 3 - Unbound Elemental, 4 - Arcane Pulse"
FN07: .float -0.7
FF1: .float 0.7
FF2: .float 0.5
FF3: .float 0.45
FF4: .float 0.35
FF5: .float 0.30
FF6: .float 0.20
FF7: .float 0.15
FF8: .float 0.05
FF9: .float 0.00
FF10: .float -0.1
FF11: .float -0.15
FF12: .float -0.25
FF13: .float -0.30

.text
.global renderHelpText
renderHelpText:
 pushq %rbp
 movq %rsp, %rbp

 subq $272, %rsp
 movq $0, -8(%rbp)
 movq %rdi, -16(%rbp)
 movq %rsi, -24(%rbp)
 movq -16(%rbp), %rax
 leaq 10192(%rax), %rdx
 movq %rdx, -32(%rbp)



 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H1, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF1, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H2, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF2, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H3, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF3, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H4, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF4, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H5, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF5, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H6, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF6, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H7, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF7, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H8, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF8, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H9, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF9, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H10, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF10, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H11, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF11, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H12, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF12, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_H13, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN07, %xmm0
 movss FF13, %xmm1
 movq -24(%rbp), %rsi
 call updateText

 movq %rbp, %rsp
 popq %rbp
 ret

.data
MSG_FPS: .asciz "%d FPS"
MSG_PLAYER: .asciz "Player: %d"
MSG_TURN: .asciz "Turn: %d"
MSG_ESSENCE: .asciz "Essence: %d (+%d)"
MSG_HELP: .asciz "Press H to see controls"
FN79: .float -0.79
FN83: .float -0.83
FN87: .float -0.87
FN65: .float -0.65
FONE: .float 1.0
.text
.global renderPersistentTexts
renderPersistentTexts:

 pushq %rbp
 movq %rsp, %rbp

 subq $272, %rsp
 movq %rdi, -16(%rbp)
 movq %rsi, -24(%rbp)
 movq -16(%rbp), %rax

 movq $100, %rsi

 movsd 11856(%rax), %xmm0
cvtsd2ss %xmm0, %xmm0
 movss FONE, %xmm1
 divss %xmm0, %xmm1
 movss %xmm1, %xmm0
cvtss2siq %xmm0, %rcx
 leaq -256(%rbp), %rdi
 movq $0, %rax
 movq $MSG_FPS, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss F55, %xmm0
 movss FN75, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 movq $100, %rsi

 movq -16(%rbp), %rax
 movq $0, %rcx
 movl 11800(%rax), %ecx
 movq %rcx, -32(%rbp)
 leaq -256(%rbp), %rdi
 movq $0, %rax
 movq $MSG_PLAYER, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss F55, %xmm0
 movss FN79, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 movq $100, %rsi

 movq -16(%rbp), %rax
 movq $0, %rcx
 movl 11804(%rax), %ecx
 shrq $1, %rcx
 leaq -256(%rbp), %rdi
 movq $0, %rax
 movq $MSG_TURN, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss F55, %xmm0
 movss FN83, %xmm1
 movq -24(%rbp), %rsi
 call updateText

 movq -16(%rbp), %rax
 cmpl $4, 11836(%rax)
 je SKIPP

 movq $100, %rsi

 movq -16(%rbp), %rax
 movq -32(%rbp), %rdx
 imul $24, %rdx
 addq %rdx, %rax
 addq $10000, %rax
 movq (%rax), %rcx
 movq 4(%rax), %r8
 leaq -256(%rbp), %rdi
 movq $0, %rax
 movq $MSG_ESSENCE, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss F55, %xmm0
 movss FN87, %xmm1
 movq -24(%rbp), %rsi
 call updateText

SKIPP:

 movq $100, %rsi

 leaq -256(%rbp), %rdi
 movq $0, %rax
 movq $MSG_HELP, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN96, %xmm0
 movss FN65, %xmm1
 movq -24(%rbp), %rsi
 call updateText
 movq %rbp, %rsp
 popq %rbp
 ret


.text
MSG_EPND: .asciz "Enemy Pulse: inactive"
MSG_EP: .asciz "Enemy Pulse: %d turns"
MSG_YPND: .asciz "Your Pulse: inactive"
MSG_YP: .asciz "Your Pulse: %d turns"
MSG_PENTER: .asciz "Press ENTER to start your turn"
TESTPRINT: .asciz "%d. x: %d\n"
PS: .asciz "%s"
FN91: .float -0.91
F06: .float 0.6
FN03: .float -0.3
FN02: .float -0.2
TESTMSG: .asciz "DEBUG: %f %f %f\n"
PRINTFLOATS: .asciz "%d. ax:%.2f, ay:%.2f, bw:%.2f, bh:%.2f, bl:%.2f, bt:%.2f tx:%.2f\n"
.global updateTexts
updateTexts:

 pushq %rbp
 movq %rsp, %rbp

 subq $272, %rsp

 movq %rdi, -16(%rbp)
 movq %rsi, -24(%rbp)
 movq -16(%rbp), %rax


WHILEWWW:
 movq -24(%rbp), %rdx
 cmpq $0, 16(%rdx)
 je ENDWWW

 leaq 16(%rdx), %rdi
 movq 16(%rdx), %rsi
 call removeGLObject

 jmp WHILEWWW
ENDWWW:
 movq -16(%rbp), %rdi
 movq -24(%rbp), %rsi
 call renderPersistentTexts


 movq -16(%rbp), %rdx
 movq $0, %rax
 movl 11800(%rdx), %eax
 xorq $1, %rax
 imul $24, %rax
 movq -16(%rbp), %rdx
 addq $10000, %rdx
 addq %rdx, %rax
 cmpl $-1, 8(%rax)
 jne ELSETT
IFTT:
 movq $100, %rsi

 leaq -256(%rbp), %rdi
 movq $0, %rax
 movq $MSG_EPND, %rdx
 call snprintf


 jmp ENDTT
ELSETT:
 movq $100, %rsi

 leaq -256(%rbp), %rdi
 movq $0, %rcx
 movl 8(%rax), %ecx
 movq $0, %rax
 movq $MSG_EP, %rdx
 call snprintf
ENDTT:

 leaq -256(%rbp), %rdi
 movss F55, %xmm0
 movss FN91, %xmm1
 movq -24(%rbp), %rsi
 call updateText


 movq -16(%rbp), %rdx
 movq $0, %rax
 movl 11800(%rdx), %eax
 imul $24, %rax
 movq -16(%rbp), %rdx
 addq $10000, %rdx
 addq %rdx, %rax
 cmpl $-1, 8(%rax)
 jne ELSETT2
IFTT2:
 movq $100, %rsi

 leaq -256(%rbp), %rdi
 movq $0, %rax
 movq $MSG_YPND, %rdx
 call snprintf


 jmp ENDTT2
ELSETT2:
 movq $100, %rsi

 leaq -256(%rbp), %rdi
 movq $0, %rcx
 movl 8(%rax), %ecx
 movq $0, %rax
 movq $MSG_YP, %rdx
 call snprintf
ENDTT2:

 leaq -256(%rbp), %rdi
 movss F55, %xmm0
 movss FN95, %xmm1
 movq -24(%rbp), %rsi
 call updateText

 movq $-1, -32(%rbp)
 movq -16(%rbp), %rax
 cmpl $-1, 11812(%rax)
 je ELSESU
 movq $0, %rdx
 movl 11812(%rax), %edx
 movq %rdx, -32(%rbp)

ELSESU:
 cmpl $-1, 11816(%rax)
 je ELSETU
 movq $0, %rdx
 movl 11816(%rax), %edx
 movq %rdx, -32(%rbp)

ELSETU:

 cmpl $-1, -32(%rbp)
 je ELSEDU
 movq -32(%rbp), %rdi
 movq -16(%rbp), %rsi
 movq -24(%rbp), %rdx
 call renderUnitText
ELSEDU:
 movq -16(%rbp), %rax
 movss 11844(%rax), %xmm0
 movss F00, %xmm1
 ucomiss %xmm1, %xmm0
 jb ELSEAE
 movq -16(%rbp), %rdx
 movsd 11856(%rdx), %xmm1
 movss 11844(%rax), %xmm2
cvtsd2ss %xmm1, %xmm1
 subss %xmm1, %xmm2
 movss %xmm2, 11844(%rax)

 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq $PS, %rdx
 leaq 11392(%rax), %rcx
 call snprintf

 movq -16(%rbp), %rax
 leaq -256(%rbp), %rdi
 movss FN03, %xmm0
 movss F06, %xmm1
 movss 11844(%rax), %xmm2
 movss 11848(%rax), %xmm3
 divss %xmm3, %xmm2
 movq -24(%rbp), %rsi

 movq -16(%rbp), %rax
 leaq -256(%rbp), %rdi
 movss FN03, %xmm0
 movss F06, %xmm1
 movss 11844(%rax), %xmm2
 movss 11848(%rax), %xmm3
 divss %xmm3, %xmm2
 movq -24(%rbp), %rsi
 call updateTextAlpha

ELSEAE:


 movq -16(%rbp), %rax
 cmpl $4, 11836(%rax)
 jne SKIPPP

 leaq -256(%rbp), %rdi
 movq $100, %rsi
 movq -32(%rbp), %rax
 movq -8(%rbp), %rdx
 imul $12, %rdx
 addq %rdx, %rax

 imul $20, %rdx
 addq %rdx, %rax
 movq $0, %rax
 movq $MSG_PENTER, %rdx
 call snprintf

 leaq -256(%rbp), %rdi
 movss FN02, %xmm0
 movss F00, %xmm1
 movq -24(%rbp), %rsi
 call updateText

SKIPPP:

 movq -16(%rbp), %rax
 cmpl $1, 11840(%rax)
 jne ELSEHELP
 movq -16(%rbp), %rdi
 movq -24(%rbp), %rsi
 call renderHelpText
ELSEHELP:

 movq %rbp, %rsp
 popq %rbp
 ret




.global initializeFontGL

initializeFontGL:
 pushq %rbp
 movq %rsp, %rbp

 subq $128, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)
 leaq 120(%rsi), %rax
 movq %rax, -24(%rbp)
 movq (%rax), %rax
 movq 152(%rax), %rax
 movq %rax, -32(%rbp)
 movq $0, -40(%rbp)
 movq $0, -48(%rbp)
 movq $32, -56(%rbp)
FORFGL:
 cmpq $128, -56(%rbp)
 jge ENDFORFGL

 movq -24(%rbp), %rax
 movq (%rax), %rdi
 movq -56(%rbp), %rsi
 movq $( 1L << 2 ), %rdx
 call FT_Load_Char

 movq -32(%rbp), %rax
 movq 156(%rax), %rax
 addq %rax, -40(%rbp)

 movq -32(%rbp), %rax
 movl 152(%rax), %eax

 cmpl %eax, -48(%rbp)
 jge ELSEBR
 movl %eax, -48(%rbp)

ELSEBR:

 incq -56(%rbp)
 jmp FORFGL
ENDFORFGL:


 movq -16(%rbp), %rax
 leaq 104(%rax), %rax
 movq -40(%rbp), %rdx
 movq %rdx, (%rax)


 movq -16(%rbp), %rax
 leaq 108(%rax), %rax
 movq -48(%rbp), %rdx
 movq %rdx, (%rax)


 subq $8, %rsp
 pushq $0
 pushq $5121
 pushq $6403
 movl $0, %r9d
 movl -48(%rbp), %r8d
 movl -40(%rbp), %ecx
 movl $1, %edx
 movl $0, %esi
 movl $3553, %edi
 call glTexImage2D
 addq $32, %rsp

 movl $9729, %edx
 movl $10241, %esi
 movl $3553, %edi
 call glTexParameteri

 movl $9729, %edx
 movl $10240, %esi
 movl $3553, %edi
 call glTexParameteri

 movl $1, %esi
 movl $3317, %edi
 call glPixelStorei

 movq $0, -64(%rbp)
 movq $32, -56(%rbp)
FORFGL2:
 cmpq $128, -56(%rbp)
 jge ENDFORFGL2

 movq $( 1L << 2 ), %rdx
 movq -56(%rbp), %rsi
 movq -24(%rbp), %rax
 movq (%rax), %rdi
 call FT_Load_Char

 cmpq $0, %rax
 jne CONTIN

 subq $8, %rsp
 movq -32(%rbp), %rax
 pushq 168(%rax)
 pushq $5121
 pushq $6403
 movl 152(%rax), %r9d

 movl 156(%rax), %r8d
 movl $0, %ecx
 movl -64(%rbp), %edx
 movl $0, %esi
 movl $3553, %edi
 call glTexSubImage2D
 addq $32, %rsp


 movq -32(%rbp), %rax
 movq 128(%rax), %rax
 shrq $6, %rax


 cvtsi2ssq %rax, %xmm0
 movq -16(%rbp), %rcx
 movq -56(%rbp), %rax
 movq %rax, %rdx

 shlq $3, %rax
 subq %rdx, %rax
 salq $2, %rax
 addq %rcx, %rax
 addq $152, %rax
 movss %xmm0, (%rax)
 movss %xmm0, %xmm2


 movq -32(%rbp), %rax
 movq 136(%rax), %rax
 shrq $6, %rax

 cvtsi2ssq %rax, %xmm0
 movq -16(%rbp), %rcx
 movq -56(%rbp), %rax

 shlq $3, %rax
 subq %rdx, %rax
 salq $2, %rax
 addq %rcx, %rax
 addq $156, %rax
 movss %xmm0, (%rax)
 movss %xmm0, %xmm3


 movq -32(%rbp), %rax
 movl 156(%rax), %eax

 cvtsi2ssl %eax, %xmm0

 movq -16(%rbp), %rcx
 movq -56(%rbp), %rax

 shlq $3, %rax
 subq %rdx, %rax
 salq $2, %rax
 addq %rcx, %rax
 addq $160, %rax
 movss %xmm0, (%rax)
 movss %xmm0, %xmm4


 movq -32(%rbp), %rax
 movl 152(%rax), %eax

 cvtsi2ssl %eax, %xmm0

 movq -16(%rbp), %rcx
 movq -56(%rbp), %rax

 shlq $3, %rax
 subq %rdx, %rax
 salq $2, %rax
 addq %rcx, %rax
 addq $164, %rax
 movss %xmm0, (%rax)
 movss %xmm0, %xmm5


 movq -32(%rbp), %rax
 movl 192(%rax), %eax

 cvtsi2ssl %eax, %xmm0
 movq -16(%rbp), %rcx
 movq -56(%rbp), %rax

 shlq $3, %rax
 subq %rdx, %rax
 salq $2, %rax
 addq %rcx, %rax
 addq $168, %rax
 movss %xmm0, (%rax)
 movss %xmm0, %xmm6


 movq -32(%rbp), %rax
 movl 196(%rax), %eax

 cvtsi2ssl %eax, %xmm0
 movq -16(%rbp), %rcx
 movq -56(%rbp), %rax

 shlq $3, %rax
 subq %rdx, %rax
 salq $2, %rax
 addq %rcx, %rax
 addq $172, %rax
 movss %xmm0, (%rax)
 movss %xmm0, %xmm7

 cvtsi2ssl -64(%rbp), %xmm0
 cvtsi2ssl -40(%rbp), %xmm1
 divss %xmm1, %xmm0

 movq -16(%rbp), %rcx
 movq -56(%rbp), %rax

 shlq $3, %rax
 subq %rdx, %rax
 salq $2, %rax
 addq %rcx, %rax
 addq $176, %rax
 movss %xmm0, (%rax)
 movss %xmm0, %xmm8

 movq -32(%rbp), %rax
 movl 156(%rax), %edx
 movl -64(%rbp), %eax
 addl %edx, %eax
 movl %eax, -64(%rbp)

 movq $7, %rax
 movq $PRINTFLOATS, %rdi
 movl -56(%rbp), %esi
 movss %xmm2, %xmm0
 movss %xmm3, %xmm1
 movss %xmm4, %xmm2
 movss %xmm5, %xmm3
 movss %xmm6, %xmm4
 movss %xmm7, %xmm5
 movss %xmm8, %xmm6

 cvtss2sd %xmm0, %xmm0
 cvtss2sd %xmm1, %xmm1
 cvtss2sd %xmm2, %xmm2
 cvtss2sd %xmm3, %xmm3
 cvtss2sd %xmm4, %xmm4
 cvtss2sd %xmm5, %xmm5
 cvtss2sd %xmm6, %xmm6
 call printf
CONTIN:
 incq -56(%rbp)
 jmp FORFGL2
ENDFORFGL2:

 movq %rbp, %rsp
 popq %rbp
 ret

.data
SXY: .float 0.00085
FN1: .float -1.0
F1: .float 1.0
PRF: .asciz "%f\n"
.text
.global drawCharacter
drawCharacter:
 pushq %rbp
 movq %rsp, %rbp
# 1282 "text.S"
 subq $256, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)
 movq %rdx, -24(%rbp)
 movq %rcx, -32(%rbp)
 movq %r8, -40(%rbp)
 movq %r9, -48(%rbp)
 movss %xmm0, -56(%rbp)

 movq 16(%rbp), %rax
 addq $152, %rax

 movq %rdi, %rdx
 imulq $28, %rdx

 addq %rdx, %rax
 movq %rax, -64(%rbp)

 movl (%r8), %eax
 movq $0, %rdx
 movl %eax, %edx

 imul $40, %rdx
 addl %edx, -32(%rbp)
 addl $6, %eax
 movl %eax, (%r8)


 movq -64(%rbp), %rax
 movss 16(%rax), %xmm0
 mulss SXY, %xmm0
 movq -16(%rbp), %rax
 movss (%rax), %xmm1
 addss %xmm1, %xmm0
 movss %xmm0, -68(%rbp)


 movq -64(%rbp), %rax
 movss 20(%rax), %xmm0
 mulss SXY, %xmm0
 movq -24(%rbp), %rax
 movss (%rax), %xmm1
 addss %xmm1, %xmm0
 mulss FN1, %xmm0
 movss %xmm0, -72(%rbp)


 movq -64(%rbp), %rax
 movss 8(%rax), %xmm0
 mulss SXY, %xmm0
 movss %xmm0, -76(%rbp)


 movq -64(%rbp), %rax
 movss 12(%rax), %xmm0
 mulss SXY, %xmm0
 movss %xmm0, -80(%rbp)
# 1347 "text.S"
 movss -68(%rbp), %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -72(%rbp), %xmm0
 mulss FN1, %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F00, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -56(%rbp), %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rdx
 movq -64(%rbp), %rax
 movss 24(%rax), %xmm0
 movss %xmm0, (%rdx)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F00, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)




 movss -68(%rbp), %xmm0
 movss -76(%rbp), %xmm1
 addss %xmm1, %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -72(%rbp), %xmm0
 mulss FN1, %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F00, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -56(%rbp), %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rdx
 movq -64(%rbp), %rax
 movq 24(%rax), %xmm0

 movq -64(%rbp), %rax
 movss 8(%rax), %xmm2

 movq 16(%rbp), %rax
 movl 104(%rax), %eax
cvtsi2ssl %eax, %xmm3

 divss %xmm3, %xmm2
 addss %xmm2, %xmm0

 movss %xmm0, (%rdx)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F00, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)



 movss -68(%rbp), %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -72(%rbp), %xmm0
 movss -80(%rbp), %xmm1
 addss %xmm1, %xmm0
 mulss FN1, %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F00, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -56(%rbp), %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rdx
 movq -64(%rbp), %rax
 movq 24(%rax), %xmm0
 movss %xmm0, (%rdx)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movq 16(%rbp), %rdx
 movq 108(%rdx), %rcx
cvtsi2ssl %ecx, %xmm1
 movq -64(%rbp), %rdx
 movss 12(%rdx), %xmm2
 divss %xmm1, %xmm2

 movss %xmm2, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -68(%rbp), %xmm0
 movss -76(%rbp), %xmm1
 addss %xmm1, %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -72(%rbp), %xmm0
 mulss FN1, %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F00, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -56(%rbp), %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rdx
 movq -64(%rbp), %rax
 movq 24(%rax), %xmm0

 movq -64(%rbp), %rax
 movss 8(%rax), %xmm2

 movq 16(%rbp), %rax
 movl 104(%rax), %eax
cvtsi2ssl %eax, %xmm3

 divss %xmm3, %xmm2
 addss %xmm2, %xmm0

 movss %xmm0, (%rdx)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F00, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)



 movss -68(%rbp), %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -72(%rbp), %xmm0
 movss -80(%rbp), %xmm1
 addss %xmm1, %xmm0
 mulss FN1, %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F00, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -56(%rbp), %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rdx
 movq -64(%rbp), %rax
 movq 24(%rax), %xmm0
 movss %xmm0, (%rdx)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movq 16(%rbp), %rdx
 movq 108(%rdx), %rcx
cvtsi2ssl %ecx, %xmm1
 movq -64(%rbp), %rdx
 movss 12(%rdx), %xmm2
 divss %xmm1, %xmm2

 movss %xmm2, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -68(%rbp), %xmm0
 movss -76(%rbp), %xmm1
 addss %xmm1, %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -72(%rbp), %xmm0
 movss -80(%rbp), %xmm1
 addss %xmm1, %xmm0
 mulss FN1, %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F00, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movss -56(%rbp), %xmm0
 movq -32(%rbp), %rax
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rdx
 movq -64(%rbp), %rax
 movq 24(%rax), %xmm0

 movq -64(%rbp), %rax
 movss 8(%rax), %xmm2

 movq 16(%rbp), %rax
 movl 104(%rax), %eax
cvtsi2ssl %eax, %xmm3

 divss %xmm3, %xmm2
 addss %xmm2, %xmm0

 movss %xmm0, (%rdx)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movq 16(%rbp), %rdx
 movq 108(%rdx), %rcx
cvtsi2ssl %ecx, %xmm1
 movq -64(%rbp), %rdx
 movss 12(%rdx), %xmm2
 divss %xmm1, %xmm2

 movss %xmm2, (%rax)
 addq $4, -32(%rbp)


 movq -32(%rbp), %rax
 movss F1, %xmm0
 movss %xmm0, (%rax)
 addq $4, -32(%rbp)





 movq -64(%rbp), %rax
 movss (%rax), %xmm0
 mulss SXY, %xmm0
 movq -16(%rbp), %rax
 movss (%rax), %xmm1
 addss %xmm0, %xmm1
 movss %xmm1, (%rax)

 movq -64(%rbp), %rax
 movss 4(%rax), %xmm0
 mulss SXY, %xmm0
 movq -24(%rbp), %rax
 movss (%rax), %xmm1
 addss %xmm0, %xmm1
 movss %xmm1, (%rax)

 movq %rbp, %rsp
 popq %rbp
 ret

.global drawText
drawText:

 pushq %rbp
 movq %rsp, %rbp

 subq $32000, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)
 movq %rdx, -24(%rbp)

 movq (%rdi), %rdi
 movss (%rdi), %xmm0
 movss %xmm0, -28(%rbp)
 movss 4(%rdi), %xmm0
 movss %xmm0, -32(%rbp)
 movss 8(%rdi), %xmm0
 movss %xmm0, -36(%rbp)


 movq -8(%rbp), %rax
 movq 32(%rax), %rdi
 call strlen
 movq %rax, -48(%rbp)


 movq -8(%rbp), %rax
 movq 32(%rax), %rax
 movq %rax, -64(%rbp)

 movq $0, -56(%rbp)
FORDT1:
 movq -64(%rbp), %rax
 cmpb $0, (%rax)
 je ENDFORDT1
 movq $0, %rdi
 movb (%rax), %dil
 leaq -28(%rbp), %rsi
 leaq -32(%rbp), %rdx
 movss -36(%rbp), %xmm0
 leaq -32000(%rbp), %rcx
 leaq -56(%rbp), %r8
 movq -16(%rbp), %r9
 subq $8, %rsp
 pushq -24(%rbp)
 call drawCharacter
 addq $16, %rsp

 incq -64(%rbp)
 jmp FORDT1
ENDFORDT1:

 movq -48(%rbp), %rax
 imul $240, %rax
 movq %rax, -48(%rbp)
 movq -48(%rbp), %rdi
 movq -24(%rbp), %rsi
 call updateStoreSizeGL

 movq $0x8892, %rdi
 movq $0, %rsi
 movq $0, %rdx
 movl -56(%rbp), %edx
 imul $40, %rdx
 leaq -32000(%rbp), %rcx
 call glBufferSubData

 movq $0x0004, %rdi
 movq $0, %rsi
 movq -56(%rbp), %rdx
 call glDrawArrays

 movq %rbp, %rsp
 popq %rbp
 ret

.data
ISTEXT: .asciz "isText"
.text
.global drawTexts
drawTexts:

 pushq %rbp
 movq %rsp, %rbp

 subq $64, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)

 movq -16(%rbp), %rax
 leaq 120(%rax), %rax
 movq %rax, -24(%rbp)

 movq -16(%rbp), %rax
 movq $0, %rdi
 movl 128(%rax), %edi
 call glBindVertexArray

 movq $0x8892, %rdi
 movq -16(%rbp), %rax
 movq $0, %rsi
 movl 132(%rax), %esi
 call glBindBuffer

 movq -16(%rbp), %rax
 movq $0, %rdi
 movl 136(%rax), %edi
 movq $ISTEXT, %rsi
 call glGetUniformLocation

 movq %rax, %rdi
 movq $1, %rsi
 call glUniform1i

 movq -16(%rbp), %rax
 movq 16(%rax), %rax
 movq %rax, -32(%rbp)

FORDT:
 cmpq $0, -32(%rbp)
 je ENDFORDT

 movq -32(%rbp), %rdi
 movq -8(%rbp), %rsi
 movq -16(%rbp), %rdx
 call drawText

 movq -32(%rbp), %rax
 movq 16(%rax), %rax
 movq %rax, -32(%rbp)
 jmp FORDT
ENDFORDT:



 movq %rbp, %rsp
 popq %rbp
 ret

.data
FONTPATH: .asciz "/usr/share/fonts/truetype/freefont/FreeSans.ttf"
.text
.global initFreetype
initFreetype:
 pushq %rbp
 movq %rsp, %rbp

 subq $32, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)


 call FT_Init_FreeType

 movq -8(%rbp), %rdi
 movq (%rdi), %rdi
 movq $FONTPATH, %rsi
 movq $0, %rdx
 movq -16(%rbp), %rcx
 call FT_New_Face

 movq -16(%rbp), %rdi
 movq (%rdi), %rdi
 movq $0, %rsi
 movq $256, %rdx
 movq $800, %rcx
 movq $800, %r8
 call FT_Set_Char_Size

 movq %rbp, %rsp
 popq %rbp
 ret
# 7 "main.S" 2
# 1 "game.S" 1
.text
PITEST: .asciz "%d\n"
DATASAVE: .asciz "data.save"
WORKSHOP: .asciz "Workshop"
GOLEM: .asciz "Golem"
WISP: .asciz "Wisp"
UELEMENTAL: .asciz "Unbound Elemental"
FELEMENTAL: .asciz "Fire Elemental"
WELEMENTAL: .asciz "Water Elemental"
IELEMENTAL: .asciz "Ice Elemental"
AELEMENTAL: .asciz "Arcane Elemental"
FTWO: .float 2.0
FTHREE: .float 3.0
NZERO: .float -0.0
NFIVE: .float -5.0
POF: .float 0.05
FIFTH: .float 0.2
TENTH: .float 0.1
FFOUR: .float 4.0
PERC_S: .asciz "%s"
FBOUND: .asciz "Your Elemental has been bound to fire!"
WBOUND: .asciz "Your Elemental has been bound to water!"
IBOUND: .asciz "Your Elemental has been bound to ice!"
NEESSENCE: .asciz "NOT ENOUGH ESSENCE!"
AYUDESTROY: .asciz "ALL YOUR UNITS WERE DESTROYED!"
EWAP: .asciz "ENEMY IS WINDING UP AN ARCANE PULSE!"
CMT: .asciz "Can't move there!"
NEMP: .asciz "Not enough MP!"
GAMEOVER: .asciz "Game Over! Hold ESCAPE to close the game."
F100000: .float 100000.0
SAVE: .asciz "Saving game..."
LOAD: .asciz "Loaded game!"
FP0022: .double 0.0022
DZERO: .double 0.0
STO: .asciz "Your spawn tile is occupied!!!"
FPOONE: .float 0.01
# Save State
# Params:
# RDI: game_state *state
.global saveState
saveState:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 movq %rdi, %rsi
 movq $11873, %rdx
 movq $DATASAVE, %rdi
 call writeFile

 movq %rbp, %rsp
 popq %rbp
 ret

# Load State
# Params:
# RDI: game_state *state
.global loadState
loadState:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 movq $DATASAVE, %rdi
 call loadFile
 movq %rax, %rsi
 popq %rdi
 movq $11872, %rdx
 call memcpy

# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Initialize Game State
# Params:
# RDI: game_state *state
.global initializeGameState
initializeGameState:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 movl $2, 11796(%rdi)
 movl $-1, 11800(%rdi)
 movl $0, 11828(%rdi)
 movl $1, 11804(%rdi)
 movl $0, 11836(%rdi)
 movl $0, 11808(%rdi)
 movl $-1, 11844(%rdi)
 movl $-1, 11812(%rdi)
 movl $-1, 11816(%rdi)
 movl NZERO, %eax
 movl %eax, 11760(%rdi)
 movl NZERO, %eax
 movl %eax, 11764(%rdi)
 movl NFIVE, %eax
 movl %eax, 11768(%rdi)
 movl NTWO, %eax
 movl %eax, 11772(%rdi)
 movl ZERO, %eax
 movl %eax, 11776(%rdi)
 movl NZERO, %eax
 movl %eax, 11780(%rdi)
 movl POF, %eax
 movl %eax, 11788(%rdi)
 movl FIFTH, %eax
 movl %eax, 11792(%rdi)
 movl TENTH, %eax
 movl %eax, 11784(%rdi)
 movl $-1, 10008(%rdi)
 movl $-1, 10032(%rdi)
 addq $11592, %rdi
 pushq %rdi
 movq $WORKSHOP, %rsi
 call strcpy
 movq -8(%rbp), %rdi
 addq $20, %rdi
 movq $GOLEM, %rsi
 call strcpy
 movq -8(%rbp), %rdi
 addq $40, %rdi
 movq $WISP, %rsi
 call strcpy
 movq -8(%rbp), %rdi
 addq $60, %rdi
 movq $UELEMENTAL, %rsi
 call strcpy
 movq -8(%rbp), %rdi
 addq $80, %rdi
 movq $FELEMENTAL, %rsi
 call strcpy
 movq -8(%rbp), %rdi
 addq $100, %rdi
 movq $WELEMENTAL, %rsi
 call strcpy
 movq -8(%rbp), %rdi
 addq $120, %rdi
 movq $IELEMENTAL, %rsi
 call strcpy
 movq -8(%rbp), %rdi
 addq $140, %rdi
 movq $AELEMENTAL, %rsi
 call strcpy

# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Update Essence Generation
# Params:
# RDI: int team
# RSI: game_state *state
.global updateEssenceGeneration
updateEssenceGeneration:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rsi
 imul $24, %rdi
 addq %rdi, %rsi
 addq $10004, %rsi
 movl $0, (%rsi)
 shrq $4, %rdi
 movq -8(%rbp), %rsi
 addq $11808, %rsi
 movq $0, %r10
 movl (%rsi), %r10d
 imul $12, %r10
 popq %rsi
 addq $10192, %rsi
 addq %rsi, %r10
 subq $12, %rsi
 addq $5, %rsi
UEGLOOP:
 addq $12, %rsi
 cmpq %r10, %rsi
 jg UEGEND
 cmpb (%rsi), %dil
 jne UEGLOOP
 movq $0, %r11
 movb -3(%rsi), %r11b
 imul $100, %r11
 movq $0, %r12
 movb -2(%rsi), %r12b
 addq %r12, %r11
 movq -8(%rbp), %r12
 addq %r11, %r12
 cmpb $1, -1(%rsi)
 jne UEGLOOP
 cmpb $2, (%r12)
 jne UEGLOOP
 movq -8(%rbp), %r11
 addq $10004, %r11
 imul $24, %rdi
 addq %rdi, %r11
 shrq $4, %rdi
 addl $20, (%r11)
 jmp UEGLOOP

UEGEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Update Essence Total
# Params:
# RDI: int team
# RSI: game_state *state
.global updateEssenceTotal
updateEssenceTotal:

# Prologue
 pushq %rbp
 movq %rsp, %rbp

 addq $10000, %rsi
 imul $24, %rdi
 addq %rdi, %rsi
 movl 4(%rsi), %edi
 addl %edi, (%rsi)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Alert Message
# Params:
# RDI: char *message
# XMM0: float time
# RSI: game_state *state
.global alertMessage
alertMessage:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 movss %xmm0, 11844(%rsi)
 movss %xmm0, 11848(%rsi)

 movq %rdi, %rcx
 leaq 11392(%rsi), %rdi
 movq $0, %rax
 movq $100, %rsi
 movq $PERC_S, %rdx
 call snprintf

# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Update Altars
# Params:
# RDI: int team
# RSI: game_state *state
.global updateAltars
updateAltars:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 subq $16, %rsp
# you can copy paste this to extract units[unit_count] into r10
 movq $0, -32(%rbp)
 movl 11808(%rsi), %eax
 movl %eax, -32(%rbp)
 movq -32(%rbp), %rax
 imulq $12, %rax
 movq %rax, -32(%rbp)
 addq %rsi, -32(%rbp)
 addq $10192, -32(%rbp)
 movq %rsi, %r11
 addq $10192, %r11
 subq $12, %r11
 movq $-1, -24(%rbp)
UALOOP:
 incq -24(%rbp)
 addq $12, %r11
 movq -32(%rbp), %rax
 cmpq %rax, %r11
 jge UAEND
 cmpb $3, 4(%r11)
 jne UALOOP
 movq $0, %rax
 movb 2(%r11), %al
 movq $0, %r8
 movb 3(%r11), %r8b
 imul $100, %r8
 addq %r8, %rax
 addq %rsi, %rax
 cmpb $4, (%rax)
 je UAFT
 cmpb $5, (%rax)
 je UAWT
 cmpb $6, (%rax)
 je UAIT
 jmp UALOOP
UAFT:
 pushq %rdi
 pushq %rsi
 movq $0, %rdi
 movq $9, %rsi
 movb 2(%r11), %dil
 movb 3(%r11), %sil
 pushq %rdi
 pushq %rsi
 movq -24(%rbp), %rdi
 movq -16(%rbp), %rsi
 pushq %r11
 call removeUnit
 popq %r11
 popq %rsi
 popq %rdi
 movq -8(%rbp), %rdx
 movq -16(%rbp), %rcx
 pushq %r11
 call createFireElemental
 popq %r11
 movq $FBOUND, %rdi
 movss FTWO, %xmm0
 movq -16(%rbp), %rsi
 pushq %r11
 call alertMessage
 popq %r11
 subq $12, %r11
 decq -24(%rbp)
 popq %rsi
 popq %rdi
 jmp UALOOP
UAWT:
 pushq %rdi
 pushq %rsi
 movq $0, %rdi
 movq $9, %rsi
 movb 2(%r11), %dil
 movb 3(%r11), %sil
 pushq %rdi
 pushq %rsi
 movq -24(%rbp), %rdi
 movq -16(%rbp), %rsi
 pushq %r11
 call removeUnit
 popq %r11
 popq %rsi
 popq %rdi
 movq -8(%rbp), %rdx
 movq -16(%rbp), %rcx
 pushq %r11
 call createWaterElemental
 popq %r11
 movq $WBOUND, %rdi
 movss FTWO, %xmm0
 movq -16(%rbp), %rsi
 pushq %r11
 call alertMessage
 popq %r11
 subq $12, %r11
 decq -24(%rbp)
 popq %rsi
 popq %rdi
 jmp UALOOP
UAIT:
 pushq %rdi
 pushq %rsi
 movq $0, %rdi
 movq $9, %rsi
 movb 2(%r11), %dil
 movb 3(%r11), %sil
 pushq %rdi
 pushq %rsi
 movq -24(%rbp), %rdi
 movq -16(%rbp), %rsi
 pushq %r11
 call removeUnit
 popq %r11
 popq %rsi
 popq %rdi
 movq -8(%rbp), %rdx
 movq -16(%rbp), %rcx
 pushq %r11
 call createIceElemental
 popq %r11
 movq $IBOUND, %rdi
 movss FTWO, %xmm0
 movq -16(%rbp), %rsi
 pushq %r11
 call alertMessage
 popq %r11
 subq $12, %r11
 decq -24(%rbp)
 popq %rsi
 popq %rdi
 jmp UALOOP
UAEND:
# Epilogue
 movq $0, %rax
 movq %rbp, %rsp
 popq %rbp
 ret

# Start Arcane Pulse
# Params:
# RDI: game_state *state
.global startArcanePulse
startArcanePulse:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 movq $0, %r10
 movl 11800(%rdi), %r10d
 imul $24, %r10
 addq $10000, %rdi
 addq %r10, %rdi
 cmpl $600, (%rdi)
 jl APNEE
 subl $600, (%rdi)
 movl $6, 8(%rdi)
 jmp APEND
APNEE:
 popq %rdi
 movq %rdi, %rsi
 movq $NEESSENCE, %rdi
 movss FTWO, %xmm0
 call alertMessage
APEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Kill All Enemies
# Params:
# RDI: int team
# RSI: game_state *state
.global killAllEnemies
killAllEnemies:
# Prologue
 pushq %rbp
 movq %rsp, %rbp
 pushq %rbx

 # you can copy paste this to extract units[unit_count] into r10
 movq $0, %r10
 movl 11808(%rsi), %r10d
 imul $12, %r10
 addq %rsi, %r10
 addq $10192, %r10
 movq $-1, %rcx
 movq %rsi, %rbx
 addq $10180, %rbx
KAELOOP:
 addq $12, %rbx
 incq %rcx
 cmpq %r10, %rbx
 jge KAEEND
 cmpb %dil, 5(%rbx)
 je KAELOOP
 cmpb $0, 4(%rbx)
 je KAELOOP
 pushq %rdi
 pushq %rsi
 pushq %rcx
 pushq %rbx
 pushq %r10
 movq %rcx, %rdi
 call removeUnit
 popq %r10
 popq %rbx
 popq %rcx
 popq %rsi
 popq %rdi
 subq $12, %r10
 subq $12, %rbx
 decq %rcx
 jmp KAELOOP
KAEEND:
 popq %rbx
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret


# Update Arcane Pulse
# Params:
# RDI: game_state *state
.global updateArcanePulse
updateArcanePulse:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 movq $0, %r9
 movl 11800(%rdi), %r9d
 imul $24, %r9
 addq $10008, %rdi
 addq %r9, %rdi
 cmpl $-1, (%rdi)
 je UAPEND
 decl (%rdi)
 cmpl $0, (%rdi)
 jne UAPEND
 shrq $4, %r9
 movq -8(%rbp), %rsi
 pushq %rdi
 movq %r9, %rdi
 call killAllEnemies
 popq %rdi
 movl $-1, (%rdi)
 popq %rsi
 movq $AYUDESTROY, %rdi
 movss FFOUR, %xmm0
 call alertMessage
UAPEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Unit Distance
# Params:
# RDI: int u1
# RSI: int u2
# RDX: game_state *state
#.global unitDistance
unitDistance:
# Prologue
 pushq %rbp
 movq %rsp, %rbp
 pushq %rdi
 pushq %rsi
 pushq %rdx
 movq %rdi, %rax
 imul $12, %rax
 addq %rdx, %rax
 addq $10192, %rax
 movq $0, %rdi
 movq $0, %rsi
 movb 2(%rax), %dil
 movb 3(%rax), %sil
 movq -16(%rbp), %rax
 imul $12, %rax
 addq -24(%rbp), %rax
 addq $10192, %rax
 movq $0, %rdx
 movq $0, %rcx
 movb 2(%rax), %dl
 movb 3(%rax), %cl
 call hexDistance
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Update Arcane Elemental
# Params:
# RDI: game_state *state
.global updateArcaneElemental
updateArcaneElemental:
# Prologue
 pushq %rbp
 movq %rsp, %rbp
 pushq %rdi
 #You can copy paste this to extract units[unit_count] into r10
 movq $0, %rax
 movl 11808(%rdi), %eax
 imul $12, %rax
 addq %rdi, %rax
 addq $10192, %rax
 pushq %rax
 movq -8(%rbp), %rdx
 addq $10180, %rdx
 pushq $-1
UAEFLOOP:
 incq -24(%rbp)
 addq $12, %rdx
 cmpq %rax, %rdx
 jge UAEFLEND
 cmpb $4, 4(%rdx)
 jne UAEFLOOP
 pushq %rdx
 movq -8(%rbp), %rdx
 addq $10180, %rdx
 pushq $-1
UAEWLOOP:
 incq -40(%rbp)
 addq $12, %rdx
 cmpq %rax, %rdx
 JGE UAEWLEND
 cmpb $5, 4(%rdx)
 jne UAEWLOOP
 pushq %rdx
 movq -24(%rbp), %rdi
 movq -40(%rbp), %rsi
 movq -8(%rbp), %rdx
 call unitDistance
 popq %rdx
 cmpq $1, %rax
 movq -16(%rbp), %rax
 jne UAEWLOOP
 pushq %rdx
 movq -8(%rbp), %rdx
 addq $10180, %rdx
 pushq $-1
UAEILOOP:
 incq -56(%rbp)
 addq $12, %rdx
 cmpq %rax, %rdx
 jge UAEILEND
 cmpb $6, 4(%rdx)
 jne UAEILOOP
 movq -24(%rbp), %rdi
 movq -56(%rbp), %rsi
 pushq %rdx
 movq -8(%rbp), %rdx
 call unitDistance
 popq %rdx
 cmpq $1, %rax
 movq -16(%rbp), %rax
 jne UAEILOOP
 movq -40(%rbp), %rdi
 movq -56(%rbp), %rsi
 pushq %rdx
 movq -8(%rbp), %rdx
 call unitDistance
 popq %rdx
 cmpq $1, %rax
 movq -16(%rbp), %rax
 jne UAEILOOP
 movq $0, %rdi
 movb 2(%rdx), %dil
 movq $0, %rsi
 movb 3(%rdx), %sil
 pushq %rdx
 pushq %rsi
 pushq %rdi
 movq -24(%rbp), %rdi
 movq -8(%rbp), %rsi
 call removeUnit
 movq -40(%rbp), %rdi
 movq -8(%rbp), %rsi
 call removeUnit
 movq -56(%rbp), %rdi
 movq -8(%rbp), %rsi
 call removeUnit
 popq %rdi
 popq %rsi
 popq %rdx
 decq -24(%rbp)
 decq -40(%rbp)
 decq -56(%rbp)
 subq $12, %rdx
 subq $12, -32(%rbp)
 subq $12, -48(%rbp)
 pushq %rdx
 movq -8(%rbp), %r11
 movq 11800(%r11), %rdx
 movq %r11, %rcx
 call createArcaneElemental
 popq %rdx
 jmp UAEILOOP

UAEILEND:
 popq %rdx
 popq %rdx
 jmp UAEWLOOP
UAEWLEND:
 popq %rdx
 popq %rdx
 jmp UAEFLOOP
UAEFLEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# is Unit in Vision Range
# Params:
# RDI: int target
# RSI: game_state *state
.global isUnitInVisionRange
isUnitInVisionRange:
# Prologue
 pushq %rbp
 movq %rsp, %rbp
 pushq %rsi
 movq %rdi, %rdx
 imul $12, %rdx
 addq %rsi, %rdx
 addq $10192, %rdx
 pushq %rdx
# You can copy paste this to extract units[unit_count] into rax
 movq $0, %rax
 movl 11808(%rsi), %eax
 imulq $12, %rax
 addq %rsi, %rax
 addq $10192, %rax
 pushq %rax
 pushq $-1
 movq -8(%rbp), %rax
 addq $10180, %rax
IUIVRLOOP:
 addq $12, %rax
 incq -32(%rbp)
 cmpq -24(%rbp), %rax
 jge UINIR
 movq $0, %rsi
 movq $0, %rdi
 movq -16(%rbp), %rdx
 movq 2(%rdx), %rdi
 movq 3(%rdx), %rsi
 movq 2(%rax), %rdx
 movq 3(%rax), %rcx
 pushq %rax
 call hexDistance
 movq %rax, %rdx
 popq %rax
 movq $0, %rsi
 movb 10(%rax), %sil
 cmpq %rsi, %rdx
 jg IUIVRLOOP
 movq -8(%rbp), %rcx
 movq $0, %rsi
 movl 11800(%rcx), %esi
 cmpb 5(%rax), %sil
 jne IUIVRLOOP
 jmp UIIR

UIIR:
 movq $1, %rax
 jmp IUIVREND

UINIR:
 movq $0, %rax
 jmp IUIVREND

IUIVREND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Turn
# Params:
# RDI: game_state *state
.global turn
turn:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 cmpl $-1, 11800(%rdi)
 je TURNN1
 movq -8(%rbp), %rsi
 movq $0, %rdi
 movl 11800(%rsi), %edi
 call updateEssenceTotal
 movq -8(%rbp), %rsi
 movq $0, %rdi
 movl 11800(%rsi), %edi
 call updateAltars
 movq -8(%rbp), %rdi
 call updateArcanePulse
 movq -8(%rbp), %rdi
 call updateArcaneElemental
 movq -8(%rbp), %rdi
 movq $0, %rsi
 movl 11800(%rdi), %esi
 imul $24, %rsi
 addq %rdi, %rsi
 addq $10008, %rsi
 cmpl $-1, (%rsi)
 je TTPN1
 movq $EWAP, %rdi
 movss FTHREE, %xmm0
 movq -8(%rbp), %rsi
 call alertMessage
TTPN1:
 movq -8(%rbp), %rdi
 movl $4, 11836(%rdi)
 jmp TURNCONT
TURNN1:
 movq -8(%rbp), %rdi
 movl $1, 11800(%rdi)
TURNCONT:
 movq -8(%rbp), %rdi
 xorl $1, 11800(%rdi)
 incl 11804(%rdi)

# You can copy paste this to extract units[unit_count] into rax
 movq -8(%rbp), %rdi
 movq $0, %rax
 movl 11808(%rdi), %eax
 imulq $12, %rax
 addq %rdi, %rax
 addq $10192, %rax
 pushq %rax
 movq %rax, %rsi
 addq $10192, %rdi
TURNLOOP:
 movb 9(%rdi), %al
 movb %al, 8(%rdi)
 addq $12, %rdi
 cmpq %rsi, %rdi
 jl TURNLOOP
 movq -8(%rbp), %rdi
 movl $-1, 11812(%rdi)
 movl $0, 11828(%rdi)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Is in Map Bounds
# Params:
# RDI: int x
# RSI: int y
# RDX: game_state *state
.global isInMapBounds
isInMapBounds:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 cmpl 11752(%rdx), %edi
 jge IIMBFALSE
 cmpl $0, %edi
 jl IIMBFALSE
 cmpl 11756(%rdx), %esi
 jge IIMBFALSE
 cmpl $0, %esi
 jl IIMBFALSE
 imul $100, %rsi
 addq %rdi, %rdx
 addq %rsi, %rdx
 cmpb $0, (%rdx)
 je IIMBFALSE
 jmp IIMBTRUE
IIMBFALSE:
 movq $0, %rax
 jmp IIMBEND
IIMBTRUE:
 movq $1, %rax
 jmp IIMBEND
IIMBEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Set Move Cursor
# Params:
# RDI: int new_move_x
# RSI: int new_move_y
# RDX: game_state *state
.global setMoveCursor
setMoveCursor:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 call isInMapBounds
 cmpl $0, %eax
 je SMCEND
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 movq -24(%rbp), %rdx
 movl %edi, 11820(%rdx)
 movl %esi, 11824(%rdx)

 movq $0, %rcx
 movl 11812(%rdx), %ecx
 imul $12, %rcx
 addq $10192, %rcx
 addq %rdx, %rcx
 pushq %rcx
 cmpb %dil, 2(%rcx)
 jne SMCIF
 cmpb %sil, 3(%rcx)
 jne SMCIF
 jmp SMCELSE
SMCIF:
 movq $0, %rdi
 movq $0, %rsi
 movb 2(%rcx), %dil
 movb 3(%rcx), %sil
 movq -8(%rbp), %rdx
 movq -16(%rbp), %rcx
 call calculateRotation
 movq -32(%rbp), %rdi
 movb %al, 11(%rdi)
SMCELSE:
 movq -24(%rbp), %rdi
 movl $1, 11828(%rdi)
 cmpl $-1, 11812(%rdi)
 je SMCELSE2
SMCIF2:
 movq -32(%rbp), %rdx
 movq $0, %rsi
 movq $0, %rdi
 movb 2(%rdx), %dil
 movb 3(%rdx), %sil
 movq -24(%rbp), %rax
 movq $0, %rdx
 movq $0, %rcx
 movl 11820(%rax), %edx
 movl 11824(%rax), %ecx
 call hexDistance
 movq -24(%rbp), %rdi
 movl %eax, 11832(%rdi)
 jmp SMCI2END
SMCELSE2:
 movq -24(%rbp), %rdi
 movl $0, 11832(%rdi)
SMCI2END:
 cmpl $0, 11832(%rdi)
 jne SMCSKIP
 movl $0, 11828(%rdi)
SMCSKIP:
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 movq -24(%rbp), %rdx
 call findUnit
 pushq %rax
 cmpq $-1, %rax
 je SMCSKIP2
 imul $12, %rax
 addq -24(%rbp), %rax
 addq $10192, %rax
 movq -24(%rbp), %rdi
 movq $0, %rsi
 movl 11800(%rdi), %esi
 cmpb %sil, 5(%rax)
 jne SMCTIF2
 movq $-1, -40(%rbp)
 jmp SMCSKIP2
SMCTIF2:
 movq -40(%rbp), %rdi
 movq -24(%rbp), %rsi
 call isUnitInVisionRange
 cmpl $1, %eax
 je SMCSKIP2
 movq $-1, -40(%rbp)
SMCSKIP2:
 movq -40(%rbp), %rax
 movq -24(%rbp), %rdi
 movl %eax, 11816(%rdi)
SMCEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Select Unit
# Params:
# RDI: int u
# RSI: game_state *state
.global selectUnit
selectUnit:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi

 cmpl $-1, %edi
 jne SUELSE
 movl $0, 11836(%rsi)
 movl $-1, 11812(%rsi)
 jmp SUEND
SUELSE:
 movl %edi, 11812(%rsi)
 movl $0, 11836(%rsi)
 imul $12, %rdi
 movq %rdi, %rax
 addq $10192, %rax
 addq %rsi, %rax
 movq %rsi, %rdx
 movq $0, %rdi
 movq $0, %rsi
 movb 2(%rax), %dil
 movb 3(%rax), %sil
 call setMoveCursor
 movq -8(%rbp), %rdi
 imul $12, %rdi
 addq -16(%rbp), %rdi
 addq $10192, %rdi
 cmpb $0, 4(%rdi)
 jne SUEND
 movq -16(%rbp), %rdi
 movl $3, 11836(%rdi)

SUEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Step
# Params:
# RDI:game_state *state
.global step
step:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi

 movq $0, %rax
 movl 11812(%rdi), %eax
 pushq %rax

 cmpl $-1, 11812(%rdi)
 jne STEPLOOP
 movq $0, %rax
 movq %rax, -16(%rbp)

STEPLOOP:
 movq -16(%rbp), %rax
 movq -8(%rbp), %rdi
 movq $0, %rsi
 movl 11808(%rdi), %esi
 shlq %rsi
 cmpq %rsi, %rax
 jg STEPEND
 incq %rax
 movq %rax, -16(%rbp)

 movq %rax, %rdi
 movq -8(%rbp), %rsi
 movq $0, %rax
 movl 11808(%rsi), %eax
 movq %rax, %rsi
 addq %rsi, %rdi
STEPMODLOOP:
 subq %rsi, %rdi
 cmpq %rsi, %rdi
 jge STEPMODLOOP
 movq %rdi, %rax

 movq -8(%rbp), %rdi
 pushq %rax
 imul $12, %rax
 addq %rdi, %rax
 addq $10192, %rax
 movq $0, %rsi
 movl 11800(%rdi), %esi
 cmpb %sil, 5(%rax)
 jne STEPLOOP
 popq %rdi
 movq -8(%rbp), %rsi
 call selectUnit
 jmp STEPEND

STEPEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret


# Move Selected Unit
# Params:
# RDI: game_state *state
.global moveSelectedUnit
moveSelectedUnit:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 movq %rdi, %rdx
 movq $0, %rdi
 movq $0, %rsi
 movl 11820(%rdx), %edi
 movl 11824(%rdx), %esi
 call findUnit
 cmpq $-1, %rax
 jne MSUSKIP

 movq -8(%rbp), %rax
 movq $0, %rdi
 movl 11812(%rax), %edi
 imul $12, %rdi
 addq %rax, %rdi
 addq $10192, %rdi
 movq $0, %rsi
 movl 11832(%rax), %esi
 cmpb 8(%rdi), %sil
 jg MSUELSE
 subb %sil, 8(%rdi)
 movb 11820(%rax), %sil
 movb %sil, 2(%rdi)
 movb 11824(%rax), %sil
 movb %sil, 3(%rdi)
 movq $0, %rsi
 movq $0, %rdi
 movq %rax, %rdx
 movl 11820(%rdx), %edi
 movl 11824(%rdx), %esi
 call setMoveCursor
 movq -8(%rbp), %rsi
 movq $0, %rdi
 movl 11800(%rsi), %edi
 call updateEssenceGeneration
 jmp MSUEND
MSUELSE:
 movq $NEMP, %rdi
 movq -8(%rbp), %rsi
 movss FTHREE, %xmm0
 call alertMessage
 jmp MSUEND

MSUSKIP:
 movq $CMT, %rdi
 movq -8(%rbp), %rsi
 movss FTWO, %xmm0
 call alertMessage

MSUEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Attack Selected Unit
# Params:
# RDI: game_state *state
.global attackSelectedUnit
attackSelectedUnit:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 movq %rdi, %rdx
 movq $0, %rdi
 movq $0, %rsi
 movl 11820(%rdx), %edi
 movl 11824(%rdx), %esi
 call findUnit
 pushq %rax
 movq -8(%rbp), %rdi
 movq $0, %rsi
 movl 11812(%rdi), %esi
 imul $12, %rsi
 addq %rdi, %rsi
 addq $10192, %rsi
 pushq %rsi
 cmpl $-1, -16(%rbp)
 je ASUEND
 movq -16(%rbp), %rdi
 imul $12, %rdi
 addq -8(%rbp), %rdi
 addq $10192, %rdi
 pushq %rdi
 movq -24(%rbp), %rsi
 movb 5(%rdi), %al
 cmpb %al, 5(%rsi)
 je ASUEND
 cmpb $0, 8(%rsi)
 jle ASUEND
 movb 6(%rsi), %al
 movq -8(%rbp), %rdx
 cmpb %al, 11832(%rdx)
 jg ASUEND
 movq $1, %rax
ASUDMOD1:
 movq -24(%rbp), %rdi
 cmpb $3, 4(%rdi)
 jne ASUDMOD2
 movq -32(%rbp), %rdi
 cmpb $5, 4(%rdi)
 jne ASUDMODEND
 movq $2, %rax
 jmp ASUDMODEND
ASUDMOD2:
 movq -24(%rbp), %rdi
 cmpb $4, 4(%rdi)
 jne ASUDMOD3
 movq -32(%rbp), %rdi
 cmpb $3, 4(%rdi)
 jne ASUDMODEND
 movq $2, %rax
 jmp ASUDMODEND
ASUDMOD3:
 movq -24(%rbp), %rdi
 cmpb $5, 4(%rdi)
 jne ASUDMODEND
 movq -32(%rbp), %rdi
 cmpb $4, 4(%rdi)
 jne ASUDMODEND
 movq $2, %rax
 jmp ASUDMODEND

ASUDMODEND:
 movq -32(%rbp), %rdi
 movq -24(%rbp), %rsi
 movq $0, %rdx
 movb 7(%rsi), %dl
 imul %rax, %rdx
 subb %dl, (%rdi)
 cmpb $0, (%rdi)
 jg ASUPREEND
 cmpb $0, 4(%rdi)
 jne ASUFIF
 movq -8(%rbp), %rdi
 movl $1, 11864(%rdi)
 movq $GAMEOVER, %rdi
 movq -8(%rbp), %rsi
 movss F100000, %xmm0
 call alertMessage
 movq -8(%rbp), %rdi
 movl $0, 11836(%rdi)
 movq $-1, %rdi
 movq -8(%rbp), %rsi
 call selectUnit
 movq -8(%rbp), %rdi
 movq $0, 11828(%rdi)

ASUFIF:
 movq -16(%rbp), %rdi
 movq -8(%rbp), %rsi
 call removeUnit

ASUPREEND:
 movq -24(%rbp), %rdi
 movb $0, 8(%rdi)
 movq -8(%rbp), %rdi
 call step

ASUEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Clamp Map Offset
# Params:
# RDI: game_state *state
.global clampMapOffset
clampMapOffset:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 movss 11760(%rdi), %xmm0
 movss 11776(%rdi), %xmm1
 ucomiss %xmm1, %xmm0
 jbe CMO1
 movss %xmm1, 11760(%rdi)
CMO1:
 movss 11768(%rdi), %xmm1
 ucomiss %xmm1, %xmm0
 jae CMO2
 movss %xmm1, 11760(%rdi)
CMO2:
 movss 11764(%rdi), %xmm0
 movss 11780(%rdi), %xmm1
 ucomiss %xmm1, %xmm0
 jbe CMO3
 movss %xmm1, 11764(%rdi)
CMO3:
 movss 11772(%rdi), %xmm1
 ucomiss %xmm1, %xmm0
 jae CMO4
 movss %xmm1, 11764(%rdi)
CMO4:

# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Clamp Hex Size
# Params:
# RDI: game_state *state
.global clampHexSize
clampHexSize:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 movss 11784(%rdi), %xmm0
 movss 11792(%rdi), %xmm1
 ucomiss %xmm1, %xmm0
 jbe CHS1
 movss %xmm1, 11784(%rdi)
CHS1:
 movss 11788(%rdi), %xmm1
 ucomiss %xmm1, %xmm0
 jae CHS2
 movss %xmm1, 11784(%rdi)
CHS2:

# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Process Input
# Params:
# RDI: input_pressed *input
# RSI: game_state *state
.global processInput
processInput:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi

 movq $0, %rax
 movl 11836(%rsi), %eax
 movq %rax, %rsi
 movq $0, %rax
 movq $PITEST, %rdi
 call printf
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi

 cmpb $30, 7(%rdi)
 jl PIESC
 movl $1, 11868(%rsi)
PIESC:

 cmpl $1, 11864(%rsi)
 je PIEND

 cmpb $0, 18(%rdi)
 je PIHELSE
 movl $1, 11840(%rsi)
 jmp PIH
PIHELSE:
 movl $0, 11840(%rsi)
PIH:
 cmpb $0, 2(%rdi)
 je PISCTRL
 cmpb $0, 17(%rdi)
 je PISCTRL
 movb $0, 2(%rdi)
PISCTRL:

 cmpb $0, 23(%rdi)
 je PISAVE
 cmpb $0, 17(%rdi)
 je PISAVE
 movq %rsi, %rdi
 call saveState
 movq $SAVE, %rdi
 movq -16(%rbp), %rsi
 movss FTWO, %xmm0
 call alertMessage
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
PISAVE:

 cmpb $0, 16(%rdi)
 je PILOAD
 cmpb $0, 17(%rdi)
 je PILOAD
 movq %rsi, %rdi
 call loadState
 movq $LOAD, %rdi
 movq -16(%rbp), %rsi
 movss FTWO, %xmm0
 call alertMessage
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
PILOAD:

 cmpl $4, 11836(%rsi)
 jne PIMODETRANS
 cmpb $0, 26(%rdi)
 je PIMODEEND
 movl $0, 11836(%rsi)
 jmp PIMODEEND
PIMODETRANS:
 cmpl $0, 11836(%rsi)
 jne PIMODENORM
 cmpb $0, 19(%rdi)
 je PINLMB
 movss NFIVE, %xmm2
 movsd FP0022, %xmm0
 movsd 64(%rdi), %xmm1
 mulsd %xmm0, %xmm1
cvtsd2ss %xmm1, %xmm1
 movss 11760(%rsi), %xmm2
 addss %xmm1, %xmm2
 movss %xmm2, 11760(%rsi)
 movsd 72(%rdi), %xmm1
 mulsd %xmm0, %xmm1
cvtsd2ss %xmm1, %xmm1
 movss 11764(%rsi), %xmm2
 subss %xmm1, %xmm2
 movss %xmm2, 11764(%rsi)
PINLMB:

 cmpb $0, (%rdi)
 je PINW
 movss 11764(%rsi), %xmm0
 movsd 11856(%rsi), %xmm1
cvtsd2ss %xmm1, %xmm1
 subss %xmm1, %xmm0
 movss %xmm0, 11764(%rsi)
PINW:

 cmpb $0, 1(%rdi)
 je PINA
 movss 11760(%rsi), %xmm0
 movsd 11856(%rsi), %xmm1
cvtsd2ss %xmm1, %xmm1
 addss %xmm1, %xmm0
 movss %xmm0, 11760(%rsi)
PINA:

 cmpb $0, 2(%rdi)
 je PINS
 movss 11764(%rsi), %xmm0
 movsd 11856(%rsi), %xmm1
cvtsd2ss %xmm1, %xmm1
 addss %xmm1, %xmm0
 movss %xmm0, 11764(%rsi)
PINS:

 cmpb $0, 3(%rdi)
 je PIND
 movss 11760(%rsi), %xmm0
 movsd 11856(%rsi), %xmm1
cvtsd2ss %xmm1, %xmm1
 subss %xmm1, %xmm0
 movss %xmm0, 11760(%rsi)
PIND:

 cmpb $0, 26(%rdi)
 je PINRET
 movq -16(%rbp), %rdi
 call turn
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
PINRET:
 jmp PIMODEEND
PIMODENORM:

 cmpl $1, 11836(%rsi)
 jne PIMODEMOVE
 cmpb $0, 27(%rdi)
 jne PIMSE
 cmpb $0, 40(%rdi)
 jne PIMSE
 jmp PIMODEEND
PIMSE:

 movq -16(%rbp), %rdi
 call moveSelectedUnit
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 movq $0, %rax
 movl 11812(%rsi), %eax
 imul $12, %rax
 addq %rsi, %rax
 addq $10192, %rax
 cmpb $0, 8(%rax)
 jne PIMODEEND
 movq -16(%rbp), %rdi
 call step
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 jmp PIMODEEND
PIMODEMOVE:

 cmpl $2, 11836(%rsi)
 jne PIMODEATK
 cmpb $0, 27(%rdi)
 jne PIASU
 cmpb $0, 40(%rdi)
 jne PIASU
 jmp PIMODEEND
PIASU:
 movq -16(%rbp), %rdi
 call attackSelectedUnit
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 movq $0, %rax
 movl 11812(%rsi), %eax
 imul $12, %rax
 addq %rsi, %rax
 addq $10192, %rax
 cmpb $0, 8(%rax)
 jne PIMODEEND
 movq -16(%rbp), %rdi
 call step
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 jmp PIMODEEND
PIMODEATK:

 cmpl $3, 11836(%rsi)
 jne PIMODEBUILD
 movq $0, %rax
 movl 11800(%rsi), %eax
 imul $24, %rax
 addq $10000, %rax
 addq %rsi, %rax
 movq $0, %rdi
 movq $0, %rsi
 movl 12(%rax), %edi
 movl 16(%rax), %esi
 movq -16(%rbp), %rdx
 call findUnit
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi

 cmpq $-1, %rax
 jne PIBSTO

 cmpb $0, 33(%rdi)
 jne PIB1
 cmpb $0, 34(%rdi)
 jne PIB2
 cmpb $0, 35(%rdi)
 jne PIB3
 jmp PIBAP

PIB1:
 movq $0, %rax
 movl 11800(%rsi), %eax
 imul $24, %rax
 addq $10000, %rax
 addq %rsi, %rax
 cmpl $50, (%rax)
 jl PIB1NEE
 movq $0, %rsi
 movq $0, %rdi
 movl 12(%rax), %edi
 movl 16(%rax), %esi
 movq -16(%rbp), %rax
 movq $0, %rdx
 movl 11800(%rax), %edx
 movq -16(%rbp), %rcx
 call createWisp
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 movq $0, %rax
 movl 11800(%rsi), %eax
 imul $24, %rax
 addq $10000, %rax
 addq -16(%rbp), %rax
 subl $50, (%rax)
 jmp PIMODEEND

PIB1NEE:
 movq $NEESSENCE, %rdi
 movq -16(%rbp), %rsi
 movss FTWO, %xmm0
 call alertMessage
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 jmp PIMODEEND

PIB2:
 movq $0, %rax
 movl 11800(%rsi), %eax
 imul $24, %rax
 addq $10000, %rax
 addq %rsi, %rax
 cmpl $100, (%rax)
 jl PIB2NEE
 movq $0, %rsi
 movq $0, %rdi
 movl 12(%rax), %edi
 movl 16(%rax), %esi
 movq -16(%rbp), %rax
 movq $0, %rdx
 movl 11800(%rax), %edx
 movq -16(%rbp), %rcx
 call createGolem
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 movq $0, %rax
 movl 11800(%rsi), %eax
 imul $24, %rax
 addq $10000, %rax
 addq -16(%rbp), %rax
 subl $100, (%rax)
 jmp PIMODEEND

PIB2NEE:
 movq $NEESSENCE, %rdi
 movq -16(%rbp), %rsi
 movss FTWO, %xmm0
 call alertMessage
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 jmp PIMODEEND

PIB3:
 movq $0, %rax
 movl 11800(%rsi), %eax
 imul $24, %rax
 addq $10000, %rax
 addq %rsi, %rax
 cmpl $100, (%rax)
 jl PIB3NEE
 movq $0, %rsi
 movq $0, %rdi
 movl 12(%rax), %edi
 movl 16(%rax), %esi
 movq -16(%rbp), %rax
 movq $0, %rdx
 movl 11800(%rax), %edx
 movq -16(%rbp), %rcx
 call createUnboundElemental
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 movq $0, %rax
 movl 11800(%rsi), %eax
 imul $24, %rax
 addq $10000, %rax
 addq -16(%rbp), %rax
 subl $100, (%rax)
 jmp PIMODEEND

PIB3NEE:
 movq $NEESSENCE, %rdi
 movq -16(%rbp), %rsi
 movss FTWO, %xmm0
 call alertMessage
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 jmp PIMODEEND

PIBSTO:
 cmpb $0, 33(%rsi)
 jne PIBSTOM
 cmpb $0, 34(%rsi)
 jne PIBSTOM
 cmpb $0, 35(%rsi)
 jne PIBSTOM
 jmp PIBAP
PIBSTOM:
 movq $STO, %rdi
 movq -16(%rbp), %rsi
 movss FTWO, %xmm0
 call alertMessage
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
PIBAP:

 cmpb $0, 36(%rdi)
 je PIMODEBUILD
 movq -16(%rbp), %rdi
 call startArcanePulse
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi

PIMODEBUILD:
PIMODEEND:

 cmpl $2, 11836(%rsi)
 jg PIMODESWITCH
 cmpl $-1, 11812(%rsi)
 je PIMODESWITCH
 cmpb $0, 31(%rdi)
 je PIV
 movl $1, 11836(%rsi)
PIV:
 cmpb $0, 29(%rdi)
 je PIMODESWITCH
 movl $2, 11836(%rsi)

PIMODESWITCH:
 cmpl $4, 11836(%rsi)
 je PIDESELECT
 cmpb $0, 28(%rdi)
 je PIDESELECT
 movq $-1, %rdi
 movq -16(%rbp), %rsi
 call selectUnit
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 movl $0, 11828(%rsi)
PIDESELECT:

 cmpb $0, 25(%rdi)
 je PISTEP
 movq -16(%rbp), %rdi
 call step
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
PISTEP:

 cmpl $1, 11836(%rsi)
 je PISMC
 cmpl $2, 11836(%rsi)
 je PISMC
 jmp PIGBS
PISMC:
 pushq $0
 pushq $0
 pushq $0
 pushq $0
 movsd 48(%rdi), %xmm0
 movsd 56(%rdi), %xmm1
 leaq -24(%rbp), %rdi
 leaq -32(%rbp), %rsi
 call mouseCoordsToViewport
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 movss -24(%rbp), %xmm0
 movss -32(%rbp), %xmm1
 movss 11760(%rsi), %xmm2
 movss 11764(%rsi), %xmm3
 movss 11784(%rsi), %xmm4
 leaq -40(%rbp), %rdi
 leaq -48(%rbp), %rsi
 call viewportToHexGrid
 movq -40(%rbp), %rdi
 movq -48(%rbp), %rsi
 movq -16(%rbp), %rdx
 call setMoveCursor
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 cmpb $0, 21(%rdi)
 je PIMCW
 movq $0, %rax
 movl 11824(%rsi), %eax
 incq %rax
 movq %rax, %rsi
 andq $1, %rax
 movq -16(%rbp), %rdi
 addq $11820, %rdi
 movq $0, %rdx
 movl (%rdi), %edx
 movq %rdx, %rdi
 subq %rax, %rdi
 movq -16(%rbp), %rdx
 call setMoveCursor
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi

PIMCW:
 cmpb $0, 22(%rdi)
 je PIMCA
 movq $0, %rax
 movl 11824(%rsi), %eax
 movq %rax, %rsi
 movq -16(%rbp), %rdi
 addq $11820, %rdi
 movq $0, %rax
 movl (%rdi), %eax
 movq %rax, %rdi
 decq %rdi
 movq -16(%rbp), %rdx
 call setMoveCursor
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi

PIMCA:
 cmpb $0, 23(%rdi)
 je PIMCS
 movq $0, %rax
 movl 11824(%rsi), %eax
 movq %rax, %rsi
 decq %rsi
 andq $1, %rax
 movq -16(%rbp), %rdi
 addq $11820, %rdi
 movq $0, %rdx
 movl (%rdi), %edx
 movq %rdx, %rdi
 addq %rax, %rdi
 movq -16(%rbp), %rdx
 call setMoveCursor
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi

PIMCS:
 cmpb $0, 24(%rdi)
 je PIMCD
 movq $0, %rax
 movl 11824(%rsi), %eax
 movq %rax, %rsi
 movq -16(%rbp), %rdi
 addq $11820, %rdi
 movq $0, %rax
 movl (%rdi), %eax
 movq %rax, %rdi
 incq %rdi
 movq -16(%rbp), %rdx
 call setMoveCursor
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi

PIMCD:
PIGBS:
 cmpl $1, 11836(%rsi)
 je PILCLICK
 cmpl $2, 11836(%rsi)
 je PILCLICK
 cmpl $4, 11836(%rsi)
 je PILCLICK
 cmpb $0, 40(%rdi)
 je PILCLICK
 pushq $0
 pushq $0
 pushq $0
 pushq $0
 movsd 48(%rdi), %xmm0
 movsd 56(%rdi), %xmm1
cvtsd2ss %xmm0, %xmm0
cvtsd2ss %xmm1, %xmm1
 leaq -24(%rbp), %rdi
 leaq -32(%rbp), %rsi
 call mouseCoordsToViewport
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 movss -24(%rbp), %xmm0
 movss -32(%rbp), %xmm1
 movss 11760(%rsi), %xmm2
 movss 11764(%rsi), %xmm3
 movss 11784(%rsi), %xmm4
 leaq -40(%rbp), %rdi
 leaq -48(%rbp), %rsi
 call viewportToHexGrid
 movq -40(%rbp), %rdi
 movq -48(%rbp), %rsi
 movq -16(%rbp), %rdx
 call findUnit
 cmpq $-1, %rax
 je PILCLKELSE
 pushq %rax
 imul $12, %rax
 addq $10192, %rax
 addq -16(%rbp), %rax
 movq -16(%rbp), %rsi
 movb 5(%rax), %al
 cmpb %al, 11800(%rsi)
 jne PILCLKELSE
 popq %rdi
 movq -16(%rbp), %rsi
 call selectUnit
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 jmp PILCLICK

PILCLKELSE:
 movq $-1, %rdi
 movq -16(%rbp), %rsi
 call selectUnit
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi

PILCLICK:
 movss FPOONE, %xmm0
 movsd 80(%rdi), %xmm1
cvtsd2ss %xmm1, %xmm1
 mulss %xmm0, %xmm1
 movss 11784(%rsi), %xmm0
 addss %xmm1, %xmm0
 movss %xmm0, 11784(%rsi)
 movsd DZERO, %xmm0
 movsd %xmm0, 80(%rdi)
 movss 11784(%rsi), %xmm0
 divss TENTH, %xmm0
 mulss NFIVE, %xmm0
 movss %xmm0, 11768(%rsi)
 divss FTWO, %xmm0
 movss %xmm0, 11772(%rsi)
 movq -16(%rbp), %rdi
 call clampHexSize
 movq -16(%rbp), %rdi
 call clampMapOffset

PIEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Generate Test Map
# Params:
# RDI: game_state *state
.global generateTestMap
generateTestMap:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 movl $20, 11752(%rdi)
 movl $20, 11756(%rdi)
 movq $19, %rdx
GTMILOOP:
 movq %rdx, %rsi
 imul $100, %rsi
 movq $19, %rcx
GTMJLOOP:
 addq %rcx, %rsi
 addq %rdi, %rsi
 movb $1, (%rsi)
 subq %rdi, %rsi
 subq %rcx, %rsi
 decq %rcx
 cmpq $0, %rcx
 jge GTMJLOOP

 decq %rdx
 cmpq $0, %rdx
 jge GTMILOOP

 movb $0, (%rdi)
 movb $0, 1(%rdi)
 movb $0, 100(%rdi)
 movb $0, 1919(%rdi)
 movb $0, 1819(%rdi)
 movb $0, 1918(%rdi)
 movb $2, 303(%rdi)
 movb $2, 108(%rdi)
 movb $2, 801(%rdi)
 movb $2, 1616(%rdi)
 movb $2, 1811(%rdi)
 movb $2, 1118(%rdi)
 movb $4, 316(%rdi)
 movb $5, 514(%rdi)
 movb $6, 712(%rdi)
 movq %rdi, %rcx
 movq $1, %rdi
 movq $1, %rsi
 movq $0, %rdx
 call createWorkshop
 movq -8(%rbp), %rdi
 movl $1, 10012(%rdi)
 movl $2, 10016(%rdi)
 movl $18, 10036(%rdi)
 movl $17, 10040(%rdi)
 movq %rdi, %rcx
 movq $2, %rdi
 movq $0, %rsi
 movq $0, %rdx
 call createGolem
 movq $18, %rdi
 movq $18, %rsi
 movq $1, %rdx
 movq -8(%rbp), %rcx
 call createWorkshop
 movq $19, %rdi
 movq $17, %rsi
 movq $1, %rdx
 movq -8(%rbp), %rcx
 call createGolem

# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret
# 8 "main.S" 2
# 1 "texture.S" 1
.text
FZERO: .float 0.0
FTWELVE: .float 12.0
# 22 "texture.S"
# Load Texture
# Params:
# RDI: *texture_location
.global loadTexture
loadTexture:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 movq $1, %rdi
 call stbi_set_flip_vertically_on_load
 popq %rdi
 subq $24, %rsp
 leaq (%rsp), %rsi
 leaq 8(%rsp), %rdx
 leaq 16(%rsp), %rcx
 movq $0, %r8
 call stbi_load

# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Load Subtexture Bounds
# Params:
# RDI: int texture_index
.global loadSubtextureBounds
loadSubtextureBounds:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 movq $16, %rdi
 call malloc
 popq %rdi
cvtsi2ssq %rdi, %xmm0
 movss FONE, %xmm1
 movss FTWELVE, %xmm2
 divss %xmm2, %xmm1
 mulss %xmm1, %xmm0
 movss %xmm0, (%rax)
 movss FZERO, %xmm1
 movss %xmm1, 4(%rax)
 movss FONE, %xmm0
 movss FTWELVE, %xmm1
 divss %xmm1, %xmm0
 movss %xmm0, 8(%rax)
 movss FONE, %xmm0
 movss %xmm0, 12(%rax)
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret
# 9 "main.S" 2
# 1 "gl_game.S" 1
.data

.text
FP2: .FLOAT 0.2
FP15: .FLOAT 0.15
FPNINE: .float 0.9
TEX: .asciz "tex.bmp"
NAME: .asciz "Bonus Assignment #8: Assembly Game"
FTCW: .asciz "Failed to create GLFW window"
SVERT: .asciz "shader.vert"
SFRAG: .asciz "shader.frag"
APOS: .asciz "aPos"
ACOL: .asciz "aCol"
ATC: .asciz "aTexCoord"
F3: .float 3.0
F2: .float 2.0
F001: .float 1.0
F0: .float 0.0
FP6: .float 0.6
FP55: .float 0.55
FP4: .float 0.4
# initialize Graphics
# Params:
# RDI GLFWwindow **windwo
# RSI game_state *state
# RDX gl_game_state *gl_state
.global initializeGraphics
initializeGraphics:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 subq $8, %rsp
 movq $TEX, %rdi
 call loadTexture
 addq $8, %rsp
 pushq %rax

 movq $0x00022002, %rdi
 movq $2, %rsi
 call glfwWindowHint

 movq $0x00022003, %rdi
 movq $2, %rsi
 call glfwWindowHint

 call glfwInit

 movq $0x00022008, %rdi
 movq $0, %rsi
 call glfwWindowHint

 movq $900, %rdi
 movq $900, %rsi
 movq $NAME, %rdx
 movq $0, %rcx
 movq $0, %r8
 call glfwCreateWindow

 movq -8(%rbp), %rdi
 movq %rax, (%rdi)
 cmpq $0, %rax
 jne IGELSE

 movq $FTCW, %rdi
 movq $0, %rax
 call printf

 call glfwTerminate
IGELSE:
 movq -8(%rbp), %rdi
 movq (%rdi), %rdi
 call glfwMakeContextCurrent

 movq -8(%rbp), %rdi
 movq (%rdi), %rdi
 movq $0x00033002, %rsi
 movq $1, %rdx
 call glfwSetInputMode

 call glewInit

 movq $0, %rdi
 movq $0, %rsi
 movq $900, %rdx
 movq $900, %rcx
 call glViewport

 subq $16, %rsp
 movq $SVERT, %rdi
 call loadFile
 movq %rax, -40(%rbp)

 movq $SFRAG, %rdi
 call loadFile
 movq %rax, -48(%rbp)

 movq $0x8B31, %rdi
 call glCreateShader
 pushq %rax

 movq %rax, %rdi
 movq $1, %rsi
 leaq -40(%rbp), %rdx
 movq $0, %rcx
 call glShaderSource

 movq -56(%rbp), %rdi
 call glCompileShader

 movq $0x0BE2, %rdi
 call glEnable

 movq $0x8B30, %rdi
 call glCreateShader

 pushq %rax

 movq %rax, %rdi
 movq $1, %rsi
 leaq -48(%rbp), %rdx
 movq $0, %rcx
 call glShaderSource

 movq -64(%rbp), %rdi
 call glCompileShader

 call glCreateProgram
 movq -24(%rbp), %rdi
 movl %eax, 136(%rdi)

 movl 136(%rdi), %esi
 movq $0, %rdi
 movl %esi, %edi
 movq -56(%rbp), %rsi
 call glAttachShader

 movq -24(%rbp), %rdi
 movq -24(%rbp), %rax
 movq $0, %rdi
 movl 136(%rax), %edi
 movq -64(%rbp), %rsi
 call glAttachShader

 movq -24(%rbp), %rax
 movq $0, %rdi
 movl 136(%rax), %edi
 call glLinkProgram

 movq -40(%rbp), %rdi
 call free
 movq -48(%rbp), %rdi
 call free
 movq -56(%rbp), %rdi
 call glDeleteShader
 movq -64(%rbp), %rdi
 call glDeleteShader

 movq $1, %rdi
 movq -24(%rbp), %rsi
 leaq 128(%rsi), %rsi
 call glGenVertexArrays

 movq $1, %rdi
 movq -24(%rbp), %rsi
 leaq 132(%rsi), %rsi
 call glGenBuffers

 movq $1, %rdi
 movq -24(%rbp), %rsi
 leaq 140(%rsi), %rsi
 call glGenTextures

 movq $0x0DE1, %rdi
 movq -24(%rbp), %rdx
 movq $0, %rsi
 movl 140(%rdx), %esi
 call glBindTexture

 movq $0x0DE1, %rdi
 movq $0x2802, %rsi
 movq $0x2901, %rdx
 call glTexParameteri

 movq $0x0DE1, %rdi
 movq $0x2803, %rsi
 movq $0x2901, %rdx
 call glTexParameteri

 movq $0x0DE1, %rdi
 movq $0x2801, %rsi
 movq $0x2703, %rdx
 call glTexParameteri

 movq $0x0DE1, %rdi
 movq $0x2800, %rsi
 movq $0x2601, %rdx
 call glTexParameteri

 movq $0x0DE1, %rdi
 movq $0, %rsi
 movq $0x1908, %rdx
 movq $768, %rcx
 movq $64, %r8
 movq $0, %r9
 subq $8, %rsp
 pushq -32(%rbp)
 pushq $0x1401
 pushq $0x1908
 call glTexImage2D
 addq $32, %rsp

 movq $0x0DE1, %rdi
 call glGenerateMipmap

 movq $0, %rdi
 movq -24(%rbp), %rsi
 movl 128(%rsi), %edi
 call glBindVertexArray

 movq $0x8892, %rdi
 movq -24(%rbp), %rax
 movq $0, %rsi
 movl 132(%rax), %esi
 call glBindBuffer

 movq -24(%rbp), %rax
 movq $0, %rdi
 movl 136(%rax), %edi
 movq $APOS, %rsi
 call glGetAttribLocation

 pushq %rax

 movq %rax, %rdi
 movq $3, %rsi
 movq $0x1406, %rdx
 movq $0, %rcx
 movq $40, %r8
 movq $0, %r9
 call glVertexAttribPointer

 movq $0, %rdi
 call glEnableVertexAttribArray

 movq -24(%rbp), %rax
 movq $0, %rdi
 movl 136(%rax), %edi
 movq $ACOL, %rsi
 call glGetAttribLocation
 pushq %rax

 movq %rax, %rdi
 movq $4, %rsi
 movq $0x1406, %rdx
 movq $0, %rcx
 movq $40, %r8
 movq $12, %r9
 call glVertexAttribPointer

 movq $1, %rdi
 call glEnableVertexAttribArray

 movq -24(%rbp), %rax
 movq $0, %rdi
 movl 136(%rax), %edi
 movq $ATC, %rsi
 call glGetAttribLocation
 pushq %rax


 movq %rax, %rdi
 movq $3, %rsi
 movq $0x1406, %rdx
 movq $0, %rcx
 movq $40, %r8
 movq $28, %r9
 call glVertexAttribPointer

 movq $2, %rdi
 call glEnableVertexAttribArray

 movq $0x0302, %rdi
 movq $0x0303, %rsi
 call glBlendFunc


 movq -24(%rbp), %rax
 movq $0, %rdi
 movl 136(%rax), %edi
 call glUseProgram

 movq $0x8892, %rdi
 movq $0, %rsi
 call glBindBuffer

 movq $0, %rdi
 call glBindVertexArray

 movq $0x0DE1, %rdi
 movq $0, %rsi
 call glBindTexture

 movq -24(%rbp), %rdi
 movq -16(%rbp), %rsi
 movq %rsi, (%rdi)

 leaq 88(%rdi), %rdi
 call loadColors

 movq $0x0B20, %rdi
 call glEnable


 movss F3, %XMM0
 call glLineWidth

 movq -24(%rbp), %rax
 leaq 112(%rax), %rdi
 leaq 120(%rax), %rsi
 call initFreetype

 pushq $0
 movq -16(%rbp), %rdi
 movq -24(%rbp), %rsi
 call initializeFontGL

# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret



# Finalize Graphics
# Params:
# RDI: GLFWwindow *window
# RSI: gl_game_state *gl_state
.global finalizeGraphics
finalizeGraphics:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 subq $16, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)

 movq $1, %rdi
 movq %rsi, %rax
 leaq 128(%rax), %rsi
 call glDeleteVertexArrays

 movq $1, %rdi
 movq -16(%rbp), %rax
 leaq 132(%rax), %rsi
 call glDeleteBuffers

 movq -16(%rbp), %rax
 movq $0, %rdi
 movl 136(%rax), %edi
 call glDeleteProgram

 movq -8(%rbp), %rdi
 call glfwDestroyWindow
 call glfwTerminate

# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Build Hexagon Vertices
# Params:
# XMM0: float offset_x
# XMM1: float offset_y
# XMM2: float z_index
# XMM3: float color_r
# XMM4: float color_b
# XMM5: float color_g
# XMM6: float color_a
# XMM7: float tex_x
# Stack 16: float tex_y
# Stack 24: float tex_weight
# Stack 32: float tex_width
# Stack 40: float tex_height
# Stack 48: float side_len
# RDI: rotation
# RSI: GLfloat *dest
.global buildHexagonVertices
buildHexagonVertices:
# Prologue
 pushq %rbp
 movq %rsp, %rbp
 subq $512, %rsp
 movss %xmm0, -8(%rbp)
 movss %xmm1, -16(%rbp)
 movss %xmm2, -24(%rbp)
 movss %xmm3, -32(%rbp)
 movss %xmm4, -40(%rbp)
 movss %xmm5, -48(%rbp)
 movss %xmm6, -56(%rbp)
 movss %xmm7, -64(%rbp)
 movq 16(%rbp), %rdx
 movq %rdx, -72(%rbp)
 movq 24(%rbp), %rdx
 movq %rdx, -80(%rbp)
 movq 32(%rbp), %rdx
 movq %rdx, -88(%rbp)
 movq 40(%rbp), %rdx
 movq %rdx, -96(%rbp)
 movq 48(%rbp), %rdx
 movq %rdx, -104(%rbp)
 movq %rdi, -112(%rbp)
 movq %rsi, -120(%rbp)

# -152 rbp is positions x
# -184 rbp is positions y
 movss %xmm0, -152(%rbp)
 movss %xmm0, -140(%rbp)
 movss F3, %xmm8
 sqrtss %xmm8, %xmm8
 divss F2, %xmm8
 movss -104(%rbp), %xmm9
 mulss %xmm9, %xmm8
 addss %xmm8, %xmm0
 movss %xmm0, -148(%rbp)
 movss %xmm0, -144(%rbp)
 subss %xmm8, %xmm0
 subss %xmm8, %xmm0
 movss %xmm0, -136(%rbp)
 movss %xmm0, -132(%rbp)

 movss -104(%rbp), %xmm8
 movss F2, %xmm9
 divss %xmm9, %xmm8
 subss %xmm8, %xmm1
 movss %xmm1, -176(%rbp)
 movss %xmm1, -168(%rbp)
 subss %xmm8, %xmm1
 movss %xmm1, -172(%rbp)
 addss %xmm8, %xmm1
 addss %xmm8, %xmm1
 addss %xmm8, %xmm1
 movss %xmm1, -180(%rbp)
 movss %xmm1, -164(%rbp)
 addss %xmm8, %xmm1
 movss %xmm1, -184(%rbp)

 movq %rdi, %rax
 imul $4, %rax

 leaq -152(%rbp), %rdx
 leaq -184(%rbp), %rcx
 addq %rax, %rdx
 addq %rax, %rcx
 movss (%rdx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss (%rcx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss %xmm2, (%rsi)
 addq $4, %rsi
 movss %xmm3, (%rsi)
 addq $4, %rsi
 movss %xmm4, (%rsi)
 addq $4, %rsi
 movss %xmm5, (%rsi)
 addq $4, %rsi
 movss %xmm6, (%rsi)
 addq $4, %rsi
 movss 32(%rbp), %xmm8
 movss F2, %xmm9
 divss %xmm9, %xmm8
 addss %xmm7, %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss 16(%rbp), %xmm8
 movss 40(%rbp), %xmm9
 addss %xmm9, %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss 24(%rbp), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 addq $4, %rax
 cmpq $24, %rax
 jl BHVMOD1
 subq $24, %rax
BHVMOD1:


 leaq -152(%rbp), %rdx
 leaq -184(%rbp), %rcx
 addq %rax, %rdx
 addq %rax, %rcx
 movss (%rdx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss (%rcx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss %xmm2, (%rsi)
 addq $4, %rsi
 movss %xmm3, (%rsi)
 addq $4, %rsi
 movss %xmm4, (%rsi)
 addq $4, %rsi
 movss %xmm5, (%rsi)
 addq $4, %rsi
 movss %xmm6, (%rsi)
 addq $4, %rsi
 movss 32(%rbp), %xmm8
 addss %xmm7, %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss 16(%rbp), %xmm8
 movss 40(%rbp), %xmm9
 movss F3, %xmm10
 movss F2, %xmm11
 sqrtss %xmm10, %xmm10
 divss %xmm11, %xmm10
 mulss %xmm10, %xmm9
 addss %xmm9, %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss 24(%rbp), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 addq $4, %rax
 cmpq $24, %rax
 jl BHVMOD2
 subq $24, %rax
BHVMOD2:

 leaq -152(%rbp), %rdx
 leaq -184(%rbp), %rcx
 addq %rax, %rdx
 addq %rax, %rcx
 movss (%rdx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss (%rcx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss %xmm2, (%rsi)
 addq $4, %rsi
 movss %xmm3, (%rsi)
 addq $4, %rsi
 movss %xmm4, (%rsi)
 addq $4, %rsi
 movss %xmm5, (%rsi)
 addq $4, %rsi
 movss %xmm6, (%rsi)
 addq $4, %rsi
 movss 32(%rbp), %xmm8
 addss %xmm7, %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss 16(%rbp), %xmm8
 movss 40(%rbp), %xmm9
 movss F3, %xmm10
 movss F2, %xmm11
 sqrtss %xmm10, %xmm10
 divss %xmm11, %xmm10
 movss F3, %xmm11
 divss %xmm11, %xmm10
 mulss %xmm10, %xmm9
 addss %xmm9, %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss 24(%rbp), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 addq $4, %rax
 cmpq $24, %rax
 jl BHVMOD3
 subq $24, %rax
BHVMOD3:

 leaq -152(%rbp), %rdx
 leaq -184(%rbp), %rcx
 addq %rax, %rdx
 addq %rax, %rcx
 movss (%rdx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss (%rcx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss %xmm2, (%rsi)
 addq $4, %rsi
 movss %xmm3, (%rsi)
 addq $4, %rsi
 movss %xmm4, (%rsi)
 addq $4, %rsi
 movss %xmm5, (%rsi)
 addq $4, %rsi
 movss %xmm6, (%rsi)
 addq $4, %rsi
 movss 32(%rbp), %xmm8
 movss F2, %xmm9
 divss %xmm9, %xmm8
 addss %xmm7, %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss 16(%rbp), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss 24(%rbp), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 addq $4, %rax
 cmpq $24, %rax
 jl BHVMOD4
 subq $24, %rax
BHVMOD4:

 leaq -152(%rbp), %rdx
 leaq -184(%rbp), %rcx
 addq %rax, %rdx
 addq %rax, %rcx
 movss (%rdx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss (%rcx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss %xmm2, (%rsi)
 addq $4, %rsi
 movss %xmm3, (%rsi)
 addq $4, %rsi
 movss %xmm4, (%rsi)
 addq $4, %rsi
 movss %xmm5, (%rsi)
 addq $4, %rsi
 movss %xmm6, (%rsi)
 addq $4, %rsi
 movss %xmm7, (%rsi)
 addq $4, %rsi
 movss 16(%rbp), %xmm8
 movss 40(%rbp), %xmm9
 movss F3, %xmm10
 movss F2, %xmm11
 sqrtss %xmm10, %xmm10
 divss %xmm11, %xmm10
 movss F3, %xmm11
 divss %xmm11, %xmm10
 mulss %xmm10, %xmm9
 addss %xmm9, %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss 24(%rbp), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 addq $4, %rax
 cmpq $24, %rax
 jl BHVMOD5
 subq $24, %rax
BHVMOD5:

 leaq -152(%rbp), %rdx
 leaq -184(%rbp), %rcx
 addq %rax, %rdx
 addq %rax, %rcx
 movss (%rdx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss (%rcx), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss %xmm2, (%rsi)
 addq $4, %rsi
 movss %xmm3, (%rsi)
 addq $4, %rsi
 movss %xmm4, (%rsi)
 addq $4, %rsi
 movss %xmm5, (%rsi)
 addq $4, %rsi
 movss %xmm6, (%rsi)
 addq $4, %rsi
 movss %xmm7, (%rsi)
 addq $4, %rsi
 movss 16(%rbp), %xmm8
 movss 40(%rbp), %xmm9
 movss F3, %xmm10
 movss F2, %xmm11
 sqrtss %xmm10, %xmm10
 divss %xmm11, %xmm10
 mulss %xmm10, %xmm9
 addss %xmm9, %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 movss 24(%rbp), %xmm8
 movss %xmm8, (%rsi)
 addq $4, %rsi
 addq $4, %rax
 cmpq $24, %rax
 jl BHVMOD6
 subq $24, %rax
BHVMOD6:

 movq %rsi, %rax
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Build Rect Vertices
# Params:
# XMM0: float offset_x
# XMM1: float offser_y
# XMM2: float z_index
# XMM3: float size_x
# XMM4: float size_y
# XMM5: float color_r
# XMM6: float color_b
# XMM7: float color_g
# STACK 16: float color_a
# STACK 24: float tex_x
# STACK 32: float tex_y
# STACK 40: float tex_weight
# RDI: GLfloat *dest
.global buildRectVertices
buildRectVertices:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 movss 16(%rbp), %xmm8
 movss 24(%rbp), %xmm9
 movss 32(%rbp), %xmm10
 movss 40(%rbp), %xmm11



 movss %xmm0, (%rdi)
 addq $4, %rdi
 movss %xmm1, (%rdi)
 addq $4, %rdi
 movss %xmm2, (%rdi)
 addq $4, %rdi
 movss %xmm5, (%rdi)
 addq $4, %rdi
 movss %xmm6, (%rdi)
 addq $4, %rdi
 movss %xmm7, (%rdi)
 addq $4, %rdi
 movss %xmm8, (%rdi)
 addq $4, %rdi
 movss F001, %xmm12
 divss F2, %xmm12
 addss %xmm9, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 movss F001, %xmm12
 addss %xmm10, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 movss %xmm11, (%rdi)
 addq $4, %rdi

 movss %xmm0, %xmm12
 addss %xmm3, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 movss %xmm1, (%rdi)
 addq $4, %rdi
 movss %xmm2, (%rdi)
 addq $4, %rdi
 movss %xmm5, (%rdi)
 addq $4, %rdi
 movss %xmm6, (%rdi)
 addq $4, %rdi
 movss %xmm7, (%rdi)
 addq $4, %rdi
 movss %xmm8, (%rdi)
 addq $4, %rdi
 movss F001, %xmm12
 addss %xmm9, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 sqrtss F3, %xmm12
 divss F2, %xmm12
 addss %xmm10, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 movss %xmm11, (%rdi)
 addq $4, %rdi

 movss %xmm0, %xmm12
 addss %xmm3, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 movss %xmm1, %xmm12
 addss %xmm4, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 movss %xmm2, (%rdi)
 addq $4, %rdi
 movss %xmm5, (%rdi)
 addq $4, %rdi
 movss %xmm6, (%rdi)
 addq $4, %rdi
 movss %xmm7, (%rdi)
 addq $4, %rdi
 movss %xmm8, (%rdi)
 addq $4, %rdi
 movss F001, %xmm12
 addss %xmm9, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 sqrtss F3, %xmm12
 divss F2, %xmm12
 divss F3, %xmm12
 addss %xmm10, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 movss %xmm11, (%rdi)
 addq $4, %rdi

 movss %xmm0, (%rdi)
 addq $4, %rdi
 movss %xmm1, %xmm12
 addss %xmm4, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 movss %xmm2, (%rdi)
 addq $4, %rdi
 movss %xmm5, (%rdi)
 addq $4, %rdi
 movss %xmm6, (%rdi)
 addq $4, %rdi
 movss %xmm7, (%rdi)
 addq $4, %rdi
 movss %xmm8, (%rdi)
 addq $4, %rdi
 movss F001, %xmm12
 divss F2, %xmm12
 addss %xmm9, %xmm12
 movss %xmm12, (%rdi)
 addq $4, %rdi
 movss %xmm10, (%rdi)
 addq $4, %rdi
 movss %xmm11, (%rdi)
 addq $4, %rdi

 movq %rdi, %rax


# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Get Tile Texture
# Params:
# RDI: int tile_type
.global getTileTexture
getTileTexture:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 cmpl $1, %edi
 je GTTGRASS
 cmpl $2, %edi
 je GTTESS
 jmp GTTGRASS
GTTGRASS:
 movq $5, %rax
 jmp GTTEND
GTTESS:
 movq $1, %rax
GTTEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Update Object GL
# Params:
# RDI: int vertices_size
# RSI: int step
# RDX: gl_object **object
# RCX: gl_game_state *gl_state
.global updateObjectGL
updateObjectGL:
# Prologue
 pushq %rbp
 movq %rsp, %rbp
 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx

 cmpq $0, (%rdx)
 jne UOGLEND
 movq %rdi, %rsi
 movq %rdx, %rdi
 call createGLObject
 movq -24(%rbp), %rax
 movq (%rax), %rax
 movq -16(%rbp), %rsi
 movl %esi, 40(%rax)
 movq %rax, %rdi
 movq -32(%rbp), %rax
 leaq 8(%rax), %rsi
 call addGLObject


UOGLEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# update map tile gl
# params:
# RDI: int i
# RSI: int j
# RDX: GLfloat **iter_v
# RCX: game_state *state
# R8: gl_game_state *gl_state
.global updateMapTileGL
updateMapTileGL:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx
 pushq %r8

 imul $100, %rdi
 addq %rsi, %rdi
 addq %rcx, %rdi
 movq $0, %rax
 movb (%rdi), %al
 pushq %rax
 cmpb $0, %al
 je UMTEND
 pushq $0
 pushq $0
 movq -8(%rbp), %rsi
 movq -16(%rbp), %rdi
 movss 11760(%rcx), %xmm0
 movss 11764(%rcx), %xmm1
 movss 11784(%rcx), %xmm2
 leaq -56(%rbp), %rdx
 leaq -64(%rbp), %rcx
 call hexGridToViewport
 movq -48(%rbp), %rax
 cmpb $2, %al
 je UMTE
 cmpb $4, %al
 je UMTF
 cmpb $5, %al
 je UMTW
 cmpb $6, %al
 je UMTI
 movq $1, %rax
 jmp UMTCONT
UMTE:
 movq $10, %rax
 jmp UMTCONT
UMTF:
 movq $8, %rax
 jmp UMTCONT
UMTI:
 movq $10, %rax
 jmp UMTCONT
UMTW:
 movq $11, %rax
UMTCONT:
 imul $12, %rax
 movq $88, %r10
 addq -40(%rbp), %r10
 movq (%r10), %r10
 addq %r10, %rax
 movss (%rax), %xmm0
 movss 4(%rax), %xmm1
 movss 8(%rax), %xmm2
 movss F001, %xmm3
 movss F001, %xmm4
 movq -48(%rbp), %rdi
 cmpb $1, %dil
 je UMTTW
 cmpb $2, %dil
 je UMTTW
 movss F0, %xmm4
UMTTW:
 call getTileTexture
 movq %rax, %rdi
 movss %xmm4, %xmm8
 movss %xmm0, %xmm3
 movss %xmm1, %xmm4
 movss %xmm2, %xmm5
 call loadSubtextureBounds
 pushq %rax
 movss F001, %xmm6
 movss -56(%rbp), %xmm0
 movss -64(%rbp), %xmm1
 movss F0, %xmm2
 movss (%rax), %xmm7
 movq -32(%rbp), %rsi
 movss 11784(%rsi), %xmm9
 mulss FPNINE, %xmm9
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm9, (%rsp)
 subq $8, %rsp
 movq $0, (%rsp)
 movss 12(%rax), %xmm9
 movss %xmm9, (%rsp)
 movss 8(%rax), %xmm9
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm9, (%rsp)
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm8, (%rsp)
 movss 4(%rax), %xmm9
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm9, (%rsp)
 movq $0, %rdi
 movq -24(%rbp), %rsi
 movq (%rsi), %rsi
 call buildHexagonVertices
 movq -24(%rbp), %rdi
 movq %rax, (%rdi)
 movq -72(%rbp), %rdi
 call free
UMTEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret


.global freeMapVertices
freeMapVertices: call free

# Update Map GL
# Params:
# RDI: game_state *state
# RSI: gl_game_state *gl_state
.global updateMapGL
updateMapGL:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 pushq $0
 pushq $0
 pushq $0
 pushq $24000
 movq -48(%rbp), %rdi
 movq $6, %rsi
 movq -16(%rbp), %rdx
 addq $24, %rdx
 movq -16(%rbp), %rcx
 call updateObjectGL
 pushq $0
 movq -16(%rbp), %rdi
 addq $24, %rdi
 movq (%rdi), %rdi
 movq (%rdi), %rdi
 movq %rdi, -56(%rbp)
UMGLILOOP:
 movq $0, -32(%rbp)
UMGLJLOOP:
 movq -24(%rbp), %rdi
 movq -32(%rbp), %rsi
 leaq -56(%rbp), %rdx
 movq -16(%rbp), %r8
 movq -8(%rbp), %rcx
 call updateMapTileGL
 incq -32(%rbp)
 cmpq $20, -32(%rbp)
 jl UMGLJLOOP
 incq -24(%rbp)
 cmpq $20, -24(%rbp)
 jl UMGLILOOP

# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret


# update Highlight
# params:
# RDI: game_state *state
# RSI: gl_game_state *gl_state
.global updateHighlight
updateHighlight:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 cmpl $-1, 11812(%rdi)
 je UCELSE

 pushq $0
 pushq $0
 movq $0, %rax
 movl 11812(%rdi), %eax
 imul $12, %rax
 addq %rdi, %rax
 addq $10192, %rax
 movq $0, %rdi
 movq $0, %rsi
 movb 2(%rax), %dil
 movb 3(%rax), %sil
 movq -8(%rbp), %rax
 movss 11760(%rax), %xmm0
 movss 11764(%rax), %xmm1
 movss 11784(%rax), %xmm2
 leaq -24(%rbp), %rdx
 leaq -32(%rbp), %rcx
 call hexGridToViewport

 movq -16(%rbp), %rax
 movq 88(%rax), %rax
 addq $84, %rax
 movss (%rax), %xmm3
 movss 4(%rax), %xmm4
 movss 8(%rax), %xmm5
 movss F1, %xmm6

 movq $60, %rdi
 MOVQ $6, %RSI
 MOVQ -16(%RBP), %RAX
 LEAQ 32(%RAX), %RDX
 MOVQ -16(%RBP), %RCX
 CALL updateObjectGL

 MOVQ -16(%RBP), %RAX
 MOVQ 32(%RAX), %RAX
 MOVL $0x0002, %EDX
 MOVL %EDX, 44(%RAX)

 MOVQ $0, %RDI
 MOVQ (%RAX), %RSI

 MOVQ -8(%RBP), %RAX
 MOVSS 11784(%RAX), %XMM0
 SUBQ $8, %RSP
 MOVQ $0, (%RSP)
 MOVSS %XMM0, (%RSP)

 MOVSS FZERO, %XMM0
 SUBQ $8, %RSP
 MOVQ $0, (%RSP)
 MOVSS %XMM0, (%RSP)


 MOVSS FZERO, %XMM0
 SUBQ $8, %RSP
 MOVQ $0, (%RSP)
 MOVSS %XMM0, (%RSP)


 MOVSS FZERO, %XMM0
 SUBQ $8, %RSP
 MOVQ $0, (%RSP)
 MOVSS %XMM0, (%RSP)


 MOVSS FZERO, %XMM0
 SUBQ $8, %RSP
 MOVQ $0, (%RSP)
 MOVSS %XMM0, (%RSP)

 MOVSS -24(%RBP), %XMM0
 MOVSS -32(%RBP), %XMM1
 MOVSS FP2, %XMM2
 MOVSS FZERO, %XMM7
 CALL buildHexagonVertices

 jmp UCEND
UCELSE:
 cmpq $0, 32(%rsi)
 je UCEND
 leaq 8(%rsi), %rdi
 movq 32(%rsi), %rsi
 call removeGLObject
 movq -16(%rbp), %rax
 movq $0, 32(%rax)


UCEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret


.data
BCLRR: .float 0.07
BCLRG: .float 0.13
BCLRB: .float 0.17
.text







.global updateUnitGL
updateUnitGL:
 pushq %rbp
 movq %rsp, %rbp

 subq $256, %rsp

 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)
 movq %rdx, -24(%rbp)
 movq %rcx, -32(%rbp)
 movq %r8, -40(%rbp)


 movq -8(%rbp), %rax
 imul $12, %rax
 movq -32(%rbp), %rdx
 addq $10192, %rdx
 addq %rax, %rdx
 movq %rdx, -48(%rbp)

 movq -48(%rbp), %rax
 movq $0, %rdi
 movb 2(%rax), %dil

 movq -48(%rbp), %rax
 movq $0, %rsi
 movb 3(%rax), %sil

 movq -32(%rbp), %rax
 movss 11760(%rax), %xmm0

 movq -32(%rbp), %rax
 movss 11764(%rax), %xmm1

 movq -32(%rbp), %rax
 movss 11784(%rax), %xmm2

 leaq -56(%rbp), %rdx
 leaq -64(%rbp), %rcx

 call hexGridToViewport

 movq -48(%rbp), %rax
 movq $0, %rdx
 movb 5(%rax), %dil

 movq -40(%rbp), %rax
 movq 88(%rax), %rsi

 call getUnitTeamColor
 imul $12, %rax
 movq %rax, -72(%rbp)

 movq -40(%rbp), %rdx
 addq 88(%rdx), %rax
 movss (%rax), %xmm0
 movss %xmm0, -76(%rbp)

 movss 4(%rax), %xmm0
 movss %xmm0, -80(%rbp)

 movss 8(%rax), %xmm0
 movss %xmm0, -84(%rbp)

 movss FONE, %xmm0
 movss %xmm0, -88(%rbp)

 movq -48(%rbp), %rax

 movq $0, %rdi
 movb 4(%rax), %dil
 call getUnitTexture
 movq %rax, %rdi
 call loadSubtextureBounds
 movq %rax, -96(%rbp)

 movq -24(%rbp), %rax
 movq (%rax), %rsi

 movq -48(%rbp), %rax
 movq $0, %rdi
 movb 11(%rax), %dil

 movq -32(%rbp), %rax
 movss 11784(%rax), %xmm0
 mulss F09, %xmm0

 subq $8, %rsp
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)

 subq $8, %rsp
 movss F00, %xmm0
 movss %xmm0, (%rsp)

 subq $8, %rsp
 movss F00, %xmm0
 movss %xmm0, (%rsp)

 subq $8, %rsp
 movss F00, %xmm0
 movss %xmm0, (%rsp)

 subq $8, %rsp
 movss F00, %xmm0
 movss %xmm0, (%rsp)

 movss F00, %xmm7

 movss -88(%rbp), %xmm6
 movss -84(%rbp), %xmm5
 movss -80(%rbp), %xmm4
 movss -76(%rbp), %xmm3
 movss F02, %xmm2
 movss -64(%rbp), %xmm1
 movss -56(%rbp), %xmm0

 call buildHexagonVertices
 addq $48, %rsp
 movq -24(%rbp), %rdx
 movq %rax, (%rdx)

 movss FONE, %xmm0
 movss %xmm0, -88(%rbp)




 movq -16(%rbp), %rax
 movq (%rax), %rsi

 movq -48(%rbp), %rax
 movq $0, %rdi
 movb 11(%rax), %dil

 movq -32(%rbp), %rax
 movss 11784(%rax), %xmm0
 mulss F08, %xmm0

 subq $8, %rsp
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)

 subq $8, %rsp
 movq -96(%rbp), %rax
 movss 12(%rax), %xmm0
 movss %xmm0, (%rsp)

 subq $8, %rsp
 movq -96(%rbp), %rax
 movss 8(%rax), %xmm0
 movss %xmm0, (%rsp)

 subq $8, %rsp
 movss FONE, %xmm0
 movss %xmm0, (%rsp)

 subq $8, %rsp
 movq -96(%rbp), %rax
 movss 4(%rax), %xmm0
 movss %xmm0, (%rsp)

 movq -96(%rbp), %rax
 movss (%rax), %xmm7

 movss -88(%rbp), %xmm6
 movss -84(%rbp), %xmm5
 movss -80(%rbp), %xmm4
 movss -76(%rbp), %xmm3
 movss F02, %xmm2
 movss -64(%rbp), %xmm1
 movss -56(%rbp), %xmm0
 call buildHexagonVertices
 addq $48, %rsp
 movq -16(%rbp), %rdx
 movq %rax, (%rdx)

 movq -96(%rbp), %rdi
 call free

 movq %rbp, %rsp
 popq %rbp
 ret


.global updateUnitListGL
updateUnitListGL:
 pushq %rbp
 movq %rsp, %rbp

 subq $64, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)

 movq -8(%rbp), %rax
 movq $0, %rdx
 movl 11808(%rax), %edx
 imull $60, %edx
 movq %rdx, -40(%rbp)

 movq $24000, %rdi
 movq $6, %rsi
 movq -16(%rbp), %rax
 leaq 56(%rax), %rdx
 movq -16(%rbp), %rcx
 call updateObjectGL


 movq $24000, %rdi
 movq $6, %rsi
 movq -16(%rbp), %rax
 leaq 64(%rax), %rdx
 movq -16(%rbp), %rcx
 call updateObjectGL

 movq -16(%rbp), %rax
 movq 64(%rax), %rax
 movl $0x0002, 44(%rax)

 movq -16(%rbp), %rax
 movq 64(%rax), %rax
 movl -40(%rbp), %edx
 movl %edx, 8(%rax)

 movq -16(%rbp), %rax
 movq 56(%rax), %rax
 movl -40(%rbp), %edx
 movl %edx, 8(%rax)

 movq -16(%rbp), %rax
 movq 56(%rax), %rax
 movq (%rax), %rax
 movq %rax, -48(%rbp)

 movq -16(%rbp), %rax
 movq 64(%rax), %rax
 movq (%rax), %rax
 movq %rax, -56(%rbp)

 movq $0, -24(%rbp)

FORULLG:
 movq -8(%rbp), %rax
 movq 11808(%rax), %rax
 cmpl %eax, -24(%rbp)
 jge ENDFORULLG

 movq -24(%rbp), %rdi
 leaq -48(%rbp), %rsi
 leaq -56(%rbp), %rdx
 movq -8(%rbp), %rcx
 movq -16(%rbp), %r8
 call updateUnitGL

 incq -24(%rbp)
 jmp FORULLG

ENDFORULLG:

 movq -16(%rbp), %rax
 movq 56(%rax), %rax
 movq $0, %rdx
 movl -40(%rbp), %edx
 movl %edx, 8(%rax)

 movq -16(%rbp), %rax
 movq 64(%rax), %rax
 movq $0, %rdx
 movl -40(%rbp), %edx
 movl %edx, 8(%rax)

 movq %rbp, %rsp
 popq %rbp
 ret


.global getUnitTexture
getUnitTexture:
 pushq %rbp
 movq %rsp, %rbp

 cmpq $0, %rdi
 je CUNIT_WORKSHOP
 cmpq $1, %rdi
 je CUNIT_GOLEM
 cmpq $2, %rdi
 je CUNIT_WISP
 cmpq $3, %rdi
 je CUNIT_UNBOUND_ELEMENTAL
 cmpq $4, %rdi
 je CUNIT_FIRE_ELEMENTAL
 cmpq $5, %rdi
 je CUNIT_WATER_ELEMENTAL
 cmpq $6, %rdi
 je CUNIT_ICE_ELEMENTAL
 cmpq $7, %rdi
 je CUNIT_ARCANE_ELEMENTAL


CUNIT_WORKSHOP:
 movq $10, %rax
 jmp ENDGUT
CUNIT_GOLEM:
 movq $4, %rax
 jmp ENDGUT
CUNIT_WISP:
 movq $11, %rax
 jmp ENDGUT
CUNIT_UNBOUND_ELEMENTAL:
 movq $8, %rax
 jmp ENDGUT
CUNIT_FIRE_ELEMENTAL:
 movq $2, %rax
 jmp ENDGUT
CUNIT_WATER_ELEMENTAL:
 movq $9, %rax
 jmp ENDGUT
CUNIT_ICE_ELEMENTAL:
 movq $6, %rax
 jmp ENDGUT
CUNIT_ARCANE_ELEMENTAL:
 movq $0, %rax



ENDGUT:
 movq %rbp, %rsp
 popq %rbp
 ret

.global getCursorColor
getCursorColor:
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi

 movq $0, %rax
 movl 11820(%rdi), %eax
 movq %rdi, %rdx
 MOVQ %RAX, %RDI
 MOVQ $0, %RAX
 MOVL 11824(%RDX), %EAX
 MOVQ %RAX, %RSI
 CALL findUnit
 pushq %rax
 pushq $0

 movq -8(%rbp), %rax
 cmpl $1, 11836(%rax)
 jne GCCMOVE
 movq $0, %rdi
 movq $0, %rsi
 movl 11832(%rax), %edi
 movl 11812(%rax), %esi
 imul $12, %rsi
 addq %rax, %rsi
 addq $10192, %rsi
 cmpb 8(%rsi), %dil
 jg GCCMRED
 je GCCMYELW
 jl GCCMWHITE

GCCMRED:
 movq $8, -24(%rbp)
 jmp GCCMTGT
GCCMYELW:
 movq $7, -24(%rbp)
 jmp GCCMTGT
GCCMWHITE:
 movq $1, -24(%rbp)
 jmp GCCMTGT
GCCMTGT:
 cmpl $-1, -16(%rbp)
 je GCCMOVE
 movq $8, -24(%rbp)

GCCMOVE:
 movq -8(%rbp), %rax
 cmpl $2, 11836(%rax)
 jne GCCATK


 movq $0, %rdi
 movl 11832(%rax), %edi
 movq $0, %rsi
 movl 11812(%rax), %esi
 imul $12, %rsi
 addq %rax, %rsi
 addq $10192, %rsi
 cmpl $-1, -16(%rbp)
 jne GCCATKELSE
 cmpb 6(%rsi), %dil
 jg GCCATKELSE
 jmp GCCLGRY

GCCLGRY:
 movq $5, -24(%rbp)
 jmp GCCATK
GCCATKELSE:
 cmpl $-1, -16(%rbp)
 je GCCATKRED
 cmpb 6(%rsi), %dil
 jg GCCATKRED
 movq -16(%rbp), %rdx
 imul $12, %rdx
 addq -8(%rbp), %rdx
 addq $10192, %rdx
 movb 5(%rdx), %cl
 cmpb %cl, 5(%rsi)
 je GCCATKRED
 movq $6, -24(%rbp)
 jmp GCCATK
GCCATKRED:
 movq $8, -24(%rbp)
GCCATK:
 movq -24(%rbp), %rax

 movq %rbp, %rsp
 popq %rbp
 ret

.global updateStoreSizeGL
updateStoreSizeGL:

 pushq %rbp
 movq %rsp, %rbp

 subq $32, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)

 movq %rdi, %r8
 movq $0, %rdi
 movl %r8d, %edi

 movq $0, %rax
 movl 100(%rsi), %eax
 cmpl %eax, %edi
 jl ENDSSG

 leaq 100(%rsi), %rax
 movq %rax, -24(%rbp)

 movq $0, %rdi
 movl -8(%rbp), %edi
 call nextPowerOf2
 movq -24(%rbp), %rdx
 movl %eax, (%rdx)

 movq $0x8892, %rdi
 shlq $2, %rax
 movq %rax, %rsi
 movq $0, %rdx
 movq $0x88E8, %rcx
 call glBufferData

ENDSSG:
 movq %rbp, %rsp
 popq %rbp
 ret

.global updateGLVertices
updateGLVertices:

 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 call updateMapGL
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 call updateUnitListGL
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 call updateFogOfWar
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 call updateCursor
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 call updateHighlight
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 call updateForeground
 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 call updateHelp

 movq %rbp, %rsp
 popq %rbp
 ret

.global updateGL

updateGL:

 pushq %rbp
 movq %rsp, %rbp

 subq $64, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)

 call updateGLVertices

 movq BCLRR, %xmm0
 movq BCLRG, %xmm1
 movq BCLRB, %xmm2
 movq FONE, %xmm3
 call glClearColor

 movq $0x00004000, %rdi
 call glClear

 movq $0x84C0, %rdi
 call glActiveTexture

 movq $0x0DE1, %rdi
 movq -16(%rbp), %rsi
 movq 140(%rsi), %rsi
 call glBindTexture

 movq -16(%rbp), %rax
 movq 128(%rax), %rdi
 call glBindVertexArray

 movq $0x8892, %rdi
 movq -16(%rbp), %rax
 movq 132(%rax), %rsi
 call glBindBuffer

 movq -16(%rbp), %rax
 movq $0, %rdi
 movl 136(%rax), %edi
 movq $ISTEXT, %rsi
 call glGetUniformLocation

 movq %rax, %rdi
 movq $0, %rsi
 call glUniform1i

 movq -16(%rbp), %rax
 movq 8(%rax), %rax
 movq %rax, -40(%rbp)

WHILEUGL:
 cmpq $0, -40(%rbp)
 je ENDWHILEUGL

 movq -40(%rbp), %rax
 movl 8(%rax), %edi
 movq -16(%rbp), %rsi
 call updateStoreSizeGL

 movq $0x8892, %rdi
 movq $0, %rsi
 movq -40(%rbp), %rdx
 movq 8(%rdx), %rdx
 shl $2, %rdx
 movq -40(%rbp), %rcx
 movq (%rcx), %rcx
 call glBufferSubData

 movq $0, -48(%rbp)
FORUGL:
 movq -40(%rbp), %rax
 movq 8(%rax), %rax
 movq $0, %rdx
 movq $10, %rcx
 divq %rcx
 cmpl %eax, -48(%rbp)
 jge ENDFORUGL

 movq -40(%rbp), %rax
 movq 44(%rax), %rdi
 movq -48(%rbp), %rsi
 movq -40(%rbp), %rax
 movq 40(%rax), %rdx
 call glDrawArrays

 movq -40(%rbp), %rax
 movq 40(%rax), %rax
 addq %rax, -48(%rbp)
 jmp FORUGL
ENDFORUGL:


 movq -40(%rbp), %rax
 movq 16(%rax), %rax
 movq %rax,-40(%rbp)
 jmp WHILEUGL
ENDWHILEUGL:

 movq $0x8892, %rdi
 movq $0, %rsi
 call glBindBuffer

 movq $0, %rdi
 call glBindVertexArray

 movq $0x0DE1, %rdi
 movq $0, %rsi
 call glBindTexture

 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 call updateTexts

 movq -8(%rbp), %rdi
 movq -16(%rbp), %rsi
 call drawTexts


 movq %rbp, %rsp
 popq %rbp
 ret


.global freeGL
freeGL:
 pushq %rbp
 movq %rbp, %rsp
 movq %rsp, %rbp
 popq %rbp
 ret

# Update Cursor
# Params:
# RDI: game_state *state
# RSI: gl_game_state *gl_state
.global updateCursor
updateCursor:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi
 movq $0, %rax
 movl 11828(%rdi), %eax
 cmpq $0, %rax
 je GLUCELSE
 subq $16, %rsp
 movq %rdi, %rax
 movq $0, %rdi
 movl 11820(%rax), %edi
 movq $0, %rsi
 movl 11824(%rax), %esi
 leaq -24(%rbp), %rdx
 leaq -32(%rbp), %rcx
 movss 11760(%rax), %xmm0
 movss 11764(%rax), %xmm1
 movss 11784(%rax), %xmm2
 call hexGridToViewport

 movq -8(%rbp), %rdi
 call getCursorColor
 imul $12, %rax
 movq -16(%rbp), %rdi
 movq 88(%rdi), %rdi
 addq %rax, %rdi
 movss (%rdi), %xmm3
 movss 4(%rdi), %xmm4
 movss 8(%rdi), %xmm5
 movss FP6, %xmm6
 movq $60, %rdi
 movq $6, %rsi
 movq -16(%rbp), %rax
 leaq 72(%rax), %rdx
 movq -16(%rbp), %rcx
 call updateObjectGL
 movq -8(%rbp), %rax
 movss 11784(%rax), %xmm0
 mulss FP55, %xmm0
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)
 movss F0, %xmm0
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)
 movss F0, %xmm0
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)
 movss F0, %xmm0
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)
 movss F0, %xmm0
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)
 movss -24(%rbp), %xmm0
 movss -32(%rbp), %xmm1
 movss FP4, %xmm2
 movss F0, %xmm7
 movq $0, %rdi
 movq -16(%rbp), %rax
 movq 72(%rax), %rax
 movq (%rax), %rsi
 call buildHexagonVertices

 jmp GLUCEND
GLUCELSE:
 cmpq $0, 72(%rsi)
 je GLUCEND
 leaq 8(%rsi), %rdi
 movq 72(%rsi), %rsi
 call removeGLObject
 movq -16(%rbp), %rsi
 movq $0, 72(%rsi)
GLUCEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Update Fog Tile GL
# Params:
# RDI: int i
# RSI: int j
# RDX: GLfloat **iter_v
# RCX: game_state *state
# R8: gl_game_state *gl_state
.global updateFogTileGL
updateFogTileGL:
# Prologue
 pushq %rbp
 movq %rsp, %rbp
 pushq %rdi
 pushq %rsi
 pushq %rdx
 pushq %rcx
 pushq %r8
 pushq $1
 imul $100, %rdi
 addq %rsi, %rdi
 addq %rcx, %rdi
 movq $0, %rax
 movb (%rdi), %al
 pushq %rax
 pushq $0
 pushq $0

 movq $0, %rax
 movl 11808(%rcx), %eax
 movq $0, %r8
 movq %rax, %r9
UFTGLLOOP:
 movq %r8, %rcx
 imul $12, %rcx
 addq $10192, %rcx
 addq -32(%rbp), %rcx
 pushq %rcx
 movq $0, %rdi
 movq $0, %rsi
 movb 2(%rcx), %dil
 movb 3(%rcx), %sil
 movq -8(%rbp), %rcx
 movq -16(%rbp), %rdx
 call hexDistance
 popq %rcx
 cmpb 10(%rcx), %al
 jg UFTGLFOR
 movq -32(%rbp), %rdx
 movb 5(%rcx), %dil
 cmpb %dil, 11800(%rdx)
 jne UFTGLFOR
 movq $0, -48(%rbp)
UFTGLFOR:
 incq %r8
 cmpq %r9, %r8
 jl UFTGLLOOP
 movq -32(%rbp), %rdi
 cmpl $4, 11836(%rdi)
 jne UFTGLTRANS
 movq $1, -48(%rbp)
UFTGLTRANS:
 cmpq $0, -48(%rbp)
 je UFTGLEND
 cmpq $0, -56(%rbp)
 je UFTGLEND
 movq -16(%rbp), %rdi
 movq -8(%rbp), %rsi
 movq -32(%rbp), %rax
 movss 11760(%rax), %xmm0
 movss 11764(%rax), %xmm1
 movss 11784(%rax), %xmm2
 leaq -64(%rbp), %rdx
 leaq -72(%rbp), %rcx
 call hexGridToViewport

 movq -40(%rbp), %rax
 movq 40(%rax), %rax
 addl $60, 8(%rax)

 movq $3, %rdi
 call loadSubtextureBounds
 pushq %rax

 movq -32(%rbp), %rdi
 movss 11784(%rdi), %xmm0
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)
 movq 8(%rsp), %rsi
 movss 12(%rsi), %xmm0
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)
 movss 8(%rsi), %xmm0
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)
 subq $8, %rsp
 movq $0, (%rsp)
 movss F1, %xmm0
 movss %xmm0, (%rsp)
 movss 4(%rsi), %xmm0
 subq $8, %rsp
 movq $0, (%rsp)
 movss %xmm0, (%rsp)
 movss -64(%rbp), %xmm0
 movss -72(%rbp), %xmm1
 movss F0, %xmm2
 movss FP15, %xmm3
 movss FP15, %xmm4
 movss FP15, %xmm5
 movss F1, %xmm6
 movss (%rsi), %xmm7
 movq $0, %rdi
 movq -24(%rbp), %rsi
 movq (%rsi), %rsi
 call buildHexagonVertices
 movq -24(%rbp), %rdi
 movq %rax, (%rdi)
 movq -80(%rbp), %rdi
 call free
UFTGLEND:
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

# Update Fog Of War
# Params:
# RDI: game_state *state
# RSI: gl_game_state *gl_state
.global updateFogOfWar
updateFogOfWar:
# Prologue
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi

 movq $24000, %rdi
 movq $6, %rsi
 movq -16(%rbp), %rcx
 leaq 40(%rcx), %rdx
 call updateObjectGL
 movq -16(%rbp), %rdi
 movq 40(%rdi), %rdi
 movl $0, 8(%rdi)
 movq (%rdi), %rdi
 pushq %rdi
 subq $24, %rsp
 movq $0, -32(%rbp)
UFOWILOOP:
 movq $0, -40(%rbp)
UFOWJLOOP:
 movq -32(%rbp), %rdi
 movq -40(%rbp), %rsi
 leaq -24(%rbp), %rdx
 movq -8(%rbp), %rcx
 movq -16(%rbp), %r8
 call updateFogTileGL
 incq -40(%rbp)
 cmpq $20, -40(%rbp)
 jl UFOWJLOOP
 incq -32(%rbp)
 cmpq $20, -32(%rbp)
 jl UFOWILOOP
# Epilogue
 movq %rbp, %rsp
 popq %rbp
 ret

.data
FNONE: .float -1
SIZEX: .float 2
SIZEY: .float 0.3
COLOR: .float 0.1
FN09: .float -0.9
.text
.global updateForeground
updateForeground:
 pushq %rbp
 movq %rsp, %rbp

 subq $64, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)

 movq $40, %rdi
 movq $4, %rsi
 movq -16(%rbp), %rax
 leaq 48(%rax), %rdx
 movq -16(%rbp), %rcx
 call updateObjectGL

 movss FNONE, %xmm0
 movss FNONE, %xmm1
 movss FN09, %xmm2
 movss SIZEX, %xmm3
 movss SIZEY, %xmm4
 movss COLOR, %xmm5
 movss COLOR, %xmm6
 movss COLOR, %xmm7

 subq $8, %rsp
 movq -16(%rbp), %rax
 movq 48(%rax), %rax
 movq (%rax), %rdi

 subq $8, %rsp
 movss F00, %xmm8
 movss %xmm8, (%rsp)

 subq $8, %rsp
 movss F00, %xmm8
 movss %xmm8, (%rsp)

 subq $8, %rsp
 movss F00, %xmm8
 movss %xmm8, (%rsp)

 subq $8, %rsp
 movss F00, %xmm8
 movss %xmm8, (%rsp)

 subq $8, %rsp
 movss FONE, %xmm8
 movss %xmm8, (%rsp)
 call buildRectVertices

 movq %rbp, %rsp
 popq %rbp
 ret


.data
SIZEXY: .float 1.6
FN08: .float -0.8
.text
.global updateHelp
updateHelp:
 pushq %rbp
 movq %rsp, %rbp

 pushq %rdi
 pushq %rsi

 cmpl $1, 11840(%rdi)
 jne ELSEHP

 subq $64, %rsp
 movq %rdi, -8(%rbp)
 movq %rsi, -16(%rbp)

 movq $40, %rdi
 movq $4, %rsi
 movq -16(%rbp), %rax
 leaq 80(%rax), %rdx
 movq -16(%rbp), %rcx
 call updateObjectGL

 movss FN08, %xmm0
 movss FN08, %xmm1
 movss FN09, %xmm2
 movss SIZEXY, %xmm3
 movss SIZEXY, %xmm4
 movss COLOR, %xmm5
 movss COLOR, %xmm6
 movss COLOR, %xmm7

 subq $8, %rsp
 movq -16(%rbp), %rax
 movq 80(%rax), %rax
 movq (%rax), %rdi

 subq $8, %rsp
 movss F00, %xmm8
 movss %xmm8, (%rsp)

 subq $8, %rsp
 movss F00, %xmm8
 movss %xmm8, (%rsp)

 subq $8, %rsp
 movss F00, %xmm8
 movss %xmm8, (%rsp)

 subq $8, %rsp
 movss F00, %xmm8
 movss %xmm8, (%rsp)

 subq $8, %rsp
 movss F06, %xmm8
 movss %xmm8, (%rsp)
 call buildRectVertices
 jmp ENDHP
ELSEHP:
 cmpq $0, 80(%rsi)
 je ENDHP
 leaq 8(%rsi), %rdi
 movq 80(%rsi), %rsi
 call removeGLObject
 movq -16(%rbp), %rax
 movq $0, 80(%rax)

ENDHP:
 movq %rbp, %rsp
 popq %rbp
 ret
# 10 "main.S" 2

.data
input: .skip 88
state: .skip 11872
gl_state: .skip 3768
.text
D00: .double 0.0
.global main
main:

 pushq %rbp
 movq %rsp, %rbp

 subq $64, %rsp


 movq $state, %rdi
 call initializeGameState


 leaq -8(%rbp), %rdi
 movq $state, %rsi
 movq $gl_state, %rdx
 call initializeGraphics


 movq -8(%rbp), %rdi
 movq $input, %rsi
 call glfwSetWindowUserPointer


 movq -8(%rbp), %rdi
 movq $scrollCallback, %rsi
 call glfwSetScrollCallback


 movq $state, %rdi
 call generateTestMap

 movq $state, %rdi
 call turn


 call glfwGetTime
 movsd %xmm0, -16(%rbp)
 movsd %xmm0, -24(%rbp)
 movsd D00, %xmm0
 movsd %xmm0, -32(%rbp)
 movsd D00, %xmm0
 movsd %xmm0, -40(%rbp)


MAIN_LOOP:
 movq -8(%rbp), %rdi
 call glfwWindowShouldClose
 cmpl $0, %eax
 jne END_MAIN_LOOP
 movq $state, %rax
 cmpl $0, 11868(%rax)
 jne END_MAIN_LOOP


 call glfwGetTime
 movsd %xmm0, -40(%rbp)
 movsd %xmm0, %xmm1
 subsd -16(%rbp), %xmm0
 movsd %xmm1, -16(%rbp)
 movsd %xmm0, -32(%rbp)

 movq $state, %rax
 movsd %xmm0, 11856(%rax)


 movq -8(%rbp), %rdi
 movq $input, %rsi
 call updateInput


 movq $input, %rdi
 movq $state, %rsi
 call processInput


 movq $state, %rdi
 movq $gl_state, %rsi
 call updateGL

 movq -8(%rbp), %rdi
 call glfwSwapBuffers

 call glfwPollEvents

 jmp MAIN_LOOP
END_MAIN_LOOP:


 movq $gl_state, %rdi
 call freeGL
 movq -8(%rbp), %rdi
 movq $gl_state, %rsi
 call finalizeGraphics

 movq %rbp, %rsp
 popq %rbp
 movq $0, %rdi
 call exit
